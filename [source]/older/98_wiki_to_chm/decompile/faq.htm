<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>Часто задаваемые вопросы (&quot;FAQ&quot;)</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=Windows-1251" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />

<script type="text/javascript" src="helpman_topicinit.js"></script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#808080">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1">Часто задаваемые вопросы (&quot;FAQ&quot;)</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="about.htm">Top</a>&nbsp;
     <a href="tips.htm">Previous</a>&nbsp;
     <a href="dict.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p><span style="font-weight: bold;">Я пишу такое условие &quot;if a=8 or 9 or 10: ...&quot;, а происходит ошибка. Почему?</span></p>
<p>&nbsp;</p>
<p>Как и во всех языках программирования, подобная запись недопустима. Нужно писать так:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if a=8 or a=9 or a=10: ...</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать плэйлист (чтобы при окончании одной мелодии воспроизводилась другая, затем ещё одна и т.д.)?</span></p>
<p>&nbsp;</p>
<p>См. примеры в папке &quot;%AppPath%\Demos&quot; (файлы &quot;playlist1.gam, playlist2.gam, playlist3.gam&quot;).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать, чтобы при выборе предмета в списке происходило нужное мне действие?</span></p>
<p>&nbsp;</p>
<p>На <a href="dict.htm#location_sel_act_obj">локации-обработчике выбора предмета</a> (&quot;$ONOBJSEL&quot;) в поле &quot;Выполнить при посещении&quot; введите:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if $selobj='предмет': ! нужные операторы через &</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;! если нужно, то вставьте подобные условия</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;unselect</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать показ анимации в игре (последовательно с паузой вывести картинки)?</span></p>
<p>&nbsp;</p>
<p>1) В нужном месте <a href="dict.htm#location">локации</a> введите:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;view '[картинка 1 (название файла)]'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;wait 500</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;view '[картинка 2]'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;wait 500</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;view '[картинка 3]'</p>
<p>&nbsp;</p>
<p>2) С помощью цикла:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;i=0</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;:loop</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if i&lt;10:</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;wait 500</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;view 'pic&lt;&lt;i&gt;&gt;.jpg'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;i=i+1</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;jump 'loop'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p>3) Поддерживаются анимированные GIF-файлы. Т.е. $BACKIMAGE='mult.gif' или view 'mult.gif'</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать в игре голод / увеличение числа жизней со временем?</span></p>
<p>&nbsp;</p>
<p>1) Добавить следующий код на <a href="dict.htm#location_newloc">локацию-обработчик перехода на новую локацию</a>:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;голод=голод-1</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if голод&lt;10:pl 'Вы голодны!'</p>
<p>&nbsp;</p>
<p>2) Сделать аналогичную проверку на <a href="dict.htm#location_counter">локации-счётчике</a>.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как проверить, был ли герой на какой-либо локации?</span></p>
<p>&nbsp;</p>
<p>1) На той <a href="dict.htm#location">локации</a>, которую нужно проверить, введите:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;был_здесь=1</p>
<p>&nbsp;</p>
<p>А на локации, где нужно это проверить:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if был_здесь=1: ! операторы</p>
<p>&nbsp;</p>
<p>2) Через <a href="dict.htm#array">массивы</a>, с индексированием через строки:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;was_here[$curloc]=1</p>
<p>&nbsp;</p>
<p>Проверка:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if was_here['башня']: ! операторы</p>
<p>&nbsp;</p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><table cellspacing="0" cellpadding="0" border="0" style="border: none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" width="50" style="width:50px;"><p><span style="font-weight: bold;">PS:</span></p>
</td>
<td valign="top"><p>Код варианта 2 может быть записан на <a href="dict.htm#location_newloc">локации-обработчике перехода на новую локацию</a>, при этом флаг посещения локации будет устанавливаться автоматически для всех локаций игры.</p>
</td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">У меня в квесте локация-счётчик загромождена до предела. Как я могу облегчить ввод кода?</span></p>
<p>&nbsp;</p>
<p>1) Разбейте код на процедуры, поместите их на разных локациях в поля &quot;Выполнить при посещении&quot;, а затем вызывайте таким образом:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;gosub 'LOC1'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;gosub 'LOC2'</p>
<p>&nbsp;</p>
<p>и т.д.</p>
<p>2) Возможно, часть текущих функций локации-счётчика возможно перенести на <a href="dict.htm#sys_location">другие локации</a>.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">В игре заметно торможение, подвисание. Почему? Как исправить?</span></p>
<p>&nbsp;</p>
<p>Скорее всего, это из-за огромного количества операторов на <a href="dict.htm#location_counter">локации-счётчике</a>. Уберите ненужное, отредактируйте код.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Я создавал квесты на платформе URQ. А как здесь сделать деньги?</span></p>
<p>&nbsp;</p>
<p>В начале игры введите команду:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;addobj 'Деньги'</p>
<p>&nbsp;</p>
<p>Затем, когда нужно, изменяйте переменную &quot;Money&quot;. Например, так:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;Money=Money+1</p>
<p>&nbsp;</p>
<p>На <a href="dict.htm#location_newloc">локации-обработчике выбора предмета</a> сделайте обработку выбора предмета &quot;Деньги&quot;:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if $selobj='Деньги':pl 'У вас &lt;&lt;money&gt;&gt; монет.'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;unselect</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Почему я пишу &quot;set a=4.676&quot;, а происходит ошибка?</span></p>
<p>&nbsp;</p>
<p>Все числовые переменные должны быть целочисленного типа.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Если дробные числа не поддерживаются, то как реализовать рубли / копейки?</span></p>
<p>&nbsp;</p>
<p>Для этого достаточно привести единицы измерения к меньшим. В данном случае, можно представлять деньги количеством копеек. Пример вывода данных:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;money = 1234</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;rub = money/100</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;kop = money - rub*100</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;'У вас &lt;&lt;rub&gt;&gt; руб. &lt;&lt;kop&gt;&gt; коп.'</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как ограничить вместительность рюкзака?</span></p>
<p>&nbsp;</p>
<p>Для этого используйте <a href="dict.htm#functions">функцию</a> &quot;COUNTOBJ&quot;.</p>
<p>1) Проверяйте перед добавлением нового предмета кол-во предметов в рюкзаке, а затем решайте: добавлять ли этот предмет, или сделать что-либо ещё.</p>
<p>2) На <a href="dict.htm#location_obj_add">локации-обработчике добавления предмета</a> удаляйте добавленный предмет:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if countobj=5:delobj $args[0]</p>
<p>&nbsp;</p>
<p>3) Можете написать подпрограмму добавления предмета (например, &quot;ADDOBJECT&quot;) и через параметр передавать ей название нужного предмета. На этой локации, к примеру, такой код:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if countobj=10:</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;! код обработки исключения</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;! ...</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;addobj $args[0]</p>
<p>&nbsp;</p>
<p>Тогда, чтобы добавить какой-либо предмет (например, &quot;ложка&quot;), нужно будет писать:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;gs 'addobject','ложка'</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать меню предмета?</span></p>
<p>&nbsp;</p>
<p>Существует несколько способов задания различных действий для предметов:</p>
<p>1) Дополнительные действия.</p>
<p>Вы обрабатываете выбор предмета (к примеру, на <a href="dict.htm#location_sel_act_obj">локации-обработчике выбора предмета</a>), добавляя (с помощью <a href="dict.htm#operator">оператора</a> &quot;ACT&quot;) новые действия.</p>
<p>2) С помощью строки ввода.</p>
<p>На <a href="dict.htm#location_usercom">локации-обработчике строки ввода</a> проверяются какие-либо команды и, если нужно, выполняются необходимые действия.</p>
<p>3) С помощью меню пользователя.</p>
<p>См. раздел <a href="opsfuncs_menu.htm">&quot;Создание меню для предметов&quot;</a>.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать набор локаций (например, повышение уровня героя) подпрограммой?</span></p>
<p>&nbsp;</p>
<p>Нужно в обработке выбора действия, после которого происходит возврат к основной программе, поставить &quot;GOTO $ARGS[0]&quot;, и вызывать такую &quot;подпрограмму&quot; с параметром $CURLOC.</p>
<p>Т.е. вам, например, нужно сделать универсальную подпрограмму, в которой играющий распределяет очки навыков по умениям. Вы описываете соответствующую локацию (например &quot;Points&quot;), одним из базовых действий на которой является пункт &quot;Далее&quot;. В описании реакции на выбор этого действия, вы пишете</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;goto $args[0]</p>
<p>&nbsp;</p>
<p>и когда нужно перейти на распределение очков</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;goto 'Points',$curloc</p>
<p>&nbsp;</p>
<p>Вызов такой подпрограммы можно сделать в реакции на выделение какого-либо &quot;предмета&quot;.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Напишите, пожалуйста, пример, в котором игрок мог бы перейти на новую локацию только при наличии определённого предмета.</span></p>
<p>&nbsp;</p>
<p>Можно реализовать, например, так:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if obj 'газета':</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;act 'сжечь газету':gt 'сжигание_газет'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p>То же самое:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if obj 'газета':act 'сжечь газету':gt 'сжигание_газет'</p>
<p>&nbsp;</p>
<p>Ещё пример:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;act 'сжечь газету':</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if obj 'газета':gt 'сжигание_газет'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'у вас нет газеты!'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать, чтобы игрок мог перейти на новую локацию только при вводе верного пароля?</span></p>
<p>&nbsp;</p>
<p>Например, так (с созданием дополнительного действия):</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if input('Введите пароль') = 'мой пароль':act 'Пройти':gt 'секретная база'</p>
<p>&nbsp;</p>
<p>Или так (без дополнительного действия):</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if input('Введите пароль') = 'мой пароль':gt 'секретная база'</p>
<p>&nbsp;</p>
<p>С сообщением при неверном пароле:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if input('Введите пароль') = 'мой пароль':</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;gt 'секретная база'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;else</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'Вход запрещен!'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p>Также можно воспользоваться строкой ввода (см. <a href="dict.htm#functions">функцию</a> &quot;$USER_TEXT&quot;).</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Подскажите, что нужно сделать, чтобы при совершении действия на одной локации автоматически появлялась новое действие на другой локации (например, действие &quot;Поднять меч&quot; автоматически добавляло определённое действие на локации &quot;Инвентарь&quot;)?</span></p>
<p>&nbsp;</p>
<p>Один из самых простых вариантов - использование <a href="dict.htm#variable">переменной</a> на обработке действия, т.е. пишете:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;swordtaken=1</p>
<p>&nbsp;</p>
<p>а на той локации, где нужно добавить действие (в поле &quot;Выполнить при посещении&quot;):</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if swordtaken:</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;act 'Действие':</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'!!!!'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как организовать многомерный массив?</span></p>
<p>&nbsp;</p>
<p>1) Самый удобный способ - использование массивов, индексируемых через строки. Например:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;$карта_вещь['&lt;&lt;x&gt;&gt;_&lt;&lt;y&gt;&gt;'] = 'палка'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;карта_нпс['&lt;&lt;x&gt;&gt;,&lt;&lt;y&gt;&gt;,&lt;&lt;z&gt;&gt;'] = 12</p>
<p>&nbsp;</p>
<p>2) Отображение многомерного массива на одномерный. Например:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;$карта_вещь[x+y*ширина] = 'палка'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;карта_нпс[x+y*ширина+z*ширина*высота] = 12</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Есть цикл, в котором добавляются действия. К сожалению, при выборе добавленного действия, используются значения переменных не на момент добавления, а текущие значения. Как решить проблему?</span></p>
<p>&nbsp;</p>
<p>1) Наилучший вариант - вычислять значения переменных по названию выбранного действия:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;i = 0</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;:nextEnemy</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if i &lt; enemies:</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$actdesc='Атаковать &lt;&lt;i + 1&gt;&gt;'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;n_enemy[$actdesc] = i</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;act $actdesc: n = n_enemy[$selact] & xgt 'атака'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;i = i + 1</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;jump 'nextEnemy'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p>2) Добавление действия с помощью оператора &quot;DYNAMIC&quot;:</p>
<p>&nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;i = 0</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;:nextEnemy</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;if i &lt; enemies:</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;dynamic &quot; act 'Атаковать &lt;&lt;i + 1&gt;&gt;': n = &lt;&lt;i&gt;&gt; & xgt 'атака' &quot;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;i = i + 1</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;jump 'nextEnemy'</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;end</p>
<p>&nbsp;</p>
<p>При этом значения всех подвыражений будут вычислены перед добавлением действия.</p>
<p>&nbsp;</p>
<p><span style="font-weight: bold;">Как сделать действие выхода из игры? Т.е. нажал &quot;Выход&quot; и приложение закрылось?</span></p>
<p>&nbsp;</p>
<p>Для выхода можно нажать крестик в самом верху... А в игре выход можно оформить по-другому.</p>
<p>Например, титры сделать, после них пожелания и поздравления. Ну а в конце написать &quot;THE END&quot; без каких-либо действий. Будет очень даже приличный выход.</p>

</td></tr></table>

</body>
</html>
