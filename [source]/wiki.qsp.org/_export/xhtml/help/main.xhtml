<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>help:main</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,main"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Документация QSP"/>
<link rel="start" href="/"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns=help"/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/help/main"/>
<link rel="canonical" href="http://wiki.qsp.su/help/main"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=exportdokuwiki&amp;tseed=f78b359cebbc2738e83150069e877c7f"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shCore.css"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shThemeDefault.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='help';var JSINFO = {"id":"help:main","namespace":"help"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=f78b359cebbc2738e83150069e877c7f&amp;template=exportdokuwiki"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shCore.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js"></script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Содержание</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="#osnovnoe_okno_opisanija">Основное окно описания</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#komandy">Команды</a></div></li>
<li class="level3"><div class="li"><a href="#primer">Пример</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<a href="/help/dynamical" class="wikilink1" title="help:dynamical">Назад: Динамический код</a>
</p>

<h2 class="sectionedit1" id="osnovnoe_okno_opisanija">Основное окно описания</h2>
<div class="level2">

<p>
Это то самое окно, которое используется чаще всего. В него выводятся практически все тексты игры, оно не отключается.
</p>

<p>
Очищается при переходе (<a href="/help/locations?&amp;#perexody" class="wikilink1" title="help:locations">GOTO</a>, <a href="/help/locations?&amp;#perexody" class="wikilink1" title="help:locations">GT</a>) на новую локацию или программно (см. ниже).
</p>

<p>
Вывод в это окно осуществляется следующими способами:
</p>
<ul>
<li class="level1"><div class="li"> Пишем текст в окно &quot;Описание&quot; локации в QGen.</div>
</li>
<li class="level1"><div class="li"> Программно (в окне &quot;Выполнить при посещении&quot; локации в QGen).</div>
</li>
</ul>

</div>
<!-- EDIT1 SECTION "Основное окно описания" [64-816] -->
<h3 class="sectionedit2" id="komandy">Команды</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"><strong>*P</strong> <em>[$текст]</em> - простой вывод текста</div>
</li>
<li class="level1"><div class="li"><strong>*PL</strong> <em>[$текст]</em> - вывод текста, затем переход на новую строку</div>
<ul>
<li class="level2"><div class="li"> Если не указать <em>[$текст]</em>, то это будет переход на новую строку</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"><em>[$текст]</em> - аналогично *PL</div>
</li>
<li class="level1"><div class="li"><strong>*NL</strong> <em>[$текст]</em> - переход на новую строку, затем вывод текста</div>
<ul>
<li class="level2"><div class="li"> Если не указать <em>[$текст]</em>, то это будет переход на новую строку</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>DISABLESCROLL</strong> - если значение переменной не равно 0, то запрещает автопрокрутку текста при его выводе в основное или дополнительное окно описания локации.</div>
<ul>
<li class="level2"><div class="li"> <em>Довольно мутное поведение в классическом плеере - при некоторых обстоятельствах текст и так не прокручивается.</em></div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>$MAINTXT</strong> - возвращает текст, выведенный в окно основного описания</div>
</li>
<li class="level1"><div class="li"> <strong>$DESC(</strong><em>[$локация]</em><strong>)</strong> - возвращает текст базового описания локации с названием <em>[$локация]</em></div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>*CLEAR</strong> или <strong>*CLR</strong> - очищает основное окно описания.</div>
</li>
<li class="level1"><div class="li"> <strong>CLS</strong> - эквивалентно конструкции &quot;CLEAR &amp; *CLEAR &amp; CLA &amp; CMDCLEAR&quot;, т.е. очищает все окна кроме списка предметов.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"><strong>$BACKIMAGE</strong> - содержит путь к файлу фонового изображения для окна основного описания. Фон в окне основного описания отображается в том случае, если значение данной переменной отлично от &#039;&#039; (т.е. не пустая строка) и файл изображения удалось загрузить.</div>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Команды" [817-2930] -->
<h3 class="sectionedit3" id="primer">Пример</h3>
<div class="level3">

<p>
<pre class="brush: qsp">
*P &#039;1&#039;
$txt = $MAINTXT
*PL &#039;23&#039;
*NL &#039;456&#039;
&#039;78&#039;
</pre>
</p>

<p>
После выполнения кода в основное окно описания будет выведено:
<pre class="brush: qsp">
123

45678
</pre>
Содержание <em>$txt</em> будет равносильно коду:
<pre class="brush: qsp">
$txt = &#039;1&#039;
</pre>
</p>
<hr />

<p>
<a href="/help/stat" class="wikilink1" title="help:stat">Вперёд: Дополнительное окно описания</a>
</p>

</div>
<!-- EDIT3 SECTION "Пример" [2931-] --></div>
</body>
</html>
