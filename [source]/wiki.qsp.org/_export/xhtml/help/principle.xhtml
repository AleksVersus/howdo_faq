<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>help:principle</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,principle"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Документация QSP"/>
<link rel="start" href="/"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns=help"/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/help/principle"/>
<link rel="canonical" href="http://wiki.qsp.su/help/principle"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=exportdokuwiki&amp;tseed=f78b359cebbc2738e83150069e877c7f"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shCore.css"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shThemeDefault.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='help';var JSINFO = {"id":"help:principle","namespace":"help"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=f78b359cebbc2738e83150069e877c7f&amp;template=exportdokuwiki"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shCore.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js"></script>
</head>
<body>
<div class="dokuwiki export">

<p>
<a href="/help/jump" class="wikilink1" title="help:jump">Назад: Переходы внутри локации, циклы</a>
</p>

<h2 class="sectionedit1" id="porjadok_raboty_interpretatora">Порядок работы интерпретатора</h2>
<div class="level2">

<p>
<em class="u"><strong>Черновой вариант статьи</strong></em>
</p>
<ul>
<li class="level1"><div class="li"> При обработке новой локации (например, при переходе с помощью операторов &quot;GOTO, XGOTO, GOSUB&quot;) выполняются следующие действия:</div>
<ol>
<li class="level2"><div class="li"> Очистка списка действий предыдущей локации, если был осуществлен непосредственный переход на локацию (например, с помощью операторов &quot;GOTO, XGOTO&quot;);</div>
</li>
<li class="level2"><div class="li"> Обновление поля описания локации (замена существующего основного описания, либо добавление к нему текста базового описания новой локации - в зависимости от того, каким образом был произведён переход);</div>
</li>
<li class="level2"><div class="li"> Добавление базовых действий новой локации;</div>
</li>
<li class="level2"><div class="li"> Последовательное выполнение операторов, находящихся в поле &quot;Выполнить при посещении&quot;;</div>
</li>
<li class="level2"><div class="li"> При непосредственном переходе на локацию выполняется обработка локации-обработчика перехода на новую локацию, если таковая указана;</div>
</li>
</ol>
</li>
<li class="level1"><div class="li"> Если переменная локации-счётчика не пуста, то происходит обработка соответствующей локации (по умолчанию, 2 раза в секунду);</div>
</li>
<li class="level1"><div class="li"> Обновление интерфейса (шрифт, цвета, заданные с помощью системных переменных) - также, по умолчанию, 2 раза в секунду;</div>
</li>
<li class="level1"><div class="li"> При выборе предмета<sup><a href="#fn__1" id="fnt__1" class="fn_top">1)</a></sup> происходит обработка локации-обработчика выбора предметов</div>
</li>
<li class="level1"><div class="li"> При выборе действия<sup><a href="#fn__2" id="fnt__2" class="fn_top">2)</a></sup> происходит обрабатка локации-обработчика выбора действия</div>
</li>
<li class="level1"><div class="li"> При загрузке или сохранении состояния игры, происходит обработка локаций-обработчиков загрузки и сохранения игры</div>
</li>
<li class="level1"><div class="li"> Если пользователь щёлкает на действии, то выполняются операторы, определённые для этого действия</div>
</li>
<li class="level1"><div class="li"> Если пользователь нажимает &quot;Enter&quot; в строке ввода, то происходит обработка локации-обработчика строки ввода.</div>
</li>
</ul>
<hr />

<p>
<a href="/help/service_locations" class="wikilink1" title="help:service_locations">Вперёд: Служебные локации</a>
</p>

</div>
<!-- EDIT1 SECTION "Порядок работы интерпретатора" [84-] --><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
, <sup><a href="#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
наведении мыши, выборе с клавиатуры</div>
</div>
</div>
</body>
</html>
