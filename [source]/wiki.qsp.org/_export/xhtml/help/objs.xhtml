<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>help:objs</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,objs"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Документация QSP"/>
<link rel="start" href="/"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns=help"/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/help/objs"/>
<link rel="canonical" href="http://wiki.qsp.su/help/objs"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=exportdokuwiki&amp;tseed=f78b359cebbc2738e83150069e877c7f"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shCore.css"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shThemeDefault.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='help';var JSINFO = {"id":"help:objs","namespace":"help"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=f78b359cebbc2738e83150069e877c7f&amp;template=exportdokuwiki"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shCore.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js"></script>
</head>
<body>
<div class="dokuwiki export">

<p>
<a href="/help/acts" class="wikilink1" title="help:acts">Назад: Действия</a>
</p>

<h2 class="sectionedit1" id="predmety_inventar">Предметы (инвентарь)</h2>
<div class="level2">

<p>
Предметы главный герой носит с собой, чтобы применить куда-нибудь. На деньги можно купить оружие, оружием кого-нибудь победить, ключом открыть дверь, и так далее. Герой может нести предметы в руках, в карманах, в заплечном мешке, даже катить, в общем случае говорят &quot;инвентарь&quot;. Таким образом, инвентарь - это список всех предметов, что есть у героя в данный момент.
</p>

<p>
В названиях предметов не важен регистр букв, т.е. &quot;ДеньГи&quot; и &quot;деньги&quot; - один и тот же предмет.
</p>

</div>
<!-- EDIT1 SECTION "Предметы (инвентарь)" [44-917] -->
<h3 class="sectionedit2" id="komandy">Команды</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <strong>SHOWOBJS</strong> <em>[#выражение]</em> - если значение выражения отлично от 0, то показывает список предметов, иначе скрывает его.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>ADD OBJ</strong> <em>[$название]</em><strong>,</strong><em>[$путь к файлу изображения]</em><strong>,</strong><em>[#индекс]</em> или</div>
</li>
<li class="level1"><div class="li"> <strong>ADDOBJ</strong> <em>[$название]</em><strong>,</strong><em>[$путь к файлу изображения]</em><strong>,</strong><em>[#индекс]</em> - добавление предмета с названием <em>[$название]</em> и изображением <em>[$путь к файлу изображения]</em> в инвентарь на место с номером <em>[#индекс]</em>.</div>
<ul>
<li class="level2"><div class="li"> Параметр <em>[#индекс]</em> может отсутствовать. По умолчанию предметы добавляются в конец списка.</div>
</li>
<li class="level2"><div class="li"> Индексация предметов рюкзака ведётся с 1.</div>
</li>
<li class="level2"><div class="li"> Параметр <em>[$путь к файлу изображения]</em> может отсутствовать, значение по умолчанию - &#039;&#039;.</div>
</li>
<li class="level2"><div class="li"> Обратите внимание - для использования одинаковых предметов инвентаря, например денег, патронов и т.п., лучше использовать дополнительную переменную, обозначающую количество этих предметов, чтобы не загромождать инвентарь списком из 137 предметов Рубль / Патрон. Для хранения числа предметов можно использовать массивы, индексируемые через строки:<pre class="brush: qsp">
OBJECTS[&#039;деньги&#039;] = 12
OBJECTS[&#039;патроны&#039;] = 137

&#039;Количество: &lt;&lt;OBJECTS[$getobj(countobj)]&gt;&gt;&#039;
</pre></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>DELOBJ</strong> <em>[$название]</em> или <strong>DEL OBJ</strong> <em>[$название]</em> - удаление предмета из рюкзака, если таковой имеется.</div>
</li>
<li class="level1"><div class="li"> <strong>KILLOBJ</strong> <em>[#номер]</em> - удаление предмета, расположенного в заданной позиции. Если параметр [#номер] не указан, то очистка рюкзака.</div>
<ul>
<li class="level2"><div class="li"> Индексация предметов рюкзака ведётся с 1.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>KILLALL</strong> - эквивалентен конструкции &quot;KILLVAR &amp; KILLOBJ&quot;.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>$SELOBJ</strong> - функция возвращает название выделенного предмета в любом месте игры.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <strong>COUNTOBJ</strong> - функция возвращает количество предметов в рюкзаке.</div>
</li>
<li class="level1"><div class="li"> <strong>$GETOBJ(</strong><em>[#номер]</em><strong>)</strong> - возвращает название предмета в рюкзаке, расположенного в заданной позиции.</div>
<ul>
<li class="level2"><div class="li"> Индексация предметов рюкзака ведётся с 1.</div>
</li>
<li class="level2"><div class="li"> Если предмета с заданным индексом не существует, возвращается пустая строка (&#039;&#039;).</div>
</li>
<li class="level2"><div class="li"> <em>Примеры:</em><pre class="brush: qsp">
!Первый предмет в списке
$GETOBJ(1) 

!Последний предмет в списке
$GETOBJ(COUNTOBJ)
</pre></div>
</li>
</ul>
</li>
</ul>

<p>
Код, подсчитывающий в массиве OBJECTS число предметов с одинаковым названием:<pre class="brush: qsp">
i = 1
:loop
IF i &lt;= COUNTOBJ:
  OBJECTS[$GETOBJ(i)] = OBJECTS[$GETOBJ(i)] + 1
  i = i + 1
  JUMP &#039;loop&#039;
END
</pre>
</p>

<p>
Cм. также служебные локации: <a href="/help/service_locations" class="wikilink1" title="help:service_locations">$ONOBJADD</a>, <a href="/help/service_locations" class="wikilink1" title="help:service_locations">$ONOBJDEL</a>, <a href="/help/service_locations" class="wikilink1" title="help:service_locations">$ONOBJSEL</a>.
</p>
<hr />

<p>
<a href="/help/menu" class="wikilink1" title="help:menu">Вперёд: Меню</a>
</p>

</div>
<!-- EDIT2 SECTION "Команды" [918-] --></div>
</body>
</html>
