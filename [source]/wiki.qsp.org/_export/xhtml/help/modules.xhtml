<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>help:modules</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,modules"/>
<link rel="search" type="application/opensearchdescription+xml" href="/lib/exe/opensearch.php" title="Документация QSP"/>
<link rel="start" href="/"/>
<link rel="alternate" type="application/rss+xml" title="Недавние изменения" href="/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Текущее пространство имён" href="/feed.php?mode=list&amp;ns=help"/>
<link rel="alternate" type="text/html" title="Простой HTML" href="/_export/xhtml/help/modules"/>
<link rel="canonical" href="http://wiki.qsp.su/help/modules"/>
<link rel="stylesheet" type="text/css" href="/lib/exe/css.php?t=exportdokuwiki&amp;tseed=f78b359cebbc2738e83150069e877c7f"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shCore.css"/>
<link rel="stylesheet" type="text/css" href="/lib/plugins/syntaxhighlighter3/sxh3/styles/shThemeDefault.css"/>
<script type="text/javascript">/*<![CDATA[*/var NS='help';var JSINFO = {"id":"help:modules","namespace":"help"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="/lib/exe/js.php?tseed=f78b359cebbc2738e83150069e877c7f&amp;template=exportdokuwiki"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shCore.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="/lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js"></script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Содержание</h3>
<div>

<ul class="toc">
<li class="level2"><div class="li"><a href="#rabota_s_fajlami_ispolzovanie_modulej">Работа с файлами, использование модулей</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#moduli">Модули</a></div></li>
<li class="level3"><div class="li"><a href="#soxranenija">Сохранения</a></div></li>
<li class="level3"><div class="li"><a href="#spisok_gotovyx_avtorskix_modulej">Список готовых авторских модулей</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<a href="/help/inputs" class="wikilink1" title="help:inputs">Назад: Ввод текста игроком</a>
</p>

<h2 class="sectionedit1" id="rabota_s_fajlami_ispolzovanie_modulej">Работа с файлами, использование модулей</h2>
<div class="level2">

</div>
<!-- EDIT1 SECTION "Работа с файлами, использование модулей" [66-150] -->
<h3 class="sectionedit2" id="moduli">Модули</h3>
<div class="level3">

<p>
QSP позволяет &quot;объединять&quot; несколько файлов во время выполнения игры. Игрок запускает основной QSP-файл игры, из основного по необходимости &quot;подгружаются&quot; другие QSP-файлы. В подгружаемых файлах может находиться, например, часть игры, вынесенная в отдельный файл для удобства. Или, например, набор <a href="/help/organizing" class="wikilink1" title="help:organizing">пользовательских функций и процедур</a> - такие файлы называются &quot;модулями&quot;. Можно использовать один файл модуля для разных игр. Это избавляет автора от излишнего дублирования кода.
</p>
<ul>
<li class="level1"><div class="li"> <strong>OPENQST</strong> <em>[$путь]</em> - открытие и запуск заданного файла игры.</div>
<ul>
<li class="level2"><div class="li"> При использовании данного оператора, не происходит удаления переменных, удаления предметов инвентаря, очистки дополнительного описания и строки ввода, а также остановки проигрываемых файлов (для этого в начале загружаемой игры можно выполнить &quot;KILLALL &amp; CLS &amp; CLOSE ALL&quot;).</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>ADDQST</strong> <em>[$путь]</em> - из заданного файла игры добавляет все локации, названия которых отсутствуют среди текущих игровых локаций. Загруженные локации полностью эквивалентны локациям из основного файла игры.</div>
<ul>
<li class="level2"><div class="li"> В более новых версиях библиотеки команда переименована в <strong>ADDLIB</strong>, затем в <strong>INCLIB</strong></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>KILLQST</strong> - удаляет все локации, добавленные с помощью оператора <em>&quot;ADDQST&quot;</em>.</div>
<ul>
<li class="level2"><div class="li"> В более новых версиях библиотеки команда переименована в <strong>DELLIB</strong>, затем в <strong>FREELIB</strong></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT2 SECTION "Модули" [151-2449] -->
<h3 class="sectionedit3" id="soxranenija">Сохранения</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <strong>OPENGAME</strong> <em>[$выражение]</em> - если <em>[$выражение]</em> равно &quot;&quot; (пустая строка) или отсутствует, то вызов окна загрузки состояния игры, иначе загрузка состояния из указанного файла. </div>
<ul>
<li class="level2"><div class="li"> См. также <a href="/help/service_locations" class="wikilink1" title="help:service_locations">$ONGLOAD</a>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>SAVEGAME</strong> <em>[$выражение]</em> - если <em>[$выражение]</em> равно &quot;&quot; (пустая строка) или отсутствует, то вызов окна сохранения состояния игры, иначе сохранение состояния в указанный файл. </div>
<ul>
<li class="level2"><div class="li"> См. также <a href="/help/service_locations" class="wikilink1" title="help:service_locations">$ONGSAVE</a>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <strong>NOSAVE</strong> - если значение переменной отлично от 0, то сохранение состояния игры пользователем невозможно.</div>
</li>
<li class="level1"><div class="li"> <strong>DEBUG</strong> - если значение переменной не равно 0, то отключается проверка идентификатора игры при загрузке состояния.</div>
<ul>
<li class="level2"><div class="li"> Иначе при каждом изменении файла игры не поддерживаются предыдущие сохранения.</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT3 SECTION "Сохранения" [2450-3774] -->
<h3 class="sectionedit4" id="spisok_gotovyx_avtorskix_modulej">Список готовых авторских модулей</h3>
<div class="level3">

<p>
Olegus
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://forum.ifiction.ru/viewtopic.php?id=1613" class="urlextern" title="http://forum.ifiction.ru/viewtopic.php?id=1613"  rel="nofollow">экран</a></div>
</li>
<li class="level2"><div class="li"> <a href="http://forum.ifiction.ru/viewtopic.php?id=1522" class="urlextern" title="http://forum.ifiction.ru/viewtopic.php?id=1522"  rel="nofollow">таблицы данных</a></div>
</li>
<li class="level2"><div class="li"> <a href="http://forum.ifiction.ru/viewtopic.php?id=1527" class="urlextern" title="http://forum.ifiction.ru/viewtopic.php?id=1527"  rel="nofollow">меню</a></div>
</li>
<li class="level2"><div class="li"> <a href="http://forum.ifiction.ru/viewtopic.php?id=1540" class="urlextern" title="http://forum.ifiction.ru/viewtopic.php?id=1540"  rel="nofollow">форматирование текста</a></div>
</li>
<li class="level2"><div class="li"> <a href="http://forum.ifiction.ru/viewtopic.php?id=1873" class="urlextern" title="http://forum.ifiction.ru/viewtopic.php?id=1873"  rel="nofollow">таймер</a></div>
</li>
</ul>

<p>
Werewolf
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://qsp.su/index.php?option=com_agora&amp;task=topic&amp;id=170&amp;Itemid=57" class="urlextern" title="http://qsp.su/index.php?option=com_agora&amp;task=topic&amp;id=170&amp;Itemid=57"  rel="nofollow">Отладчик</a></div>
</li>
</ul>

<p>
Ntropy
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://qsp.su/index.php?option=com_content&amp;view=article&amp;id=70:qsp-inventory-advanced-lib-076&amp;catid=36:2009-02-19-06-11-21&amp;Itemid=76" class="urlextern" title="http://qsp.su/index.php?option=com_content&amp;view=article&amp;id=70:qsp-inventory-advanced-lib-076&amp;catid=36:2009-02-19-06-11-21&amp;Itemid=76"  rel="nofollow">Расширенный инвентарь</a></div>
</li>
</ul>

<p>
Aleks Versus
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://aleksversus.narod.ru/index/easy_math_qsp/0-10" class="urlextern" title="http://aleksversus.narod.ru/index/easy_math_qsp/0-10"  rel="nofollow">Математический модуль (числа неограниченной длины, вещественные числа, шестнадцатеричные числа, чуть-чуть функций для массивов и для строк)</a></div>
</li>
</ul>
<hr />

<p>
<a href="/help/realtime" class="wikilink1" title="help:realtime">Вперёд: Реальное время</a>
</p>

</div>
<!-- EDIT4 SECTION "Список готовых авторских модулей" [3775-] --></div>
</body>
</html>
