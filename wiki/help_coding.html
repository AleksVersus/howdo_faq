<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link id="favicon" rel="icon" type="image/x-icon" href="../res/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="../res/css/easy.library.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/offline.window.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/qsp_code.css" />
    <title>QSP: ИнформАрхив</title>
</head>
    
<body>
    <div class="em_Main">
        <div class="em_AROUND">
            <h1>Справка по QSP</h1>
            <!-- body start -->
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/helpful/help_analyzer.html" class="emHREFTT">&lt; Назад, к странице 37</a></div><div><a href="https://aleksversus.github.io/howdo_faq/helpful/help_interface.html" class="emHREFTT">Вперёд, к странице 39 &gt;</a></div></div>
<p>
<a href="https://aleksversus.github.io/howdo_faq/helpful/help_expressions.html#help_expressions" style="text-decoration:none;" class="emFOLD">Назад: Выражения</a>

</p>
<a id="help_coding"></a><h2>Программный код</h2>
<p>
<a id="programmnyj_kod"></a>

</p>
<p>
Выполнение кода в плеере <span class="em_BLCK">QSP</span> происходит последовательно, команда за командой, сверху вниз и слева направо:

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Первая&nbsp;команда"</span><br>
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Вторая&nbsp;команда"</span><br>
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Третья&nbsp;команда"</span><br>
<br>
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Четвёртая&nbsp;команда"</span>&nbsp;<span class="Monokai-Operator">&amp;</span>&nbsp;<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Пятая&nbsp;команда"</span>&nbsp;<span class="Monokai-Operator">&amp;</span>&nbsp;<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Шестая&nbsp;команда"</span><br>


</div>
<a id="чaЫХ"></a><h3>Структура команд</h3>
<p>
Все команды в <span class="em_BLCK">QSP</span> составляются по общим принципам:

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">{</span>оператор<span class="Monokai-Operator">}</span>&nbsp;<span class="Monokai-Operator">[</span>значение&nbsp;<span class="Monokai-Numeric">1</span><span class="Monokai-Operator">]</span><span class="Monokai-Operator">,</span><span class="Monokai-Operator">[</span>значение&nbsp;<span class="Monokai-Numeric">2</span><span class="Monokai-Operator">]</span><span class="Monokai-Operator">,</span><span class="Monokai-Command">...</span><span class="Monokai-Operator">,</span><span class="Monokai-Operator">[</span>значение&nbsp;<span class="Monokai-Numeric">18</span><span class="Monokai-Operator">]</span><br>


</div>
<p>
Здесь вместо {оператор} может и должен стоять любой оператор <span class="em_BLCK">QSP</span> из тех, что перечислены в разделе <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_keywords_operator" style="text-decoration:none;" class="emFOLD">"Ключевые слова. Операторы"</a>. Если в команде нет {оператор}, значит на самом деле на этом месте подразумевается <span class="em_BLCK">неявный оператор</span>.

</p>
<div class="Monokai-Code">
<span class="Monokai-Comment">!&nbsp;здесь&nbsp;используются&nbsp;явные&nbsp;операторы:</span><br>
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Ехал&nbsp;Грека&nbsp;Через&nbsp;Реку"</span><br>
<span class="Monokai-Operator">addobj</span>&nbsp;<span class="Monokai-String">"Рак"</span><br>
<span class="Monokai-Comment">!&nbsp;а&nbsp;здесь&nbsp;имеет&nbsp;место&nbsp;неявный&nbsp;оператор:</span><br>
<span class="Monokai-Numeric">137</span><span class="Monokai-Operator">+</span><span class="Monokai-Numeric">294</span><br>
<span class="Monokai-Func">func</span><span class="Monokai-Operator">(</span><span class="Monokai-String">'pow'</span><span class="Monokai-Operator">,</span><span class="Monokai-Numeric">3</span><span class="Monokai-Operator">,</span><span class="Monokai-Numeric">3</span><span class="Monokai-Operator">)</span><br>


</div>
<p>
В качестве значений [значение 1],[значение 2], ... ,[значение 18] могут выступать строковые или числовые константы, переменные, значения функций, или целые выражения, а число таких значений зависит от назначения оператора. Например, для оператора <span class="em_BLCK"><span class="emOPRT">*pl</span></span> может быть указано лишь одно значение, а для оператора <span class="em_BLCK"><span class="emOPRT">addobj</span></span> от одного до трёх таких значений. Сами значения перечисляются через запятую.

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">*pl</span>&nbsp;<span class="Monokai-String">"Три&nbsp;в&nbsp;кубе&nbsp;это&nbsp;"</span><span class="Monokai-Operator">+</span><span class="Monokai-Func">func</span><span class="Monokai-Operator">(</span><span class="Monokai-String">'pow'</span><span class="Monokai-Operator">,</span><span class="Monokai-Numeric">3</span><span class="Monokai-Operator">,</span><span class="Monokai-Numeric">3</span><span class="Monokai-Operator">)</span><span class="Monokai-Operator">+</span><span class="Monokai-String">".&nbsp;Да,&nbsp;серьёзно.&nbsp;А&nbsp;ты&nbsp;не&nbsp;верил?"</span><br>


</div>
<p>
Если необходимо, то для удобства чтения кода значения для операторов можно (но не обязательно) помещать в круглые скобки:

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">pl</span><span class="Monokai-Operator">(</span><span class="Monokai-String">"Строка&nbsp;текста"</span><span class="Monokai-Operator">)</span><br>
<span class="Monokai-Operator">addobj</span><span class="Monokai-Operator">(</span><span class="Monokai-String">"Отвёртка"</span><span class="Monokai-Operator">,</span><span class="Monokai-String">"img/screwdriver.png"</span><span class="Monokai-Operator">,</span><span class="Monokai-Numeric">3</span><span class="Monokai-Operator">)</span><br>


</div>
<p>
<span class="em_BLCK">Внимание!</span> В одной команде не может быть более одного оператора! Равно так же не может быть команды совсем без оператора. Если в вашей команде нет оператора, то вы имеете дело с <span class="em_BLCK">неявным оператором</span>.

</p>
<p>
Операция присваивания предполагает, что перед именем переменной стоит оператор <span class="em_BLCK"><span class="emOPRT">SET</span></span>, хотя обычно этот оператор опускают, то есть его тоже можно назвать "неявным":

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">[</span>имя_переменной<span class="Monokai-Operator">]</span>&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Operator">[</span>значение<span class="Monokai-Operator">]</span><br>


</div>
<p>
Здесь <span class="em_BLCK">=</span> — это операция присваивания. Не путайте с операцией сравнения <span class="em_BLCK">равно</span>.

</p>
<a id="чЯЪь"></a><h3>Порядок записи команд</h3>
<p>
Вот несколько правил и рекомендаций для корректного написания кода:

</p>
<ul>
<li>
Каждую отдельную команду нужно записывать в отдельной строке.
</li>
<li>
Отступы (пробелы и символы табуляции) перед командой и после неё игнорируются плеером, поэтому вы можете ставить их в нужном количестве для удобства чтения кода:
<div class="Monokai-Code">
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;table&nbsp;width=240&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;tr&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;td&gt;Имя:&lt;/td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;$name<br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;/td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;/tr&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;tr&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;td&gt;возраст:&lt;/td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;age<br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;/td&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;/tr&gt;"</span><br>
<span class="Monokai-Operator">*p</span>&nbsp;<span class="Monokai-String">"&lt;/table&gt;"</span><br>


</div>
</li>
<li>
Пустые строки так же игнорируются плеером, поэтому для лучшей читаемости кода вы можете размещать их между командами:
<div class="Monokai-Code">
яблоко&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>
груша&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>


</div>
</li>
</ul>
<p>
	*pl 'Яблок' + яблоко

</p>
<p>
	*pl 'Груш' + груша

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;При&nbsp;необходимости&nbsp;можно&nbsp;написать&nbsp;несколько&nbsp;команд&nbsp;в&nbsp;одну&nbsp;строку.&nbsp;При&nbsp;этом&nbsp;в&nbsp;качестве&nbsp;разделителя&nbsp;команд&nbsp;служит&nbsp;символ&nbsp;"`&`"&nbsp;(не&nbsp;путайте&nbsp;с&nbsp;операцией&nbsp;объединения&nbsp;строк):<br>

</div>
<p>
	яблоко+=1 &amp; *pl "У меня есть &lt;&lt;яблоко&gt;&gt; яблок." &amp; яблоко_взял=1

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;Без&nbsp;необходимости&nbsp;так&nbsp;делать&nbsp;не&nbsp;рекомендуется,&nbsp;поскольку&nbsp;это&nbsp;ухудшает&nbsp;читаемость&nbsp;кода,&nbsp;а&nbsp;так&nbsp;же&nbsp;повышает&nbsp;вероятность&nbsp;допустить&nbsp;[баг](#help_bag).&nbsp;Подобное&nbsp;перечисление&nbsp;команд&nbsp;уместно&nbsp;в&nbsp;гиперссылках:<br>

</div>
<p>
	*pl '&lt;a href="EXEC: яблоко += 1 &amp; GT $CURLOC"&gt;яблоко&lt;/a&gt;'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;В&nbsp;данном&nbsp;случае&nbsp;при&nbsp;нажатии&nbsp;на&nbsp;ссылку&nbsp;выполнится&nbsp;код:<br>

</div>
<p>
	яблоко += 1

</p>
<p>
	GT $CURLOC

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Внутреннюю&nbsp;часть&nbsp;многострочных&nbsp;операторов&nbsp;рекомендуется&nbsp;сдвигать&nbsp;вправо&nbsp;2-4&nbsp;пробелами&nbsp;(или&nbsp;одним&nbsp;символом&nbsp;табуляции).&nbsp;Это&nbsp;никак&nbsp;не&nbsp;влияет&nbsp;на&nbsp;выполнение,&nbsp;но&nbsp;делает&nbsp;код&nbsp;более&nbsp;читаемым:<br>

</div>
<p>
	IF яблоки=0 :

</p>
<p>
		ADDOBJ 'Яблоко'

</p>
<p>
		яблоки = 1

</p>
<p>
	END

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Крайне&nbsp;редко&nbsp;для&nbsp;повышения&nbsp;читаемости&nbsp;кода&nbsp;приходится&nbsp;разбивать&nbsp;строку&nbsp;на&nbsp;несколько.&nbsp;Такая&nbsp;строка&nbsp;хотя&nbsp;и&nbsp;будет&nbsp;в&nbsp;коде&nbsp;разбита&nbsp;на&nbsp;части,&nbsp;но&nbsp;будет&nbsp;восприниматься&nbsp;плеером,&nbsp;как&nbsp;единая&nbsp;(сообщения&nbsp;об&nbsp;ошибках&nbsp;будут&nbsp;выводится&nbsp;с&nbsp;учётом&nbsp;того,&nbsp;что&nbsp;это&nbsp;одна&nbsp;строка).<br>
&nbsp;&nbsp;&nbsp;&nbsp;Чтобы&nbsp;следующая&nbsp;строка&nbsp;считалась&nbsp;частью&nbsp;текущей,&nbsp;нужно&nbsp;в&nbsp;конце&nbsp;текущей&nbsp;строки&nbsp;дописать&nbsp;"`&nbsp;_`"&nbsp;(пробел&nbsp;и&nbsp;символ&nbsp;подчёркивания):<br>

</div>
<p>
	if a&lt;5 and n-b&gt;4+5+h/7*2 or t=4: p 'TTTTTTTTT' &amp; cla &amp; $f='Text Variable' &amp; goto 'FFFF'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;равнозначно&nbsp;<br>

</div>
<p>
	if a&lt;5 and _

</p>
<p>
	    n-b&gt;4+5+h/7*2 or _

</p>
<p>
	    t=4: p 'TTTTTTTTT' _

</p>
<p>
	  &amp; cla &amp; $f='Text Variable' _

</p>
<p>
	  &amp; goto 'FFFF'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;Вместо&nbsp;разбиения&nbsp;строки&nbsp;рекомендуется&nbsp;видоизменить&nbsp;код&nbsp;так,&nbsp;чтобы&nbsp;этого&nbsp;не&nbsp;требовалось.<br>
&nbsp;&nbsp;&nbsp;&nbsp;`Обратите&nbsp;внимание.`&nbsp;Сочетание&nbsp;символов&nbsp;"`&nbsp;_`"&nbsp;(пробел&nbsp;и&nbsp;символ&nbsp;подчёркивания)&nbsp;при&nbsp;склеивании&nbsp;строк&nbsp;заменяется&nbsp;на&nbsp;пробел,&nbsp;поэтому&nbsp;такой&nbsp;код:<br>

</div>
<p>
	t _

</p>
<p>
	or _

</p>
<p>
	t

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;будет&nbsp;эквивалентен&nbsp;такому&nbsp;коду:<br>

</div>
<p>
	t or t

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;Разбивать&nbsp;команду&nbsp;на&nbsp;две&nbsp;строки&nbsp;внутри&nbsp;строковой&nbsp;константы&nbsp;нельзя:<br>

</div>
<p>
	! на экране мы увидим две строки текста, а не одну:

</p>
<p>
	*pl "Это строка, которую я хочу разбить _

</p>
<p>
	на две строки кода, но при выводе видеть одну строку"

</p>
<div class="Monokai-Code">
<br>
=Комментарии=<br>
[:kommentarii]<br>
<br>
Оператор&nbsp;комментария&nbsp;"`!`"&nbsp;служит&nbsp;для&nbsp;комментирования&nbsp;кода&nbsp;и&nbsp;позволяет&nbsp;оставлять&nbsp;"заметки&nbsp;на&nbsp;полях",&nbsp;которые&nbsp;помогут&nbsp;впоследствии&nbsp;ориентироваться&nbsp;в&nbsp;коде.&nbsp;Всё,&nbsp;что&nbsp;следует&nbsp;за&nbsp;оператором&nbsp;комментария,&nbsp;плеер&nbsp;игнорирует.<br>
<br>
Поскольку&nbsp;"`!`"&nbsp;—&nbsp;это&nbsp;оператор&nbsp;(не&nbsp;путайте&nbsp;с&nbsp;операцией&nbsp;`не&nbsp;равно`),&nbsp;если&nbsp;вы&nbsp;пишете&nbsp;его&nbsp;на&nbsp;одной&nbsp;строке&nbsp;с&nbsp;другими&nbsp;командами,&nbsp;нужно&nbsp;обязательно&nbsp;ставить&nbsp;разделитель&nbsp;"`&`"&nbsp;(амперсанд)&nbsp;между&nbsp;последней&nbsp;командой&nbsp;и&nbsp;оператором&nbsp;комментария:<br>
<br>

</div>
<p>
! это комментарий в отдельной строке

</p>
<p>
яблоки = 0 &amp; ! а это комментарий в строке с командой

</p>
<div class="Monokai-Code">
<br>
Так&nbsp;как&nbsp;весь&nbsp;текст&nbsp;после&nbsp;оператора&nbsp;комментария&nbsp;будет&nbsp;проигнорирован&nbsp;плеером,&nbsp;комментарий&nbsp;надо&nbsp;ставить&nbsp;всегда&nbsp;самым&nbsp;последним&nbsp;в&nbsp;строке&nbsp;из&nbsp;нескольких&nbsp;команд:<br>
<br>

</div>
<p>
! комментарий. Следующие команды не работают: &amp; *pl "Первая команда" &amp; *pl "вторая команда"

</p>
<p>
*pl "Эта команда работает" &amp; ! а остальные нет &amp; *pl "вторая команда" &amp; *pl "третья команда"

</p>
<p>
*pl "Эта команда работает" &amp; *pl "и эта работает" &amp; ! а последняя нет &amp; *pl "третья команда"

</p>
<p>
*pl "Все три" &amp; *pl " команды" &amp; *pl "работают" &amp; ! а это комментарий

</p>
<div class="Monokai-Code">
<br>
Комментарии&nbsp;бывают&nbsp;двух&nbsp;видов:&nbsp;однострочные&nbsp;и&nbsp;многострочные.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Однострочный&nbsp;комментарий&nbsp;начинается&nbsp;от&nbsp;оператора&nbsp;комментария&nbsp;и&nbsp;заканчивается&nbsp;с&nbsp;концом&nbsp;строки:<br>

</div>
<p>
	! Однострочный комментарий

</p>
<p>
	! и это однострочный комментарий

</p>
<p>
	яблоки = 0 &amp; ! и это однострочный комментарий

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Многострочный&nbsp;комментарий&nbsp;так&nbsp;же&nbsp;начинается&nbsp;от&nbsp;оператора&nbsp;комментария&nbsp;и&nbsp;заканчивается&nbsp;с&nbsp;концом&nbsp;строки,&nbsp;однако&nbsp;при&nbsp;использовании&nbsp;кавычек&nbsp;(`"&nbsp;"`),&nbsp;апострофов&nbsp;(`'&nbsp;'`)&nbsp;или&nbsp;фигурных&nbsp;скобок,&nbsp;он&nbsp;может&nbsp;захватывать&nbsp;так&nbsp;же&nbsp;и&nbsp;те&nbsp;строки,&nbsp;что&nbsp;размещены&nbsp;внутри&nbsp;кавычек,&nbsp;апсотрофов&nbsp;или&nbsp;фигурных&nbsp;скобок:<br>

</div>
<p>
	!'Многострочный

</p>
<p>
	комментарий в апострофах'

</p>
<p>
	яблоки = 1

</p>
<p>
	сыр = 5 &amp;  ! А здесь "комментарий начинается

</p>
<p>
	в той же строке, но" заканчивается 'сильно

</p>
<p>
	позже'. Во всём виноваты {кавычки и скобки

</p>
<p>
	}Кстати:

</p>
<p>
	яблоки=0

</p>
<p>
	!'Комментарии рекомендуется писать всё-таки

</p>
<p>
	в отдельных строках, а не как бутерброд с "сыром"'

</p>
<div class="Monokai-Code">
<br>
=Запись&nbsp;констант=<br>
<br>
Константами&nbsp;в&nbsp;`QSP`&nbsp;можно&nbsp;назвать&nbsp;конкретные&nbsp;числовые&nbsp;или&nbsp;строковые&nbsp;значения.&nbsp;В&nbsp;следующем&nbsp;примере&nbsp;для&nbsp;операторов&nbsp;вывода&nbsp;текста&nbsp;указаны&nbsp;конкретные&nbsp;значения,&nbsp;это&nbsp;и&nbsp;есть&nbsp;константы:<br>
<br>

</div>
<p>
! вывод на экран числа <span class="em_BLCK"><span class="emNUM">137</span></span>. Можно назвать это число константой.

</p>
<p>
*pl 137

</p>
<p>
! вывод на экран строки текста. Эту строку можно назвать константой

</p>
<p>
*pl "На окошке крошку-мошку ловко ловит лапой кошка"

</p>
<div class="Monokai-Code">
<br>
Для&nbsp;записи&nbsp;числовых&nbsp;констант&nbsp;(чисел)&nbsp;используются&nbsp;символы&nbsp;цифр&nbsp;без&nbsp;дополнительных&nbsp;обозначений:<br>
<br>

</div>
<p>
x = 145 &amp; ! 145 здесь - константа

</p>
<p>
(137+299*2)/11-19 &amp; ! целое выражение из числовых констант

</p>
<div class="Monokai-Code">
<br>
Для&nbsp;записи&nbsp;строковых&nbsp;констант&nbsp;(строк)&nbsp;используются&nbsp;символы,&nbsp;отмечающие&nbsp;начало&nbsp;и&nbsp;конец&nbsp;такой&nbsp;строковой&nbsp;константы.&nbsp;Можно&nbsp;использовать&nbsp;кавычки&nbsp;(`"&nbsp;"`),&nbsp;апострофы&nbsp;(`'&nbsp;'`),&nbsp;или&nbsp;фигурные&nbsp;скобки&nbsp;(`{&nbsp;}`):<br>
<br>

</div>
<p>
*pl "Это строковая константа"

</p>
<p>
*pl 'И это строковая константа'

</p>
<p>
*pl {И даже это}

</p>
<div class="Monokai-Code">
<br>
Более&nbsp;подробно&nbsp;о&nbsp;правилах&nbsp;записи&nbsp;строк&nbsp;в&nbsp;`QSP`&nbsp;можно&nbsp;почитать&nbsp;в&nbsp;разделе&nbsp;["Строки"](#help_strings).<br>
<br>
=Операторы&nbsp;и&nbsp;функции=<br>
[:operatory_i_funkcii]<br>
<br>
`Оператор`&nbsp;-&nbsp;ключевое&nbsp;слово&nbsp;(команда)&nbsp;языка&nbsp;`QSP`,&nbsp;выполняющее&nbsp;какое-либо&nbsp;действие.&nbsp;Оператор&nbsp;может&nbsp;иметь&nbsp;параметры&nbsp;(аргументы),&nbsp;которые&nbsp;задаются&nbsp;выражениями.&nbsp;Операторы&nbsp;не&nbsp;возвращают&nbsp;результат&nbsp;выполнения.<br>
<br>
Как&nbsp;правило,&nbsp;операторы&nbsp;меняют&nbsp;состояние&nbsp;игры.<br>
<br>
Каждая&nbsp;команда&nbsp;`QSP`&nbsp;содержит&nbsp;один&nbsp;оператор&nbsp;и&nbsp;его&nbsp;аргументы&nbsp;(параметры).&nbsp;Если&nbsp;вы&nbsp;написали&nbsp;команду&nbsp;без&nbsp;оператора,&nbsp;то&nbsp;в&nbsp;ней&nbsp;обязательно&nbsp;присутствует&nbsp;`неявный&nbsp;оператор`.<br>
<br>

</div>
<p>
!Примеры вызовов операторов:

</p>
<p>
ADDOBJ 'ключ','pics/key.png'

</p>
<p>
ADDOBJ ('ключ','pics/key.png')

</p>
<p>
PL ('текст')

</p>
<p>
CLEAR()

</p>
<div class="Monokai-Code">
<br>
`Функция`&nbsp;-&nbsp;ключевое&nbsp;слово,&nbsp;которое&nbsp;используется&nbsp;для&nbsp;того,&nbsp;чтобы&nbsp;получить&nbsp;какое-либо&nbsp;значение.&nbsp;Например,&nbsp;сколько&nbsp;предметов&nbsp;игрок&nbsp;несёт&nbsp;в&nbsp;рюкзаке.&nbsp;Для&nbsp;этого,&nbsp;в&nbsp;коде&nbsp;мы&nbsp;указываем&nbsp;функцию,&nbsp;и&nbsp;необходимые&nbsp;для&nbsp;расчёта&nbsp;параметры&nbsp;(аргументы&nbsp;функции).&nbsp;Результат,&nbsp;"посчитанный"&nbsp;этой&nbsp;функцией,&nbsp;подставляется&nbsp;на&nbsp;её&nbsp;место&nbsp;в&nbsp;`выражении`.&nbsp;На&nbsp;языке&nbsp;программистов&nbsp;это&nbsp;звучит&nbsp;так:<br>
<br>
>&nbsp;"мы&nbsp;вызвали&nbsp;функцию,&nbsp;и&nbsp;функция&nbsp;вернула&nbsp;нам&nbsp;значение".<br>
<br>
Как&nbsp;правило,&nbsp;при&nbsp;вызове&nbsp;функции&nbsp;состояние&nbsp;игры&nbsp;не&nbsp;меняется.&nbsp;Примеры&nbsp;вызовов&nbsp;функций:<br>
<br>

</div>
<p>
maximum = MAX(1, 2, 4)

</p>
<p>
случайное_число = RAND(4)

</p>
<p>
предметов_в_рюкзаке = COUNTOBJ 

</p>
<p>
PL $STR(43)

</p>
<div class="Monokai-Code">
<br>
В&nbsp;одной&nbsp;команде&nbsp;может&nbsp;быть&nbsp;вызвано&nbsp;несколько&nbsp;функций:<br>
<br>

</div>
<p>
*pl "Случайный предмет: "+$getobj(rand(1,countobj))

</p>
<p>
bcolor=rgb(func('hex_in_dec','ff'),func('hex_in_dec','34'),func('hex_in_dec','67'))

</p>
<div class="Monokai-Code">
<br>
При&nbsp;использовании&nbsp;функций,&nbsp;возвращающих&nbsp;текстовое&nbsp;значение,&nbsp;настоятельно&nbsp;рекомендуется&nbsp;прописывать&nbsp;перед&nbsp;именем&nbsp;функции&nbsp;символ&nbsp;'`$`'&nbsp;для&nbsp;улучшения&nbsp;читаемости&nbsp;кода.<br>
<br>
Максимальное&nbsp;число&nbsp;аргументов&nbsp;для&nbsp;операторов&nbsp;и&nbsp;функций&nbsp;в&nbsp;`QSP`:&nbsp;20.<br>
<br>
=Базовые&nbsp;функции=<br>
[:bazovye_funkcii]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$QSPVER`&nbsp;-&nbsp;возвращает&nbsp;версию&nbsp;библиотеки&nbsp;плеера&nbsp;в&nbsp;формате&nbsp;"X.Y.Z".&nbsp;Пример:<br>

</div>
<p>
	if $QSPVER&lt;'5.8.0':

</p>
<p>
		*pl "Ваша версия плеера не подходит для данной игры. Установите плеер версии 5.8.0."

</p>
<p>
	end

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$CURLOC`&nbsp;-&nbsp;возвращает&nbsp;название&nbsp;текущей&nbsp;локации.<br>
<br>
--Математические&nbsp;функции--<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`RAND(`[#выр1]`,`[#выр2]`)`&nbsp;-&nbsp;возвращает&nbsp;случайное&nbsp;число&nbsp;между&nbsp;числами&nbsp;[#выр]&nbsp;и&nbsp;[#выр2].&nbsp;Параметр&nbsp;[#выр2]&nbsp;может&nbsp;отсутствовать,&nbsp;при&nbsp;этом&nbsp;он&nbsp;принимается&nbsp;равным&nbsp;единице&nbsp;(`1`).&nbsp;Примеры:<br>

</div>
<p>
	RAND(1,4) &amp; ! вернёт случайное значение от 1 до 4

</p>
<p>
	RAND(4,1) &amp; ! вернёт случайное значение от 1 до 4

</p>
<p>
	RAND(1000) &amp; ! вернёт случайное значение от 1 до 1000

</p>
<p>
	RAND 1000 &amp; ! вернёт случайное значение от 1 до 1000

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`RND`&nbsp;-&nbsp;возвращает&nbsp;случайное&nbsp;значение&nbsp;от&nbsp;1&nbsp;до&nbsp;1000.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`MAX(`[выр1]`,`[выр2]`,`&nbsp;…`)`&nbsp;-&nbsp;возвращает&nbsp;максимальное&nbsp;из&nbsp;значений&nbsp;выражений-аргументов.&nbsp;Если&nbsp;передан&nbsp;один&nbsp;аргумент,&nbsp;то&nbsp;считается,&nbsp;что&nbsp;указано&nbsp;имя&nbsp;массива:<br>

</div>
<p>
	MAX(1,2,5,2,0) &amp;! вернёт 5

</p>
<p>
	MAX(a,b,c) &amp;! вернёт максимальное из значений переменных a,b,c

</p>
<p>
	MAX('aa','ab','zz') &amp;! вернёт 'zz'

</p>
<p>
	MAX('a') &amp;! вернёт максимальное из числовых значений элементов массива "a"

</p>
<p>
	MAX('$b') &amp;! вернёт максимальное из текстовых значений элементов массива "$b"

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`MIN(`[выр1]`,`[выр2]`,`&nbsp;…`)`&nbsp;-&nbsp;возвращает&nbsp;минимальное&nbsp;из&nbsp;значений&nbsp;выражений-аргументов.&nbsp;Если&nbsp;передан&nbsp;один&nbsp;аргумент,&nbsp;то&nbsp;считается,&nbsp;что&nbsp;указано&nbsp;имя&nbsp;массива:<br>

</div>
<p>
	MIN(1,2,5,2,0) &amp;! вернёт 0

</p>
<p>
	MIN(a,b,c) &amp;! вернёт минимальное из значений переменных a,b,c

</p>
<p>
	MIN('aa','ab','zz') &amp;! вернёт 'aa'

</p>
<p>
	MIN('a') &amp;! вернёт минимальное из числовых значений элементов массива "a"

</p>
<p>
	MIN('$b') &amp;! вернёт минимальное из текстовых значений элементов массива "$b"

</p>
<div class="Monokai-Code">
<br>
[Вперёд:&nbsp;Массивы](#help_cycle)<br>
<br>

</div>
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/helpful/help_analyzer.html" class="emHREFTT">&lt; Назад, к странице 37</a></div><div><a href="https://aleksversus.github.io/howdo_faq/helpful/help_interface.html" class="emHREFTT">Вперёд, к странице 39 &gt;</a></div></div>
<!-- body end -->
            <div class="em_Epigraph">
                <div class="em_subText">
                    <p>Aleks Versus'HowDo-F.A.Q.'2021-<span id="date_stamp_faq">2022</span></p>
                    <p>Aleks Versus'Game Adventure Making'Really Unimaginable Stories'2013-<span id="date_stamp_gamrus">2022</span></p>
                </div>
            </div>
            <div class="em_btn">
                <div>
                    <a href="https://aleksversus.github.io/howdo_faq/" class="emHREFTT">Главная</a>
                </div>
                <div>
                    <a href="#" class="emHREFTT" id="section_content_open">Содержание</a>
                </div>
            </div>
        </div>
        <div class="stub">
            &nbsp;
        </div>
    </div>
    <div id="soderzhanije_outer">
        <div class="soderzhanije">
<ul>
<li>
 `<a href="start.html" style="text-decoration:none;" class="emFOLD">В начало</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_qsp.html#help_qsp" style="text-decoration:none;" class="emFOLD">Что такое QSP?</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_locations.html#help_locations" style="text-decoration:none;" class="emFOLD">Локации</a>`
</li>
<li>
 <span class="em_BLCK">Вывод текста</span>
<ul>
<li>
 <a href="help/main.html" style="text-decoration:none;" class="emFOLD">Основное окно описания</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_stat.html#help_stat" style="text-decoration:none;" class="emFOLD">Дополнительное окно описания</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_msgbox" style="text-decoration:none;" class="emFOLD">Диалоговое окно</a>
</li>
</ul>
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_acts.html#help_acts" style="text-decoration:none;" class="emFOLD">Действия</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_goto.html#help_goto" style="text-decoration:none;" class="emFOLD">Переходы</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_objs.html#help_objs" style="text-decoration:none;" class="emFOLD">Предметы (инвентарь)</a>`
</li>
<li>
 <span class="em_BLCK">Программирование</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_principle.html#help_principle" style="text-decoration:none;" class="emFOLD">Порядок работы интерпретатора</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_variables.html#help_variables" style="text-decoration:none;" class="emFOLD">Переменные</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_expressions.html#help_expressions" style="text-decoration:none;" class="emFOLD">Выражения</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_coding.html#help_coding" style="text-decoration:none;" class="emFOLD">Программный код</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_cycle" style="text-decoration:none;" class="emFOLD">Циклы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_arrays.html#help_arrays" style="text-decoration:none;" class="emFOLD">Массивы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_strings.html#help_strings" style="text-decoration:none;" class="emFOLD">Строки</a>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_regexp.html#help_regexp" style="text-decoration:none;" class="emFOLD">Регулярные выражения</a>
</li>
</ul>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_conditional.html#help_conditional" style="text-decoration:none;" class="emFOLD">Условия</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_organizing.html#help_organizing" style="text-decoration:none;" class="emFOLD">Пользовательские функции и процедуры</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_jump.html#help_jump" style="text-decoration:none;" class="emFOLD">Переходы внутри локации, циклы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_service_locations.html#help_service_locations" style="text-decoration:none;" class="emFOLD">Служебные локации</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_dynamical.html#help_dynamical" style="text-decoration:none;" class="emFOLD">Динамический код</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Оформление</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_menu.html#help_menu" style="text-decoration:none;" class="emFOLD">Меню</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_sound.html#help_sound" style="text-decoration:none;" class="emFOLD">Звук</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_graphics.html#help_graphics" style="text-decoration:none;" class="emFOLD">Графика</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_interface" style="text-decoration:none;" class="emFOLD">Настройки интерфейса</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_html.html#help_html" style="text-decoration:none;" class="emFOLD">HTML</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Расширенные возможности</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_inputs.html#help_inputs" style="text-decoration:none;" class="emFOLD">Ввод текста игроком</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_modules.html#help_modules" style="text-decoration:none;" class="emFOLD">Работа с файлами игр, модули</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_savegame" style="text-decoration:none;" class="emFOLD">Работа с файлами сохранений</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_realtime.html#help_realtime" style="text-decoration:none;" class="emFOLD">Реальное время</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_tuples" style="text-decoration:none;" class="emFOLD">Кортежи</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Нюансы написания игр под разные плееры</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_classic_qsp.html#help_classic_qsp" style="text-decoration:none;" class="emFOLD">Классический плеер</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_qspider" style="text-decoration:none;" class="emFOLD">qSpider</a>
<ul>
<li>
<a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_qspider_gamecfg" style="text-decoration:none;" class="emFOLD">Конфигурационный файл</a>
</li>
<li>
<a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_qspider_aeroqsp" style="text-decoration:none;" class="emFOLD">Особенности запуска AeroQSP-игр</a>
</li>
</ul>
</li>
<li>
 x <a href="https://aleksversus.github.io/howdo_faq/helpful/help_navigator.html#help_navigator" style="text-decoration:none;" class="emFOLD">Quest Navigator</a>
</li>
<li>
 x <a href="https://aleksversus.github.io/howdo_faq/helpful/help_aeroqsp.html#help_aeroqsp" style="text-decoration:none;" class="emFOLD">AeroQSP</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Утилиты и средства разработки</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_qgen" style="text-decoration:none;" class="emFOLD">Quest Generator</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_debugger.html#help_debugger" style="text-decoration:none;" class="emFOLD">Отладчик</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/help_txt2gam.html#help_txt2gam" style="text-decoration:none;" class="emFOLD">Работа с утилитой TXT2GAM</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/helpful/None.html#help_analyzer" style="text-decoration:none;" class="emFOLD">Анализатор кода QSP</a>
</li>
</ul>
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_limits.html#help_limits" style="text-decoration:none;" class="emFOLD">Ограничения QSP</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/howto_start.html#howto_start" style="text-decoration:none;" class="emFOLD">Как сделать?</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_glossary.html#help_glossary" style="text-decoration:none;" class="emFOLD">Cловарь терминов</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/helpful/help_keywords.html#help_keywords" style="text-decoration:none;" class="emFOLD">Ключевые слова. Указатель</a>`
</li>
</ul>
        </div>
    </div>
    <script type="text/javascript" src="../res/js/text_replace.js"></script>
    <script type="text/javascript" src="../res/js/soderzhanie.js" ></script>
</body>
</html>
