<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <link id="favicon" rel="icon" type="image/x-icon" href="../res/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="../res/css/easy.library.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/offline.window.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/qsp_code.css" />
    <title>QSP: ИнформАрхив</title>
</head>
    
<body>
    <div class="em_Main">
        <div class="em_AROUND">
            <h1>Справка по QSP</h1>
            <!-- body start -->
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/wiki/help_regexp.html" class="emHREFTT">&lt; Назад, к странице 11</a></div><div><a href="https://aleksversus.github.io/howdo_faq/wiki/help_txt2gam.html" class="emHREFTT">Вперёд, к странице 13 &gt;</a></div></div>
<p>
<a href="https://aleksversus.github.io/howdo_faq/wiki/help_arrays.html#help_arrays" style="text-decoration:none;" class="emFOLD">Назад: Массивы</a>

</p>
<a id="help_strings"></a><h2>Строки</h2>
<p>
<a id="stroki"></a>

</p>
<p>
В <span class="em_BLCK">QSP</span> есть два типа данных: числовой и строковый. В данном разделе мы рассмотрим строковый тип данных и способы работы с ним.

</p>
<p>
При присвоении строкового значения переменной, перед именем такой переменной обязательно нужно ставить символ '<span class="em_BLCK">$</span>'. То же самое при получении строкового значения из переменной.

</p>
<div class="Monokai-Code">
$text<span class="Monokai-Operator">=</span><span class="Monokai-String">"Зелёное&nbsp;яблоко"</span>&nbsp;<span class="Monokai-Operator">&amp;</span><span class="Monokai-Comment">!&nbsp;помещаем&nbsp;строковое&nbsp;значение&nbsp;в&nbsp;переменную</span><br>
<span class="Monokai-Operator">*pl</span>&nbsp;$text&nbsp;<span class="Monokai-Operator">&amp;</span><span class="Monokai-Comment">!&nbsp;выводим&nbsp;на&nbsp;экран&nbsp;значение&nbsp;строковой&nbsp;переменной</span><br>


</div>
<p>
Так же рекомендуется к названиям всех функций, возвращающих строковые значения, приписывать символ '<span class="em_BLCK">$</span>' для улучшения читаемости кода.

</p>
<div class="Monokai-Code">
<span class="Monokai-Func">$max</span><span class="Monokai-Operator">(</span><span class="Monokai-String">'Петя'</span><span class="Monokai-Operator">,</span><span class="Monokai-String">'Вася'</span><span class="Monokai-Operator">,</span><span class="Monokai-String">'Лёша'</span><span class="Monokai-Operator">,</span><span class="Monokai-String">'Дима'</span><span class="Monokai-Operator">)</span><br>
$text&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Func">$str</span><span class="Monokai-Operator">(</span><span class="Monokai-Numeric">453</span><span class="Monokai-Operator">+</span><span class="Monokai-Numeric">111</span><span class="Monokai-Operator">)</span><br>
$name&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Func">$input</span><span class="Monokai-Operator">(</span><span class="Monokai-String">'Введите&nbsp;имя:'</span><span class="Monokai-Operator">)</span><br>


</div>
<a id="konstanty"></a><h3>Константы</h3>
<p>
Под константой следует понимать одно конкретное значение. Например, число 1441 — это числовая константа, а строка "Зелёные яблоки" — это строковая константа.

</p>
<p>
Если с числовыми константами в QSP всё просто (записываем число, используя набор цифр; например, 4953), то со строковыми есть несколько нюансов:

</p>
<ul>
<li>
 Строковая константа берётся с двух сторон в кавычки (обрамляется кавычками).
<ul>
<li>
 Кавычки могут быть двух видов: апострофы <span class="em_BLCK"><span class="emTEXT">' '</span></span> и прямые кавычки <span class="em_BLCK"><span class="emTEXT">" "</span></span>
</li>
<li>
 Если нужно в константу включить кавычки того же вида, нужно написать кавычки два раза подряд:
<div class="Monokai-Code">
<span class="Monokai-Operator">*PL</span>&nbsp;<span class="Monokai-String">'Byte&nbsp;Soft'</span><span class="Monokai-String">'s&nbsp;"QSP"'</span><br>
<span class="Monokai-Operator">*PL</span>&nbsp;<span class="Monokai-String">"Byte&nbsp;Soft's&nbsp;"</span><span class="Monokai-String">"QSP"</span><span class="Monokai-String">""</span><br>
<span class="Monokai-Comment">!Byte&nbsp;Soft's&nbsp;"QSP"</span><br>


</div>
</li>
</ul>
</li>
<li>
 В строковых константах сохраняются переносы строк и отступы:
<div class="Monokai-Code">
<span class="Monokai-String">'Данный&nbsp;текст<br>
будет&nbsp;расположен&nbsp;на<br>
нескольких&nbsp;строках'</span><br>


</div>
</li>
</ul>
<p>
	$a='И этот

</p>
<p>
	    текст    

</p>
<p>
	также'

</p>
<p>
	a=2 &amp; act 'Многострочное

</p>
<p>
	название':gt 'next'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Если&nbsp;ошибка&nbsp;допущена&nbsp;внутри&nbsp;строковой&nbsp;константы,&nbsp;то&nbsp;вся&nbsp;многострочная&nbsp;константа&nbsp;будет&nbsp;считаться&nbsp;одной&nbsp;строкой&nbsp;при&nbsp;выводе&nbsp;ошибки.<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Текстовые&nbsp;константы&nbsp;и&nbsp;значения&nbsp;переменных&nbsp;можно&nbsp;объединять&nbsp;двумя&nbsp;способами:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;С&nbsp;помощью&nbsp;оператора&nbsp;конкатенации&nbsp;`&`.&nbsp;Выражение&nbsp;нужно&nbsp;брать&nbsp;в&nbsp;скобки,&nbsp;т.к.&nbsp;оператор&nbsp;`&`&nbsp;также&nbsp;разделяет&nbsp;команды:&nbsp;<br>

</div>
<p>
		$res = ('x=' &amp; x &amp; ' y=' &amp; y) &amp;! В переменную $res запишется 'x=5 y=6'

</p>
<p>
		$res = 'x=' &amp; x &amp;! В переменную $res запишется  'x=', а '5' выведется в основное окно описания.

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;С&nbsp;помощью&nbsp;оператора&nbsp;сложения&nbsp;`+`:&nbsp;<br>

</div>
<p>
		$res = 'x=' + x + ' y=' + y &amp;! Результат 'x=5 y=6'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Следует&nbsp;соблюдать&nbsp;осторожность,&nbsp;если&nbsp;одно&nbsp;из&nbsp;слагаемых&nbsp;числового&nbsp;типа:&nbsp;<br>

</div>
<p>
			x = 1

</p>
<p>
			$res = '1' + x

</p>
<p>
			!Результат '2' вместо '11'

</p>
<div class="Monokai-Code">
<br>
--Экранирование--<br>
<br>
Чуть&nbsp;выше&nbsp;были&nbsp;приведены&nbsp;два&nbsp;случая&nbsp;экранирования&nbsp;кавычек&nbsp;в&nbsp;строке.&nbsp;Экранирование&nbsp;становится&nbsp;особенно&nbsp;важным,&nbsp;когда&nbsp;мы&nbsp;имеем&nbsp;дело&nbsp;с&nbsp;более&nbsp;сложным&nbsp;вложением&nbsp;кавычек.&nbsp;Например,&nbsp;при&nbsp;работе&nbsp;с&nbsp;HTML-разметкой.<br>
<br>
Для&nbsp;более&nbsp;полного&nbsp;понимания&nbsp;того,&nbsp;как&nbsp;можно&nbsp;экранировать&nbsp;кавычки&nbsp;в&nbsp;QSP,&nbsp;рассмотрим&nbsp;гиперссылку,&nbsp;в&nbsp;которую&nbsp;встроен&nbsp;переход&nbsp;на&nbsp;локацию.&nbsp;Вот&nbsp;как&nbsp;эта&nbsp;ссылка&nbsp;будет&nbsp;выглядеть&nbsp;на&nbsp;экране&nbsp;при&nbsp;отключенном&nbsp;режиме&nbsp;распознавания&nbsp;HTML:<br>
<br>

</div>
<p>
&lt;a href="EXEC: goto 'Верстак' " class="plain"&gt;Верстак&lt;/a&gt;

</p>
<div class="Monokai-Code">
<br>
Если&nbsp;мы&nbsp;заключим&nbsp;нашу&nbsp;ссылку&nbsp;в&nbsp;одинарные&nbsp;кавычки,&nbsp;нам&nbsp;придётся&nbsp;экранировать&nbsp;одинарные&nbsp;кавычки&nbsp;внутри&nbsp;атрибута&nbsp;href:<br>
<br>

</div>
<p>
*p '&lt;a href="EXEC: goto ''Верстак'' " class="plain"&gt;Верстак&lt;/a&gt;'

</p>
<div class="Monokai-Code">
<br>
Если&nbsp;мы&nbsp;заключим&nbsp;нашу&nbsp;ссылку&nbsp;в&nbsp;двойные&nbsp;кавычки,&nbsp;то&nbsp;нам&nbsp;придётся&nbsp;экранировать&nbsp;непосредственно&nbsp;границы&nbsp;атрибутов&nbsp;от&nbsp;кода&nbsp;QSP:<br>
<br>

</div>
<p>
*p "&lt;a href=""EXEC: goto 'Верстак' "" class=""plain""&gt;Верстак&lt;/a&gt;"

</p>
<div class="Monokai-Code">
<br>
Есть&nbsp;способ&nbsp;записи,&nbsp;когда&nbsp;нам&nbsp;не&nbsp;приходится&nbsp;экарнировать&nbsp;кавычки&nbsp;вообще.&nbsp;Мы&nbsp;просто&nbsp;заключаем&nbsp;ссылку&nbsp;в&nbsp;фигурные&nbsp;скобки:<br>
<br>

</div>
<p>
*p {&lt;a href="EXEC: goto 'Верстак' " class="plain"&gt;Верстак&lt;/a&gt;}

</p>
<div class="Monokai-Code">
<br>
Может&nbsp;так&nbsp;же&nbsp;пригодиться&nbsp;способ,&nbsp;позволяющий&nbsp;создавать&nbsp;глубокие&nbsp;уровни&nbsp;вложенности&nbsp;кавычек&nbsp;друг&nbsp;в&nbsp;друга&nbsp;и&nbsp;обходиться&nbsp;без&nbsp;экранирования:<br>
<br>

</div>
<p>
*p '&lt;a href="EXEC:'+" goto 'Верстак' "+' " class="plain"&gt;Верстак&lt;/a&gt;'

</p>
<div class="Monokai-Code">
<br>
Во&nbsp;всех&nbsp;предыдущих&nbsp;способах&nbsp;мы&nbsp;либо&nbsp;экранировали&nbsp;кавычки&nbsp;от&nbsp;кода&nbsp;QSP,&nbsp;либо&nbsp;пытались&nbsp;избежать&nbsp;экранирования;&nbsp;то&nbsp;есть,&nbsp;чтобы&nbsp;сам&nbsp;плеер&nbsp;правильно&nbsp;читал&nbsp;строки,&nbsp;но&nbsp;есть&nbsp;ещё&nbsp;способ,&nbsp;который&nbsp;позволяет&nbsp;экранировать&nbsp;кавычки&nbsp;от&nbsp;HTML.&nbsp;То&nbsp;есть&nbsp;таким&nbsp;образом&nbsp;мы&nbsp;можем&nbsp;экранировать&nbsp;кавычки&nbsp;внутри&nbsp;атрибутов.&nbsp;Этот&nbsp;способ&nbsp;нужно&nbsp;применять&nbsp;осторожно,&nbsp;поскольку&nbsp;не&nbsp;всякий&nbsp;плеер&nbsp;поддерживает&nbsp;подобное&nbsp;экранирование,&nbsp;а&nbsp;при&nbsp;выводе&nbsp;на&nbsp;экран&nbsp;в&nbsp;режиме&nbsp;с&nbsp;отключенным&nbsp;распознаванием&nbsp;HTML,&nbsp;мы&nbsp;увидим&nbsp;на&nbsp;экране&nbsp;"лишние"&nbsp;символы.&nbsp;То&nbsp;есть&nbsp;этот&nbsp;способ&nbsp;не&nbsp;эквивалентен&nbsp;всем&nbsp;предыдущим.<br>
<br>
<br>

</div>
<p>
! кавычки внутри атрибута экранируются от кавычек атрибута:

</p>
<p>
*p '&lt;a href="EXEC: goto \"Верстак\" " class="plain"&gt;Верстак&lt;/a&gt;'

</p>
<p>
! кавычки внутри атрибута заменяются на код специального символа:

</p>
<p>
*p '&lt;a href="EXEC: goto &quot;Верстак&quot; " class="plain"&gt;Верстак&lt;/a&gt;'

</p>
<div class="Monokai-Code">
<br>
=Сравнение&nbsp;строк=<br>
[:sravnenie_strok]<br>
<br>
Точно&nbsp;так&nbsp;же,&nbsp;как&nbsp;и&nbsp;числовые&nbsp;значения,&nbsp;мы&nbsp;можем&nbsp;сравнивать&nbsp;строковые&nbsp;значения.&nbsp;При&nbsp;этом&nbsp;операции&nbsp;сравнения&nbsp;будут&nbsp;возвращать&nbsp;1,&nbsp;если&nbsp;равенство&nbsp;верно,&nbsp;и&nbsp;0,&nbsp;если&nbsp;равенство&nbsp;неверно.<br>
<br>

</div>
<p>
if 'abc'='abc': 'Условие выполнено'

</p>
<p>
*pl ('abc'='abc') &amp; ! увидим на экране единицу

</p>
<p>
*pl ('abc'&gt;'ab') &amp; ! увидим на экране единицу

</p>
<p>
*pl ('abc'&lt;'abc') &amp; ! увидим на экране ноль

</p>
<div class="Monokai-Code">
<br>
Строки&nbsp;сравниваются&nbsp;посимвольно,&nbsp;начиная&nbsp;с&nbsp;крайнего&nbsp;левого&nbsp;символа.<br>
<br>

</div>
<p>
! это не валидный код qsp

</p>
<p>
! а табличка сравнения строковых констант

</p>
<p>
'ac' = 'ac'

</p>
<p>
'bc' &gt; 'ac'  &amp;! 'b' &gt; 'a'

</p>
<p>
'ac' &gt; 'ab'  &amp;! 'c' &gt; 'b'

</p>
<p>
'b'  &gt; 'ab'  &amp;! 'b' &gt; 'a'

</p>
<p>
'ab' &gt; 'a'   &amp;! 'b' &gt; ''

</p>
<div class="Monokai-Code">
<br>
=Подвыражения=<br>
[:podvyrazhenija]<br>
<br>
`QSP`&nbsp;позволяет&nbsp;вставлять&nbsp;значения&nbsp;различных&nbsp;выражений&nbsp;в&nbsp;строковые&nbsp;константы,&nbsp;а&nbsp;так&nbsp;же&nbsp;в&nbsp;базовые&nbsp;описания&nbsp;локаций&nbsp;и&nbsp;названия&nbsp;базовых&nbsp;действий.&nbsp;Для&nbsp;этого&nbsp;используются&nbsp;специальные&nbsp;конструкции&nbsp;из&nbsp;двойных&nbsp;угловых&nbsp;скобок:&nbsp;&nbsp;"`<<`"&nbsp;и&nbsp;"`>>`".&nbsp;Выражения,&nbsp;помещённые&nbsp;в&nbsp;такие&nbsp;двойные&nbsp;угловые&nbsp;скобки,&nbsp;называются&nbsp;`подвыражениями`,&nbsp;или&nbsp;`вложенными&nbsp;выражениями`.<br>
<br>
Примеры:<br>
<br>

</div>
<p>
число_гоблинов=5

</p>
<p>
'Тебя окружили &lt;&lt;число_гоблинов&gt;&gt; гоблинов!'

</p>
<p>
! на экране будет строка:

</p>
<p>
! <span class="em_BLCK">Тебя окружили 5 гоблинов!</span>

</p>
<div class="Monokai-Code">
<br>

</div>
<p>
pl 'Вас зовут &lt;&lt;$playerName&gt;&gt;, вы находитесь в &lt;&lt;$curloc&gt;&gt;.'

</p>
<div class="Monokai-Code">
<br>
Когда&nbsp;плеер&nbsp;встречает&nbsp;подобное&nbsp;подвыражение,&nbsp;он&nbsp;это&nbsp;подвыражение&nbsp;`раскрывает`,&nbsp;то&nbsp;есть&nbsp;плеер&nbsp;вычисляет&nbsp;значение&nbsp;выражения,&nbsp;помещённого&nbsp;в&nbsp;двойные&nbsp;угловые&nbsp;скобки,&nbsp;а&nbsp;затем&nbsp;вместо&nbsp;угловых&nbsp;скобок&nbsp;с&nbsp;этим&nbsp;выражением&nbsp;подставляет&nbsp;полученное&nbsp;значение.<br>
<br>
Другие&nbsp;примеры:<br>
<br>

</div>
<p>
pl 'i='+$str(i)

</p>
<p>
!эквивалентно

</p>
<p>
pl 'i=&lt;&lt;i&gt;&gt;'

</p>
<div class="Monokai-Code">
<br>
Подвыражения&nbsp;можно&nbsp;вкладывать&nbsp;друг&nbsp;в&nbsp;друга.&nbsp;Здесь&nbsp;очень&nbsp;важно&nbsp;соблюдать&nbsp;чередование&nbsp;кавычек,&nbsp;если&nbsp;вы&nbsp;это&nbsp;делаете:<br>
<br>

</div>
<p>
!Вложенные подвыражения:

</p>
<p>
pl val('&lt;&lt;val("&lt;&lt;i&gt;&gt;")&gt;&gt;&lt;&lt;j&gt;&gt;')

</p>
<p>
pl val('&lt;&lt;$str(val("&lt;&lt;i&gt;&gt;"))&gt;&gt;')

</p>
<p>
!'При использовании вложенных подвыражений

</p>
<p>
необходимо использовать вложенные строковые константы'

</p>
<div class="Monokai-Code">
<br>
Если&nbsp;нужно&nbsp;последовательность&nbsp;"`<<`"&nbsp;вывести&nbsp;на&nbsp;экран,&nbsp;или&nbsp;поместить&nbsp;в&nbsp;переменную,&nbsp;можно&nbsp;воспользоваться&nbsp;одним&nbsp;из&nbsp;этих&nbsp;способов:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Разбить&nbsp;'`<<`'&nbsp;на&nbsp;'`<`'+'`<`':&nbsp;<br>

</div>
<p>
	$text = '&lt;'+'&lt;var&gt;&gt;'

</p>
<p>
	'string &lt;'+'&lt;var&gt;&gt;'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Использовать&nbsp;фигурные&nbsp;скобки:<br>

</div>
<p>
	$text={&lt;&lt;var&gt;&gt;}

</p>
<p>
	*pl {string &lt;&lt;var&gt;&gt;}

</p>
<div class="Monokai-Code">
<br>
Фигурные&nbsp;скобки&nbsp;—&nbsp;это&nbsp;ещё&nbsp;один&nbsp;способ&nbsp;создавать&nbsp;строковые&nbsp;константы.&nbsp;При&nbsp;их&nbsp;использовании&nbsp;создаются&nbsp;точно&nbsp;такие&nbsp;же&nbsp;строковые&nbsp;константы,&nbsp;как&nbsp;и&nbsp;в&nbsp;случае&nbsp;с&nbsp;обычными&nbsp;кавычками,&nbsp;однако&nbsp;в&nbsp;таких&nbsp;константах&nbsp;не&nbsp;раскрываются&nbsp;подвыражения.&nbsp;К&nbsp;тому&nbsp;же&nbsp;текст,&nbsp;размещённый&nbsp;в&nbsp;фигурных&nbsp;скобках&nbsp;не&nbsp;подсвечивается&nbsp;непосредственно&nbsp;как&nbsp;текст&nbsp;различными&nbsp;редакторами&nbsp;(например,&nbsp;Quest&nbsp;Generator),&nbsp;а&nbsp;подсвечивается&nbsp;как&nbsp;обычный&nbsp;код.&nbsp;Поэтому&nbsp;фигурные&nbsp;скобки&nbsp;обычно&nbsp;используют&nbsp;для&nbsp;создания&nbsp;[динамического&nbsp;кода](#help_dynamical).<br>
<br>
=Функции=<br>
[:funkcii]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`LEN(`[$стр]`)`&nbsp;-&nbsp;возвращает&nbsp;длину&nbsp;строки&nbsp;[$стр].<br>

</div>
<p>
	*pl len('Зелёные яблоки') &amp;! на экране будет число 14

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$MID(`[$стр]`,`[#начало]`,`[#длина]`)`&nbsp;-&nbsp;вырезает&nbsp;из&nbsp;строки&nbsp;[$стр]&nbsp;строку,&nbsp;которая&nbsp;начинается&nbsp;с&nbsp;символа&nbsp;номер&nbsp;[#начало]&nbsp;и&nbsp;имеет&nbsp;длину&nbsp;[#длина].&nbsp;Нумерация&nbsp;символов&nbsp;в&nbsp;строке&nbsp;ведётся&nbsp;с&nbsp;1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Параметр&nbsp;[#длина]&nbsp;может&nbsp;отсутствовать,&nbsp;при&nbsp;этом&nbsp;вырезается&nbsp;вся&nbsp;строка,&nbsp;начиная&nbsp;с&nbsp;символа&nbsp;[#начало].<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Если&nbsp;[#начало]&nbsp;превышает&nbsp;длину&nbsp;строки,&nbsp;функция&nbsp;возвращает&nbsp;пустую&nbsp;строку.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Примеры:<br>

</div>
<p>
		$MID('abcd', 1, 2) &amp;! 'ab'

</p>
<p>
		$MID('abcd', 2, 3) &amp;! 'bcd'

</p>
<p>
		$MID('abcd', 2)    &amp;! 'bcd'

</p>
<p>
		$mid('abcd',5) &amp;! '' (пустая строка)

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$UCASE(`[$стр]`)`&nbsp;-&nbsp;возвращает&nbsp;строку&nbsp;больших&nbsp;букв,&nbsp;полученную&nbsp;изменением&nbsp;регистра&nbsp;букв&nbsp;исходной&nbsp;строки&nbsp;[$стр].&nbsp;<br>

</div>
<p>
	$UCASE('TexT#') &amp;! 'TEXT#'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$LCASE(`[$стр]`)`&nbsp;-&nbsp;возвращает&nbsp;строку&nbsp;маленьких&nbsp;букв,&nbsp;полученную&nbsp;изменением&nbsp;регистра&nbsp;букв&nbsp;исходной&nbsp;строки&nbsp;[$стр].&nbsp;<br>

</div>
<p>
	$LCASE('TExT#') &amp;! 'text#'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$TRIM(`[$стр]`)`&nbsp;-&nbsp;удаляет&nbsp;прилегающие&nbsp;пробелы&nbsp;и&nbsp;символы&nbsp;табуляции&nbsp;из&nbsp;[$стр]&nbsp;и&nbsp;возвращает&nbsp;полученную&nbsp;строку.&nbsp;<br>

</div>
<p>
	$TRIM(' TRIM TEST ') &amp;! 'TRIM TEST'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$REPLACE(`[$стр]`,`[$поиск]`,`[$замена]`)`&nbsp;-&nbsp;заменяет&nbsp;в&nbsp;строке&nbsp;[$стр]&nbsp;все&nbsp;вхождения&nbsp;строки&nbsp;[$поиск]&nbsp;строкой&nbsp;[$замена].<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Параметр&nbsp;[$замена]&nbsp;может&nbsp;отсутствовать&nbsp;и&nbsp;принимается&nbsp;равным&nbsp;пустой&nbsp;строке.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Примеры:<br>

</div>
<p>
		$REPLACE('test', '12', '4') &amp;! 'test'

</p>
<p>
		$REPLACE('test', 'e', 's')  &amp;! 'tsst'

</p>
<p>
		$REPLACE('test', 't', '34') &amp;! '34es34'

</p>
<p>
		$REPLACE('test', 't')       &amp;! 'es'

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`INSTR(`[$строка]`,`[$поиск]`,`[#начало]`)`&nbsp;-&nbsp;возвращает&nbsp;номер&nbsp;позиции&nbsp;символа,&nbsp;с&nbsp;которого&nbsp;начинается&nbsp;вхождение&nbsp;строки&nbsp;[$поиск]&nbsp;в&nbsp;строку&nbsp;[$строка]&nbsp;(или&nbsp;0,&nbsp;если&nbsp;вхождения&nbsp;нет).&nbsp;Поиск&nbsp;начинается&nbsp;с&nbsp;символа&nbsp;номер&nbsp;[#начало].<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Параметр&nbsp;[#начало]&nbsp;может&nbsp;отсутствовать,&nbsp;при&nbsp;этом&nbsp;он&nbsp;принимается&nbsp;равным&nbsp;`1`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;Примеры:<br>

</div>
<p>
		INSTR('ABCDefgh','BC',1) &amp;! 2

</p>
<p>
		INSTR('ABCDefgh','Be',1) &amp;! 0

</p>
<p>
		INSTR('abcdef','abc')    &amp;! 1

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`ISNUM(`[$строка]`)`&nbsp;-&nbsp;функция&nbsp;проверяет,&nbsp;является&nbsp;ли&nbsp;строка&nbsp;[$строка]&nbsp;числом.&nbsp;Функция&nbsp;возвращает&nbsp;0&nbsp;(ложь)&nbsp;или&nbsp;1&nbsp;(истина).&nbsp;<br>

</div>
<p>
	ISNUM(' 9999 ') &amp;! 1

</p>
<p>
	ISNUM(' -888')  &amp;! 1

</p>
<p>
	ISNUM('777a6')  &amp;! 0

</p>
<p>
	ISNUM('')       &amp;! 0, т.к. пустая строка не содержит числа

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`VAL(`[$стр]`)`&nbsp;-&nbsp;переводит&nbsp;строку&nbsp;цифр&nbsp;[$стр]&nbsp;в&nbsp;соответствующее&nbsp;число.&nbsp;При&nbsp;ошибке&nbsp;возвращает&nbsp;0.<br>

</div>
<p>
	яблоки = VAL($яблоки)

</p>
<p>
	val('123') &amp; ! увидим 123

</p>
<p>
	val('') &amp; ! увидим 0

</p>
<p>
	val('sand') &amp; ! увидим 0

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;`$STR(`[#число]`)`&nbsp;-&nbsp;переводит&nbsp;число&nbsp;(числовое&nbsp;выражение)&nbsp;в&nbsp;соответствующую&nbsp;строку.&nbsp;<br>

</div>
<p>
	PL $STR(56)

</p>
<div class="Monokai-Code">
<br>
[Вперёд:&nbsp;Регулярные&nbsp;выражения](#help_regexp)<br>
<br>

</div>
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/wiki/help_regexp.html" class="emHREFTT">&lt; Назад, к странице 11</a></div><div><a href="https://aleksversus.github.io/howdo_faq/wiki/help_txt2gam.html" class="emHREFTT">Вперёд, к странице 13 &gt;</a></div></div>
<!-- body end -->
            <div class="em_Epigraph">
                <div class="em_subText">
                    <p>Aleks Versus'HowDo-F.A.Q.'2021-<span id="date_stamp_faq">2022</span></p>
                    <p>Aleks Versus'Game Adventure Making'Really Unimaginable Stories'2013-<span id="date_stamp_gamrus">2022</span></p>
                </div>
            </div>
            <div class="em_btn">
                <div>
                    <a href="https://aleksversus.github.io/howdo_faq/" class="emHREFTT">Главная</a>
                </div>
                <div>
                    <a href="#" class="emHREFTT" id="section_content_open">Содержание</a>
                </div>
            </div>
        </div>
        <div class="stub">
            &nbsp;
        </div>
    </div>
    <div id="soderzhanije_outer">
        <div class="soderzhanije">
<ul>
<li>
 `<a href="start.html" style="text-decoration:none;" class="emFOLD">В начало</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_qsp.html#help_qsp" style="text-decoration:none;" class="emFOLD">Что такое QSP?</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_locations.html#help_locations" style="text-decoration:none;" class="emFOLD">Локации</a>`
</li>
<li>
 <span class="em_BLCK">Вывод текста</span>
<ul>
<li>
 <a href="help/main.html" style="text-decoration:none;" class="emFOLD">Основное окно описания</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_stat.html#help_stat" style="text-decoration:none;" class="emFOLD">Дополнительное окно описания</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_msgbox" style="text-decoration:none;" class="emFOLD">Диалоговое окно</a>
</li>
</ul>
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_acts.html#help_acts" style="text-decoration:none;" class="emFOLD">Действия</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_goto.html#help_goto" style="text-decoration:none;" class="emFOLD">Переходы</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_objs.html#help_objs" style="text-decoration:none;" class="emFOLD">Предметы (инвентарь)</a>`
</li>
<li>
 <span class="em_BLCK">Программирование</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_principle.html#help_principle" style="text-decoration:none;" class="emFOLD">Порядок работы интерпретатора</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_variables.html#help_variables" style="text-decoration:none;" class="emFOLD">Переменные</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_expressions.html#help_expressions" style="text-decoration:none;" class="emFOLD">Выражения</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_coding.html#help_coding" style="text-decoration:none;" class="emFOLD">Программный код</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_cycle" style="text-decoration:none;" class="emFOLD">Циклы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_arrays.html#help_arrays" style="text-decoration:none;" class="emFOLD">Массивы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_strings.html#help_strings" style="text-decoration:none;" class="emFOLD">Строки</a>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_regexp.html#help_regexp" style="text-decoration:none;" class="emFOLD">Регулярные выражения</a>
</li>
</ul>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_conditional.html#help_conditional" style="text-decoration:none;" class="emFOLD">Условия</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_organizing.html#help_organizing" style="text-decoration:none;" class="emFOLD">Пользовательские функции и процедуры</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_jump.html#help_jump" style="text-decoration:none;" class="emFOLD">Переходы внутри локации, циклы</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_service_locations.html#help_service_locations" style="text-decoration:none;" class="emFOLD">Служебные локации</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_dynamical.html#help_dynamical" style="text-decoration:none;" class="emFOLD">Динамический код</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Оформление</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_menu.html#help_menu" style="text-decoration:none;" class="emFOLD">Меню</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_sound.html#help_sound" style="text-decoration:none;" class="emFOLD">Звук</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_graphics.html#help_graphics" style="text-decoration:none;" class="emFOLD">Графика</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_interface" style="text-decoration:none;" class="emFOLD">Настройки интерфейса</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_html.html#help_html" style="text-decoration:none;" class="emFOLD">HTML</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Расширенные возможности</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_inputs.html#help_inputs" style="text-decoration:none;" class="emFOLD">Ввод текста игроком</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_modules.html#help_modules" style="text-decoration:none;" class="emFOLD">Работа с файлами игр, модули</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_savegame" style="text-decoration:none;" class="emFOLD">Работа с файлами сохранений</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_realtime.html#help_realtime" style="text-decoration:none;" class="emFOLD">Реальное время</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_tuples" style="text-decoration:none;" class="emFOLD">Кортежи</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Нюансы написания игр под разные плееры</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_classic_qsp.html#help_classic_qsp" style="text-decoration:none;" class="emFOLD">Классический плеер</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_qspider" style="text-decoration:none;" class="emFOLD">qSpider</a>
<ul>
<li>
<a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_qspider_gamecfg" style="text-decoration:none;" class="emFOLD">Конфигурационный файл</a>
</li>
<li>
<a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_qspider_aeroqsp" style="text-decoration:none;" class="emFOLD">Особенности запуска AeroQSP-игр</a>
</li>
</ul>
</li>
<li>
 x <a href="https://aleksversus.github.io/howdo_faq/wiki/help_navigator.html#help_navigator" style="text-decoration:none;" class="emFOLD">Quest Navigator</a>
</li>
<li>
 x <a href="https://aleksversus.github.io/howdo_faq/wiki/help_aeroqsp.html#help_aeroqsp" style="text-decoration:none;" class="emFOLD">AeroQSP</a>
</li>
</ul>
</li>
<li>
 <span class="em_BLCK">Утилиты и средства разработки</span>
<ul>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_qgen" style="text-decoration:none;" class="emFOLD">Quest Generator</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_debugger.html#help_debugger" style="text-decoration:none;" class="emFOLD">Отладчик</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/help_txt2gam.html#help_txt2gam" style="text-decoration:none;" class="emFOLD">Работа с утилитой TXT2GAM</a>
</li>
<li>
 <a href="https://aleksversus.github.io/howdo_faq/wiki/None.html#help_analyzer" style="text-decoration:none;" class="emFOLD">Анализатор кода QSP</a>
</li>
</ul>
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_limits.html#help_limits" style="text-decoration:none;" class="emFOLD">Ограничения QSP</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/howto_start.html#howto_start" style="text-decoration:none;" class="emFOLD">Как сделать?</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_glossary.html#help_glossary" style="text-decoration:none;" class="emFOLD">Cловарь терминов</a>`
</li>
<li>
 `<a href="https://aleksversus.github.io/howdo_faq/wiki/help_keywords.html#help_keywords" style="text-decoration:none;" class="emFOLD">Ключевые слова. Указатель</a>`
</li>
</ul>
        </div>
    </div>
    <script type="text/javascript" src="../res/js/text_replace.js"></script>
    <script type="text/javascript" src="../res/js/soderzhanie.js" ></script>
</body>
</html>
