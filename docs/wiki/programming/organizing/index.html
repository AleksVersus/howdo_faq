<!doctype html>
<html lang="ru" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-wiki/programming/organizing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">organizing | Справочник | F.A.Q.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aleksversus.github.io/howdo_faq/res/favicon.ico"><meta data-rh="true" name="twitter:image" content="https://aleksversus.github.io/howdo_faq/res/favicon.ico"><meta data-rh="true" property="og:url" content="https://aleksversus.github.io/howdo_faq/docs/wiki/programming/organizing"><meta data-rh="true" property="og:locale" content="ru"><meta data-rh="true" name="docusaurus_locale" content="ru"><meta data-rh="true" name="docsearch:language" content="ru"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="organizing | Справочник | F.A.Q."><meta data-rh="true" name="description" content="Назад: Условия"><meta data-rh="true" property="og:description" content="Назад: Условия"><link data-rh="true" rel="icon" href="/howdo_faq/res/favicon.ico"><link data-rh="true" rel="canonical" href="https://aleksversus.github.io/howdo_faq/docs/wiki/programming/organizing"><link data-rh="true" rel="alternate" href="https://aleksversus.github.io/howdo_faq/docs/wiki/programming/organizing" hreflang="ru"><link data-rh="true" rel="alternate" href="https://aleksversus.github.io/howdo_faq/docs/wiki/programming/organizing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Пользовательские функции и процедуры","item":"https://aleksversus.github.io/howdo_faq/docs/wiki/programming/organizing"}]}</script><link rel="stylesheet" href="/howdo_faq/assets/css/styles.6556fb06.css">
<script src="/howdo_faq/assets/js/runtime~main.70a0a106.js" defer="defer"></script>
<script src="/howdo_faq/assets/js/main.ae4c95f8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Перейти к основному содержимому"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Перейти к основному содержимому</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/howdo_faq/"><b class="navbar__title text--truncate">Главная</b></a><a class="navbar__item navbar__link" href="/howdo_faq/docs/howdo/intro">Как сделать? F.A.Q.</a><a class="navbar__item navbar__link" href="/howdo_faq/docs/news/news_content">Новости QSP</a><a class="navbar__item navbar__link" href="/howdo_faq/docs/articles/type_casting">Статьи</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/howdo_faq/docs/informarch/intro">Информ-Архив</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/howdo_faq/docs/wiki/start">QSP-wiki</a><a href="https://github.com/AleksVersus/howdo_faq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub/HowDo_F.A.Q<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Переключение между темным и светлым режимом (сейчас используется system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/start"><span title="Справочная информация о платформе Quest Soft Player" class="linkLabel_WmDU">Справочная информация о платформе Quest Soft Player</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/qsp"><span title="Что такое QSP?" class="linkLabel_WmDU">Что такое QSP?</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/locations"><span title="Локации" class="linkLabel_WmDU">Локации</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/text_print/main"><span title="Вывод текста" class="categoryLinkLabel_W154">Вывод текста</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/acts"><span title="Действия" class="linkLabel_WmDU">Действия</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/goto"><span title="Переходы" class="linkLabel_WmDU">Переходы</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/objs"><span title="Предметы (Инвентарь)" class="linkLabel_WmDU">Предметы (Инвентарь)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/howdo_faq/docs/wiki/programming/principle"><span title="Программирование" class="categoryLinkLabel_W154">Программирование</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/principle"><span title="Порядок работы интерпретатора" class="linkLabel_WmDU">Порядок работы интерпретатора</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/variables"><span title="Переменные" class="linkLabel_WmDU">Переменные</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/expressions"><span title="Выражения" class="linkLabel_WmDU">Выражения</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/coding"><span title="Программный код" class="linkLabel_WmDU">Программный код</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/cycle"><span title="Циклы" class="linkLabel_WmDU">Циклы</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/arrays"><span title="Массивы" class="linkLabel_WmDU">Массивы</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/howdo_faq/docs/wiki/programming/strings/"><span title="Строки" class="categoryLinkLabel_W154">Строки</span></a><button aria-label="Expand sidebar category &#x27;Строки&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/tuples"><span title="Кортежи" class="linkLabel_WmDU">Кортежи</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/conditional"><span title="Условия" class="linkLabel_WmDU">Условия</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/howdo_faq/docs/wiki/programming/organizing"><span title="Пользовательские функции и процедуры" class="linkLabel_WmDU">Пользовательские функции и процедуры</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/jump"><span title="Переходы внутри локации" class="linkLabel_WmDU">Переходы внутри локации</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/service_locations"><span title="Служебные локации" class="linkLabel_WmDU">Служебные локации</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/howdo_faq/docs/wiki/programming/dynamical"><span title="Динамический код" class="linkLabel_WmDU">Динамический код</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/design/menu"><span title="Оформление" class="categoryLinkLabel_W154">Оформление</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/advanced/inputs"><span title="Расширенные возможности" class="categoryLinkLabel_W154">Расширенные возможности</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/players/classic_qsp"><span title="Нюансы написания игр под разные плееры" class="categoryLinkLabel_W154">Нюансы написания игр под разные плееры</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/utilits/qgen"><span title="Утилиты и средства разработки" class="categoryLinkLabel_W154">Утилиты и средства разработки</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/limits"><span title="Ограничения QSP" class="linkLabel_WmDU">Ограничения QSP</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/glossary"><span title="Словарь терминов" class="linkLabel_WmDU">Словарь терминов</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/howdo_faq/docs/wiki/keywords"><span title="Ключевые слова" class="linkLabel_WmDU">Ключевые слова</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/howdo_faq/docs/wiki/hide/arrays"><span title="hide" class="categoryLinkLabel_W154">hide</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Главная страница" class="breadcrumbs__link" href="/howdo_faq/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Программирование</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Пользовательские функции и процедуры</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><p><a class="" href="/howdo_faq/docs/wiki/programming/conditional">Назад: Условия</a></p>
<header><h1>Пользовательские функции и процедуры</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="общая-информация-о-gosub-и-func">Общая информация о GOSUB и FUNC<a href="#общая-информация-о-gosub-и-func" class="hash-link" aria-label="Прямая ссылка на Общая информация о GOSUB и FUNC" title="Прямая ссылка на Общая информация о GOSUB и FUNC" translate="no">​</a></h2>
<p>Сам принцип написания игр на <strong>QSP</strong> предполагает, что игра будет состоять из отдельных блоков кода — локаций. Эти локации могут быть связаны между собой переходами с помощью операторов <code>GOTO</code> и <code>XGOTO</code>. Таким образом в <strong>QSP</strong> реализуется перемещение по игре, например, перемещение с места на место, или по главам интерактивной истории.</p>
<p>Однако иногда нам необходимо использовать локации не как локации мест, не как главы или страницы, а для того, чтобы иметь возможность выполнять повторяющиеся фрагменты кода. Например, мы пишем на нескольких разных локациях действие подъёма яблок. И нам нужно, чтобы это действие увеличивало число яблок у нас в рюкзаке, уменьшало на соответствующей локации и добавляло предмет &quot;Яблоки&quot;, если мы не поднимали ещё ни одного яблока.</p>
<p>В принципе мы это можем сделать, просто копируя на каждую локацию вот такое действие:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять яблоко&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>Но посмотрите, сколько строчек кода это действие занимает. Семь. Если мы скопируем такое действие два или три раза, это ещё ничего, но что, если нам придётся копировать действие сто раз? Это семь сотен строчек кода. Это попросту увеличивает объём нашей игры в десятки раз. А ведь у нас может быть не одно такое действие.</p>
<p>Чтобы нам не приходилось писать одинаковый код множество и множество раз, в <strong>QSP</strong> предусмотрены специальный оператор <code>GOSUB</code> и специальная функция <code>FUNC</code>, которые позволяют нам превращать любые локации в собственные процедуры и функции. В данном случае мы можем вынести код действия в отдельную локацию, назвать эту локацию <code>&quot;поднять_яблоко&quot;</code>, а затем вызывать эту локацию из действия с помощью <code>GOSUB</code>.</p>
<p>Локация <code>&quot;поднять_яблоко&quot;</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# поднять_яблоко</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">+=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">-=</span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<p>Действие, которое мы пишем на любой другой локации:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять яблоко&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;поднять_яблоко&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>Как видите, всё наше действие сократилось до трёх строчек кода, а сам код подъёма яблока написан нами всего один раз!</p>
<p>(Подробнее о том, как работает оператор <code>GOSUB</code> вы можете прочитать в разделе ниже).</p>
<p>Ну а если, предположим, нам нужно написать сразу три действия по подъёму яблок? И все три эти действия отличаются только числом яблок, которые мы поднимаем:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять одно яблоко&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">+=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">-=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять два яблока&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">+=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">-=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять пять яблок&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">+=</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">-=</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>Вроде бы код здесь тоже повторяется, но не совсем. Что же делать?</p>
<p>И для таких ситуаций в <strong>QSP</strong> уже предусмотрен специальный механизм. Дело в том, что оператор <code>GOSUB</code> позволяет передавать на локацию, которую мы с его помощью вызываем, различные значения. В данном случае нам нужно передавать на локацию <code>&quot;поднять_яблоко&quot;</code>, которую мы писали в предыдущем примере, число яблок. В действиях это будет выглядеть вот так:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять одно яблоко&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;поднять_яблоко&quot;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять два яблока&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;поднять_яблоко&quot;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять пять яблок&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;поднять_яблоко&quot;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>Через запятую после названия локации мы можем перечислять различные значения (строковые, числовые, кортежи), и эти значения будут переданы на указанную локацию. Однако где на локации <code>&quot;поднять_яблоко&quot;</code> нам искать эти переданные значения?</p>
<p>Всё просто. Значения, которые мы передаём на локацию таким образом, автоматически помещаются в массив <code>ARGS</code>, в ячейки, начиная с нулевой. И получается, что нам надо искать наше значение в <code>ARGS[0]</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# поднять_яблоко</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token sys-variable">args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> </span><span class="token sys-variable">args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><br></span></code></pre></div></div>
<p>Можно передавать до девятнадцати любых значений на локацию и искать их на этой локации в массиве <code>ARGS</code> соответственно в ячейках с нулевой по восемнадцатую. Вот ещё пример передачи аргументов:</p>
<p>Локация <code>&quot;Приготовить&quot;</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# приготовить</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Я должен приготовить &lt;&lt;$args[0]&gt;&gt;, но не просто &lt;&lt;$args[0]&gt;&gt;, а &lt;&lt;$args[0]&gt;&gt; &lt;&lt;$args[1]&gt;&gt;, чтобы съесть &lt;&lt;$args[2]&gt;&gt;.&quot;</span><br></span></code></pre></div></div>
<p>А вот пример вызова этой локации из действий:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Завтрак&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Приготовить&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;яичницу&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;с луком&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;на завтрак&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Обед&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Приготовить&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;гуляш&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;с овощами&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;в обед&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Ужин&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Приготовить&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;салат&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;с креветками&quot;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&quot;на ужин&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<p>Иногда нам нужно не только передать данные на локацию, но и получить с неё какие-то данные назад. Для этого случая нужно воспользоваться специальной функцией <code>FUNC</code>.</p>
<p>Как и <code>GOSUB</code>, эта функция вызывает локацию, чтобы выполнить на ней какой-то код, однако, в отличие от <code>GOSUB</code>, <code>FUNC</code> может вернуть значение из локации.</p>
<p>Чтобы локация, вызванная с помощью <code>FUNC</code>, вернула какое-то значение, мы должны на этой локации присвоить это значение переменной <code>RESULT</code>. Например, мы хотим написать локацию, на которую будем передавать число, и чтобы эта локация возвращала нам квадрат переданного числа (то есть число умноженное на само себя). Назовём эту локацию <code>&quot;sqr&quot;</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# sqr</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token sys-variable">result</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token sys-variable">args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">*</span><span class="token sys-variable">args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><br></span></code></pre></div></div>
<p>Как видите, на локации <code>&quot;sqr&quot;</code> мы умножаем число из <code>ARGS[0]</code> само на себя, а затем результат присваиваем переменной <code>RESULT</code>. Именно значение из переменной <code>RESULT</code> локация <code>&quot;sqr&quot;</code> вернёт с помощью функции <code>FUNC</code> на любой другой локации:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;sqr&#x27;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">2</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;sqr&#x27;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;sqr&#x27;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">4</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 16</span><br></span></code></pre></div></div>
<p>Во всех приведённых примерах функцией является <code>FUNC</code>, а оператором — <code>GOSUB</code>, однако для удобства допустимо называть функциями именно локации, которые мы вызываем с помощью <code>GOSUB</code> или <code>FUNC</code>. Например: «<em>Я написал функцию &quot;поднять_яблоко&quot;</em>».</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="описание-gosub">Описание GOSUB<a href="#описание-gosub" class="hash-link" aria-label="Прямая ссылка на Описание GOSUB" title="Прямая ссылка на Описание GOSUB" translate="no">​</a></h2>
<p><code>GOSUB</code> — выполнение кода указанной локации без непосредственного перехода на неё.</p>
<p>Общая запись:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">GOSUB</span><span class="token plain"> </span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><br></span></code></pre></div></div>
<p>, где <code>[$локация]</code> — это название локации, код которой мы хотим выполнить без непосредственного п ерехода на неё. Значения <code>[аргумент 0]</code>, <code>[аргумент 1]</code> и т.д. могут использоваться на этой локации, их значения автоматически помещаются в ячейки массива <code>ARGS[0]</code>, <code>ARGS[1]</code>, и т.д. соответственно. После обработки локации предыдущие значения <code>ARGS</code> восстанавливаются. Использование аргументов не обязательно.</p>
<p>Оператор имеет краткую форму <code>GS</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">GS</span><span class="token plain"> </span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><br></span></code></pre></div></div>
<p>Допустимо помещать название локации и аргументы в скобки:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">GOSUB</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<p>При вызове указанной локации с помощью <code>GOSUB</code> происходит следующее:</p>
<ul>
<li class="">Плеер прерывает выполнение текущего кода (например, кода текущей локации), и обращается к указанной локации</li>
<li class="">Базовое описание и список действий указанной локации добавляются к описанию и действиям текущей локации.</li>
<li class="">Выполненяется код из поля <strong>Выполнить при посещении</strong></li>
<li class="">Затем плеер возвращается к выполнению кода, который прервал, к команде сразу после оператора <code>GOSUB</code>.</li>
</ul>
<p>На каждой локации автоматически создаётся собственный уникальный массив <code>ARGS</code>, поэтому значения в этом массиве для каждой локации будут свои собственные. После выполнения кода локации, вызванной по <code>GOSUB</code>, массив <code>ARGS</code> этой локации уничтожается.</p>
<p><strong>Обратите внимание!</strong> Значения из массива <code>ARGS</code> с локации, вызванной через GOSUB, не транслируются в блоки <code>ACT</code>. В блоки <code>ACT</code> транслируются значения <code>ARGS</code> из текущей локации, т.е. локации, на которую был осуществлён переход с помощью операторов <code>GOTO</code>/<code>XGOTO</code>.</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token start-location">#начало</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token sys-variable">$args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;локация начало&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">gosub</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;переход&#x27;</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;локация переход&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token end-location">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token start-location">#переход</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token sys-variable">$args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token quoted-comment comment" style="color:#999988;font-style:italic">! На экран выведется &#x27;локация переход&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Перейти&#x27;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> </span><span class="token sys-variable">$args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token quoted-comment comment" style="color:#999988;font-style:italic">! если нажмётё действие, увидите текст &#x27;локация начало&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token end-location">-</span><br></span></code></pre></div></div>
<p>Другие примеры:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token quoted-comment comment" style="color:#999988;font-style:italic">! обработка локации &quot;ход&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! На локацию не переадются аргументы</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! массив ARGS пуст</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GS</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ход&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!обработка локации с названием из переменной $location</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!Передаётся один параметр - args[0] равен 1.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GS</span><span class="token plain"> </span><span class="token user-variable">$location</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token quoted-comment comment" style="color:#999988;font-style:italic">!обработка локации &quot;ход&quot; с передачей 3-х параметров. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! $args[0] = $var (значению), args[1] = 2, </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token quoted-comment comment" style="color:#999988;font-style:italic">! $args[2] = &quot;данные&quot;. Обратите внимание на символы &#x27;$&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">GS</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ход&#x27;</span><span class="token sign-punctuation">,</span><span class="token user-variable">$var</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">2</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&#x27;данные&#x27;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="описание-func">Описание FUNC<a href="#описание-func" class="hash-link" aria-label="Прямая ссылка на Описание FUNC" title="Прямая с сылка на Описание FUNC" translate="no">​</a></h2>
<p><code>FUNC</code> — выполнение кода указанной локации без непосредственного перехода на неё с возвращением значения.</p>
<p>Общая запись:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">FUNC</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">$FUNC</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  %</span><span class="token builtin">FUNC</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<p>, где <code>[$локация]</code> — это название локации, код которой мы хотим выполнить без непосредственного перехода на неё. Аргументы <code>[аргумент 0]</code>, <code>[аргумент 1]</code> и т.д. могут использоваться на этой локации, их значения автоматически помещаются в ячейки массива <code>ARGS[0]</code>, <code>ARGS[1]</code>, и т.д. соответственно. Название локации и аргументы должны обязательно заключаться в скобки.</p>
<p>Чтобы <code>FUNC</code> вернула строковый результат, на указанной локации нужно присвоить этот результат переменной <code>$RESULT</code>.</p>
<p>Для возвращения числового результата, он должен быть присвоен переменной <code>RESULT</code>.</p>
<p>Если нужно вернуть несколько значений, используется кортеж <code>%RESULT</code>.</p>
<p>Следует помнить, что <code>%RESULT</code>, <code>$RESULT</code> и <code>RESULT</code> — это одна и та же переменная, но разных типов, поэтому если вы определили на локации и <code>%RESULT</code>, <code>$RESULT</code> и <code>RESULT</code>, функция вернёт то значение, которое было записано в эту переменную последним.</p>
<p>Если переменной <code>RESULT</code> не было присвоено никакое значение, функция ничего не вернёт. И тут есть два варианта поведения плеера.</p>
<ul>
<li class="">Если функция <code>FUNC</code> стоит в каком либо выражении, вместо функции будет подставлено значение по умолчанию (пустая строка или ноль в зависимости от типа самого выражения).</li>
<li class="">Если функция <code>FUNC</code> стоит сразу после неявного оператора, такой оператор будет проигнорирован, и на экран ничего выводиться не будет. Пример:</li>
</ul>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# локация_Н</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">N</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! ни одно значение не присваивается переменной result</span><br></span></code></pre></div></div>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&#x27;строка 1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;локация_Н&#x27;</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token comment" style="color:#999988;font-style:italic">! ничего не выведется на экран</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&#x27;строка 2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">56</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;ло кация_Н&#x27;</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token comment" style="color:#999988;font-style:italic">! функция стоит в выражении. Её значение = 0. На экране будет 56</span><br></span></code></pre></div></div>
<p>Не обязательно, но рекомендуется, записывать ключевое слово <code>FUNC</code> с символом <code>$</code>, если функция должна вернуть текстовое значение, и с символом <code>%</code>, если функция должна вернуть кортеж. Это улучшит читаемость кода:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin">$func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;срез_строки&#x27;</span><span class="token sign-punctuation">,</span><span class="token string" style="color:#e3116c">&#x27;Мы вышли из дома, когда во всех окнах погасли огни.&#x27;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">7</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;возвести_в_степень&#x27;</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">$name</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token user-variable">age</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token user-variable">%coords</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> %</span><span class="token builtin">func</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;get_pers&#x27;</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mjolnir&#x27;</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<p>При вызове указанной локации с помощью <code>FUNC</code> происходит следующее:</p>
<ul>
<li class="">Плеер прерывает выполнение текущего кода (например, кода текущей локации), и обращается к указанной локации</li>
<li class="">Базовое описание и список действий указанной локации добавляются к описанию и действиям текущей локации.</li>
<li class="">Выполненяется код из поля <strong>Выполнить при посещении</strong></li>
<li class="">Затем плеер возвращается к выполнению кода, который прервал. То есть к вычислению выражения, в котором стоит данная функция.</li>
</ul>
<p>На каждой локации автоматически создаются свои собственные уникальные массивы <code>ARGS</code> и <code>RESULT</code>, поэтому значения в этих массивах для каждой локации будут свои собственные. После выполнения кода локации, вызванной по <code>FUNC</code>, массивы <code>ARGS</code> и <code>RESULT</code> этой локации уничтожаются.</p>
<p>Обратите внимание! Значения из массивов <code>ARGS</code> и <code>RESULT</code> с локации, вызванной через <code>FUNC</code>, не транслируются в блоки <code>ACT</code>. В блоки <code>ACT</code> транслируются значения <code>ARGS</code> и <code>RESULT</code> из текущей локации, т.е. локации, на которую был осуществлён переход с помощью операторов <code>GOTO</code>/<code>XGOTO</code>.</p>
<p>Примеры:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token quoted-comment comment" style="color:#999988;font-style:italic">!Обработка локации &quot;поднять_яблоко&quot; как функции. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!Массив ARGS пуст. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!Результат передается через RESULT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!и записывается в переменную яблоки</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">FUNC</span><span class="token sign-punctuation">(</span><span class="token string" style="color:#e3116c">&#x27;поднять_яблоко&#x27;</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!обработка локации с названием в $name как функции. ARGS[0] равен 1.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">PL</span><span class="token plain"> </span><span class="token builtin">FUNC</span><span class="token sign-punctuation">(</span><span class="token user-variable">$name</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">78</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">!обработка локации с названием в $name как функции. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token quoted-comment comment" style="color:#999988;font-style:italic">!$ARGS[0] содержит строку &quot;строка&quot;, ARGS[1] равен 2.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">MSG</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">FUNC</span><span class="token sign-punctuation">(</span><span class="token user-variable">$name</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;строка&quot;</span><span class="token sign-punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ранний-выход-оператор-exit">Ранний выход. Оператор EXIT<a href="#ранний-выход-оператор-exit" class="hash-link" aria-label="Прямая ссылка на Ранний выход. Оператор EXIT" title="Прямая ссылка на Ранний выход. Оператор EXIT" translate="no">​</a></h2>
<p>Чтобы прервать выполнение текущего кода и выйти из вызванной с помощью <code>GOSUB</code> или <code>FUNC</code> локации, используйте оператор <code>EXIT</code>.</p>
<p><code>EXIT</code> - завершение выполнения текущего кода (преждевременный выход из подпрограммы/обработчика какого-либо события).</p>
<p>Пример:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token sys-variable">args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exit</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="неявный-вызов-функции-func">Неявный вызов функции FUNC<a href="#неявный-вызов-функции-func" class="hash-link" aria-label="Прямая ссылка на Неявный вызов функции FUNC" title="Прямая ссылка на Неявный вызов функции FUNC" translate="no">​</a></h2>
<p>Вы можете не прописывать всякий раз функцию <code>FUNC</code> явно. Можно использовать более простую запись. Вот как это выглядит в общем виде:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@</span><span class="token sign-punctuation">[</span><span class="token user-variable">$локация</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token plain"> ... </span><span class="token sign-punctuation">,</span><span class="token sign-punctuation">[</span><span class="token user-variable">аргумент</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<p>Здесь <code>[$локация]</code> — это название локации, код которо й мы хотим выполнить без непосредственного перехода на неё. Аргументы <code>[аргумент 0]</code>, <code>[аргумент 1]</code> и т.д. могут использоваться на этой локации, их значения автоматически помещаются в ячейки массива <code>ARGS[0]</code>, <code>ARGS[1]</code>, и т.д. соответственно.</p>
<p>То есть: пишем символ <code>@</code>, затем без пробелов название локации, и сразу за названием локации в скобках через запятую перечисляем аргументы.</p>
<p>При такой записи необходимо соблюдать несколько правил:</p>
<ul>
<li class="">Название локации не должно содержать пробелов, символов математических операций и специальных символов (за исключением точки)</li>
<li class="">Название локации не должно совпадать с ключевыми словами QSP, в том числе с названиями системных переменных.</li>
<li class="">Аргументы, передаваемые на локацию, всегда должны заключаться в скобки</li>
<li class="">Если на локацию не нужно передавать аргументы, после её названия можно поставить пустые скобки, а можно не ставить.</li>
<li class="">Нельзя подставить вместо названия локации значение переменной!</li>
</ul>
<p>Примеры:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@sqr</span><span class="token sign-punctuation">(</span><span class="token number" style="color:#36acaa">2</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@sqr</span><span class="token sign-punctuation">(</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@sqr</span><span class="token sign-punctuation">(</span><span class="token number" style="color:#36acaa">4</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! на экране будет 16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! функция не принимает аргументов</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@PI</span><span class="token sign-punctuation">(</span><span class="token sign-punctuation">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token comment" style="color:#999988;font-style:italic">! можно указать пустые скобки</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">*pl</span><span class="token plain">  @</span><span class="token user-variable">PI</span><span class="token plain">   </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token comment" style="color:#999988;font-style:italic">! можно не указывать пустые скобки</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">степень</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@возвести_в_степень</span><span class="token sign-punctuation">(</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">,</span><span class="token number" style="color:#36acaa">3</span><span class="token sign-punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">! пример вложения функций и участие их в выражениях</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">point</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">@queue.addPoint</span><span class="token sign-punctuation">(</span><span class="token user-variable">$next</span><span class="token sign-punctuation">[</span><span class="token user-variable">i</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token user-variable">new_cost</span><span class="token operator" style="color:#393A34">+</span><span class="token function" style="color:#d73a49">@hevr.est</span><span class="token sign-punctuation">(</span><span class="token user-variable">$next</span><span class="token sign-punctuation">[</span><span class="token user-variable">i</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">,</span><span class="token sys-variable">$args</span><span class="token sign-punctuation">[</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">]</span><span class="token sign-punctuation">)</span><span class="token sign-punctuation">)</span><br></span></code></pre></div></div>
<p>Если под обный неявный вызов сочетается с использованием неявного оператора, а на локации при этом НЕ присваивается значение переменной <code>RESULT</code>, можно использовать неявный вызов функции вместо оператора <code>GOSUB</code>:</p>
<p>Локация <code>&quot;поднять_яблоко&quot;</code>:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">!# поднять_яблоко</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">addobj</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Яблоки&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token string" style="color:#e3116c">&#x27;рюкзак&#x27;</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">+=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token user-variable">яблоки</span><span class="token sign-punctuation">[</span><span class="token builtin">$curloc</span><span class="token sign-punctuation">]</span><span class="token operator" style="color:#393A34">-=</span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre></div></div>
<p>Действие, которое мы пишем на любой другой локации:</p>
<div class="language-qsp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-qsp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">act</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Взять яблоко&quot;</span><span class="token sign-punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @</span><span class="token user-variable">поднять_яблоко</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">! в данном случае  поведение функции будет идентично поведению GOSUB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">end</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="локальные-переменные">Локальные переменные<a href="#локальные-переменные" class="hash-link" aria-label="Прямая ссылка на Локальные переменные" title="Прямая ссылка на Локальные переменные" translate="no">​</a></h2>
<p>На любой локации вы можете назначать локальные переменные, которые будут существовать только в момент выполнения кода этих локаций, а после — автоматически уничтожаться. Значения в этих локальных переменных не пересекаются со значениями одноимённых переменных в других локациях.</p>
<p>См. раздел &quot;Локальные переменные&quot; в разделе <a class="" href="/howdo_faq/docs/wiki/programming/variables">Переменные</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="заключение">Заключение<a href="#заключение" class="hash-link" aria-label="Прямая ссылка на Заключение" title="Прямая ссылка на Заключение" translate="no">​</a></h2>
<p>Таким образом вы можете разбивать свой код на множество более мелких блоков, дабы избегать повторения одинаковых фрагментов. Это позволяет не только лучше структурировать код, но и улучшает его читаемость и позволяет разрабатывать его модульно, т.е. отдельными независимыми фрагментами. Это, в свою очередь, ускоряет отладку и написание больших и сложных механик для ваших игр.</p>
<p>Так же см. <a href="https://aleksversus.github.io/howdo_faq/docs/articles/operators_funcs_args/" target="_blank" rel="noopener noreferrer" class="">большую статью по операторам, функциям и аргументам</a>.</p>
<p><a class="" href="/howdo_faq/docs/wiki/programming/jump">Вперёд: Переходы внутри локации</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href="/howdo_faq/docs/wiki/programming/conditional"><div class="pagination-nav__sublabel">Предыдущая страница</div><div class="pagination-nav__label">Условия</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/howdo_faq/docs/wiki/programming/jump"><div class="pagination-nav__sublabel">Следующая страница</div><div class="pagination-nav__label">Переходы внутри локации</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#общая-информация-о-gosub-и-func" class="table-of-contents__link toc-highlight">Общая информация о GOSUB и FUNC</a></li><li><a href="#описание-gosub" class="table-of-contents__link toc-highlight">Описание GOSUB</a></li><li><a href="#описание-func" class="table-of-contents__link toc-highlight">Описание FUNC</a></li><li><a href="#ранний-выход-оператор-exit" class="table-of-contents__link toc-highlight">Ранний выход. Оператор EXIT</a></li><li><a href="#неявный-вызов-функции-func" class="table-of-contents__link toc-highlight">Неявный вызов функции FUNC</a></li><li><a href="#локальные-переменные" class="table-of-contents__link toc-highlight">Локальные переменные</a></li><li><a href="#заключение" class="table-of-contents__link toc-highlight">Заключение</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><aside class="footerBlock">
<div class="eBlock">
<div class="avsPageStamp">
    <p class="emptyP">Aleks Versus'HowDo-F.A.Q'2019-2026. Built with Docusaurus.<br></p>
    <p class="emptyP">Aleks Versus'Game Adventure Making'Really Unimaginable Stories'2019-2026</p>
</div></div>
</aside></div></div></div></footer></div>
</body>
</html>