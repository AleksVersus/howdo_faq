---
sidebar_position: 12
---

# Анализатор кода QSP
<!-- [:informarch_analyzer_qsp] -->

## Основные сведения

Анализатор выполняет проверку на двух уровнях:

1. Проверка синтаксиса. Все ошибки, которые можно однозначно определить по соответствию синтаксическим правилам языка QSP.
`Пример:` незакрытые многострочные операторы, незакрытые скобки, неверное количество аргументов функции и т.д.
2. Предупреждения. Предположения об ошибках, основанные на анализе структуры игры - переменные, локации, предметы, действия.
`Пример:` локации, на которые нет перехода, использование неинициализированных переменных, попытка удалить предмет, который нигде не добавляется, и т.д.

Ссылка на проект, для тех, кому интересно: http://code.google.com/p/qsp-analyser/

Главная ценность проекта - исходный код, который полностью открыт. Его я буду обновлять регулярно, по мере работы над проектом.

:::tip[Внимание!]
Анализатор работает только с файлом текстового формата (TXT2GAM). Поэтому для проверки вам придётся экспортировать игру в кугене.

```button
Игра -> Экспорт -> Текстовый файл формата TXT2GAM.
```
:::

[`Скачать анализатор со страницы релизов`](https://code.google.com/archive/p/qsp-analyser/downloads)

### Экспорт текстовых констант в CSV-файл и перевод

Сделано для удобства перевода игры на другой язык. Работает так: открываем утилиту, выбираем исходный код квеста. Открываем вкладку "Конвертация". Жмем "Экспорт в CSV". Если в исходном файле нет ошибок, генерируется CSV-файл, в котором записана таблица из четырех колонок. В первой - номер строки таблицы и название локации, из которой взят текст. Во второй - исходный текст. В третьей - нужно вписать перевод. В четвертой можно писать любые комментарии, ее содержимое не учитывается.
CSV-файл можно редактировать во многих офисных программах. Точно он поддерживается программами OpenOffice Calc и MS Excel. Когда перевод готов, нажимаем кнопку "Сделать перевод, используя CSV". Сгенерируется файл с именем таким как у исходного квеста + указанный суффикс(пример: исходный квест "game.txt", CSV-файл "game.csv", файл перевода "game_tr.txt"). Получили переведенную игру.

Для чего это нужно? Во-первых, наглядное представление не даст пропустить непереведенных строк.
Во-вторых, можно будет поручить перевод человеку, не знакомому с языком QSP.

Ну и еще это может служить удобным средством для проверки орфографии, до тех пор пока она не будет-таки реализована в кугене.

