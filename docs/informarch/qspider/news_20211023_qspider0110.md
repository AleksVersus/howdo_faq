---
sidebar_position: 20211023
---

# qSpider версии 0.11.0

[Клуб любителей текстовых игр на QSP](https://m.vk.com/qsplayer)·23 окт 2021

Вышла новая версия плеера qSpider — [0.11.0](https://m.vk.com/away.php?to=https%3A%2F%2Fgithub.com%2FQSPFoundation%2Fqspider%2Freleases%2Ftag%2Fv0.11.0 "https://github.com/QSPFoundation/qspider/releases/tag/v0.11.0")
Демо — [https://qspfoundation.github.io/qspider/](https://m.vk.com/away.php?to=https%3A%2F%2Fqspfoundation.github.io%2Fqspider%2F)

### Новые фичи:

- поддержка игр в AeroQSP формате
- поддержка _style_ атрибута в тегах
- к основным элементам интерфейса добавлен _data-qsp_ атрибут (_data-qsp=«main»_, _data-qsp=«actions»_ и т.д.)

### Исправлены следующие баги:

- кнопки сохранения/загрузки теперь будут спрятаны, если в игре установлен _nosave=1_
- исправлен _align_ атрибут в таблицах
- исправлен вызов _onactsel_ (в прошлых версия поведение отличалось от классического плеера)

## Поддержка игр в AeroQSP формате

Собственно этот функционал так и затянул выход новой версии. Я старался добиться, чтобы как можно больше AeroQSP игр можно было запускать без дополнительных изменений самой игры. Оказалось что HTML движок в флеш версии AeroQSP достаточно специфичен и не всегда совпадает с тем как работает браузер.

### Вот список особенностей и отличий:

- несколько игр использовали синтаксис, который поменялся в 5.8.0 (порядок аргументов в _INSTR_, _ARRCOMP_, _ARRPOS_) и в qSpider будут выдавать ошибку о несовпадении типов данных
- в AeroQSP шрифты подключались в формате swf, использовать такой формат больше нет возможности, поэтому если игра использует нестандартные шрифты — их необходимо будет подключать через файл конфига в секции _game.resources_
- в qSpider не поддерживаются эффекты _pixels_, _h_blinds_ и _v_blinds_, остальные эффекты могут немного отличаться от того как работала флеш версия
- не поддерживается переменная _SCROLL_SPEED_ (хотя я вроде и не видел чтобы она использовалась хоть в одной игре)
- обработка клика в флеше отличается от браузера — если на блоке нет обработчика то он не перехватывает клик даже если размещен поверх другого, в ряде игр это привело к тому что не спрятанные панельки (пустые и не видимые) в qSpider блокируют клики по линкам под ними. Пример — игра Новогодние сказки где кнопка Играть почти полностью перекрыта пустой на этот момент панелькой действий. Лечится небольшими изменениями игры — отключением неиспользуемых панелей.
- в флеше тег _center_ внутри таблиц растягивает таблицу на всю ширину, при этом еще размеры ячеек без явно указанной ширины в этом случае считаются не как в браузере, чаще всего заметно в действиях — для форматирования по умолчанию используется таблица, и если в названии действия использовать тег center, то в флеш версии текст будет по середине панели, а в qSpider — нет. Лечиться добавлением _width=100%_ в такую таблицу. Я не смог сделать это на уровне плеера поскольку в ряде игр это ломало отображение.

### Пример подключения

Для подключения AeroQSP игры через конфиг необходимо в основной секции добавить _mode = «aero»_, и если используется размер игры отличающийся от дефолтного 800х600 — добавить секцию с размерами

Автор оригинальной статьи **Werewolf**.

Оригинал доступен по ссылке: **[https://ifhub.club/2021/10/22/qspider-0110.html#comment](https://m.vk.com/away.php?to=https%3A%2F%2Fifhub.club%2F2021%2F10%2F22%2Fqspider-0110.html%23comment)**