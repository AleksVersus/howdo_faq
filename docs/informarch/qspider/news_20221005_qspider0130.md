---
sidebar_position: 20221005
---

# qSpider v.0.13.0

[Клуб любителей текстовых игр на QSP·5 окт 2022](https://m.vk.com/@qsplayer-qspider-v0130)

Вышла новая версия плеера qSpider — [0.13.0](https://m.vk.com/away.php?to=https%3A%2F%2Fgithub.com%2FQSPFoundation%2Fqspider%2Freleases%2Ftag%2Fv0.13.0 "https://github.com/QSPFoundation/qspider/releases/tag/v0.13.0")

### Новые фичи:

- msg и input больше не закрываются по клику вне модалки, улучшена поддержка клавиатуры — закрытие по Esc, кнопка в msg теперь фокусируется при открытию (соответственно нажатие пробела или Enter аналогично клику на кнопку)
- в браузерную версию добавлена возможность открытия файла с списком игр или отдельной игры через URL — например **_https://qspfoundation.github.io/qspider/?config=https://qspfoundation.github.io/qspider/game/game.cfg_** загрузит файл конфига, а **_https://qspfoundation.github.io/qspider/?game=https://qspfoundation.github.io/qspider/game/skazka/skazka.qsp_** — то есть теперь можно просто выложить файл игры на какой-то сервер и запускать через [qspfoundation.github.io/qspider,](https://m.vk.com/away.php?to=https%3A%2F%2Fqspfoundation.github.io%2Fqspider) здесь пока есть ограничение — на сервере должна быть включена поддержка CORS (я занимаюсь возможностью обойти это ограничение)
- добавлена поддержка запуска игры в текстовом формате qsp — для этого файл должен быть с расширением `.qsps`, поддерживаются кодировки utf-8 и utf-16le (qgen экспортирует в этой кодировке), но я рекомендую utf-8 поскольку файл будет значительно меньше по сравнению с utf-16le
- для запуска плеера из qgen больше не нужен дополнительный bat файл
- в десктоп плеере теперь доступна панель разработчика как в обычном браузере

### Исправлены следующие баги:

- сепаратор в меню выводился отдельным пунктом меню
- исправлена поддержка 4-го недокументированного параметра в rgb функции отвечающего за альфа канал (прозрачность)
- исправлен первый запуск (иногда при запуске из qgen не открывалась игра)
- исправлена поддержка html — теперь все аттрибуты тегов должны сохраняться (раньше большая часть терялась при отрисовке)
- исправлено отображение названия игры в toolbar — раньше длинное название ломало отображение
- исправлен креш плеера при использование ряда тегов

### В процессе работы часть кода была вынесена в отдельные npm пакеты, доступные без плеера

- [@qsp/converters](https://m.vk.com/away.php?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40qsp%2Fconverters) — в пакете содержатся функции для конвертации из текстового формата qsp в бинарный и обратно
- [@qsp/cli](https://m.vk.com/away.php?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40qsp%2Fcli) — консольная утилита для конвертации аналогичная txt2gam (требует наличия усnановленой NodeJS, но может запускаться на linux и mac)
- [@qsp/wasm-engine](https://m.vk.com/away.php?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40qsp%2Fwasm-engine) — ядро QSP собранное в WebAssembly и JavaScript обвязка для запуска игр, пакет специально собран таким образом что его можно запускать как в браузере так на NodeJS сервере

Оригинал статьи: [https://ifhub.club/2022/10/05/qspider-0130.html](https://m.vk.com/away.php?to=https%3A%2F%2Fifhub.club%2F2022%2F10%2F05%2Fqspider-0130.html)