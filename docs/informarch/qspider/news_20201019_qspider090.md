---
sidebar_position: 20201019
---

# Новая версия qSpider — 0.9.0

[Клуб любителей текстовых игр на QSP · 19 окт 2020](https://m.vk.com/@qsplayer-novaya-versiya-qspider-090)

**Вышла новая версия плеера qSpider** — [0.9.0](https://github.com/QSPFoundation/qspider/releases/tag/v0.9.0 "https://github.com/QSPFoundation/qspider/releases/tag/v0.9.0")

**Демо** — [https://qspfoundation.github.io/qspider/](https://qspfoundation.github.io/qspider/)

В предыдущей версии, **0.8.1**, помимо небольшого баг-фикса и добавления горячих клавиш в плеер, появилась возможность у автора игры добавлять собственные сочетания горячих клавиш.

[Архив с примером](https://qsp.org/components/com_agora/img/members/2512/demo.zip "https://qsp.org/components/com_agora/img/members/2512/demo.zip")

Для добавления сочетания клавиш в игру необходимо прописать дополнительную секцию.

**`[game.hotkeys]`**

в файле конфигурации **game.cfg.**

В этой секции ключом будет сочетание клавиш, а значением — название локации в игре, которая будет вызываться при нажатии.

### Поддерживаемые клавиши:

Модификаторы

- **_shift_**
- **_ctrl_**
- **_alt_**
- **_meta_** — для поддержки на macOs лучше использовать этот модификатор вместо **_ctrl_**

Специальные клавиши

- **_backspace_**
- **_tab_**
- **_enter_**
- **_capslock_**
- **_esc_**
- **_space_**
- **_pageup_**
- **_pagedown_**
- **_end_**
- **_home_**
- **_left_**
- **_up_**
- **_right_**
- **_down_**
- **_ins_**
- **_del_**
- **_plus_**
- **_f1-f19_**

Остальные клавиши можно определять просто по имени **_a_**, **_$_**, **_*_**, или **_=_**

Определять можно:

- нажатие единичной клавиши — например  
    **`i`**
- одновременное нажатие — перечисляем клавиши через **_+_**, например  
    **`alt+s`**
- последовательное нажатие — перечисляем через пробел, например  
    **`"g o enter"`**

В новой версии **0.9.0** появилась возможность определить список игр в файле конфигурации плеера. Если было определено несколько игр — на старте плеера будет предложена возможность выбрать игру из списка. И в плеере добавится дополнительная кнопка, чтобы диалог выбора игры можно было вызвать позже. Если игра была определена всего одна — она автоматически запустится.

Также добавлена возможность загружать игры по внешней ссылке (раньше плеер работал только с одной папкой). Здесь необходимо помнить о ряде ограничений связанных с ограничениями браузера:

- с https страницы нельзя загрузить http ссылку
- у сервера, где находится игра, должны быть настроены [CORS заголовки](https://developer.mozilla.org/ru/docs/Web/HTTP/CORS)

В связи с этим немного поменялся формат файла конфигурации

```toml
[[game]]
id = "7466df3b-4236-4668-b0df-2a70477da67b"
title = "Сказочка на ночь"
description = """Ночью в полнолуние закрывай засов.
Не ходи к колодцу, коль услышал зов.
Чей бы голос ни был - дева ли, старик
Не ходи к колодцу, коль услышал крик ... (с)"""
file = "skazka/skazka.qsp"
```

- перед описанием новой игры необходимо добавлять заголовок **[[game]]**
- добавлено необязательное поле **description** — оно используется в списке игр
- поле **folder** удалено, а в поле **file** нужно прописывать путь относительно папки с файлом конфигурации, или же он должен содержать внешнюю ссылку, например:  
    **`file = "qspfoundation.github.io/qspider/game/skazka/skazka.qsp"`**
- для определения горячих клавиш игры необходимо использовать заголовок **[game.hotkeys]** (раньше он был **[hotkeys]**)

Автор оригинальных статей: **Werewolf**.

**Оригиналы статей:**

- [https://ifhub.club/2020/10/18/qspider-090.html](https://ifhub.club/2020/10/18/qspider-090.html)
- [https://ifhub.club/2020/10/11/qspider-hotkeys.html](https://ifhub.club/2020/10/11/qspider-hotkeys.html)