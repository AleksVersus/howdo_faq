<folder path="D:\my\projects\howdo_faq\[source]\ответы">
<folder path="D:\my\projects\howdo_faq\[source]\ответы\00_вступления">
<file path="D:\my\projects\howdo_faq\[source]\ответы\00_вступления\00_vstuplenie_0000.txt-light">
<head anchor="vazhnoje_predislovije" head-level="h1">
<p>
Важное предисловие</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
В этом сборнике представлены наиболее часто задаваемые вопросы из темы "Как сделать ?" на форуме QSP.su. Статьи разбиты на тематические разделы для удобства навигации по вопросам. В конце справочника представлены ссылки на материалы по каждому вопросу, некоторые из них могут работать некорректно в связи с перемещением ряда вопросов в тему "Как сделать?". К сожалению это не подлежит исправлению, однако для удобства поиска к ссылкам добавлена информация об авторе, дате и номере сообщения в теме.
</p>
<p>
Так же следует помнить, что все представленные в сборнике примеры даны в целях обучения. Не стоит тупо копировать их в свою игру, а потом бегать с претензиями типа "А вот я скопировал код отсюда, но он почему-то не работает", или "делает что-то не то". Важно прочитать статью и разобрать то, как работает пример. Ещё лучше, сначала самому попытаться решить поставленную задачу, а уже после обращаться к "F.A.Q". Данный сборник не является перечнем готовых решений.
</p>
<p>
<tag name="simple-string">
Если вы нашли ошибку, опечатку или неточность, а так же если у вас есть замечания к статьям, или желание написать более развёрнутую и подробную их версию, пишите на </tag>
<tag name="tt">
aleksversus@mail.ru</tag>
<tag name="simple-string">
 , либо в "ВК" </tag>
<tag name="hyperlink" href="https://vk.com/id40090736">
https://vk.com/id40090736</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="bold">
Внимание!!!</tag>
<tag name="simple-string">
 Все статьи сборника актуализированы для плееров версии 5.8.0. Если вам нужен справочник по плеерам версии 5.7.0, скачайте оффлайн-версию на </tag>
<tag name="hyperlink" href="https://github.com/AleksVersus/howdo_faq/releases">
странице релизов</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
/</tag>
<tag name="italic">
 Пока что подкостылил, но в будущем, нужно поправить везде: Заголовки должны быть отбиты пустыми строками. </tag>
<tag name="simple-string">
/
</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="raz_iasneniia-i-terminy">
<p>
Разъяснения и термины:</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
Обработка локации</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
посещение локации</tag>
<tag name="simple-string">
 — под этими терминами понимаются следующие процессы: выполнение кода из поля "Выполнить при посещении" указанной локации, добавление в окно основного описания базового описания указанной локации, а так же добавление в окно действий базовых действий указанной локации. Обработка локации происходит в двух случаях: в случае "перехода" на локацию с помощью операторов </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
, или в случае "вызова" локации с помощью операторов </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
menu</tag>
<tag name="simple-string">
, функции </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
 или в качестве обработчика события в автоматическом режиме. С понятиями "переход на локацию" и "вызов локации" вы можете подробнее ознакомиться в разделе </tag>
<tag name="hyperlink" href="#faq_01_08">
<tag name="simple-string">
"Разница между </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
"</tag>
</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="tt">
индекс</tag>
<tag name="simple-string">
 — в контексте данного справочника под индексом подразумевается указатель на какой-либо элемент. Например, у каждой ячейки массива есть собственный числовой индекс. Если массив состоит из пяти элементов, то его элементы нумеруются от нуля до четырёх — эти числа и являются индексами элементов. Для того, чтобы обратиться к какому-то конкретному элементу массива, нужно указать название этого массива, а за названием в квадратных скобках - индекс:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl mass[3] & ! выводим на экран значение элемента массива mass под индексом 3
</code>
<segment>
<p>
<tag name="simple-string">
	У элементов массивов могут быть текстовые индексы: </tag>
<tag name="tt">
mass["35,56"]</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Индексы есть практически у всех исчислимых элементов для удобства обращения. Например, каждый символ строки обладает собственным индексом (номером), каждый предмет, добавленный в окно предметов тоже. И т.д. Если вы встречаете фразу "элементы индексируются с единицы", это означает, что нумерация элементов начинается с числа 1. Элементы массивов индексируются с нуля.
</p>
<p>
<tag name="tt">
Переменная-маркер</tag>
<tag name="simple-string">
 — это пользовательская (не системная) переменная, которую мы вводим, чтобы отмечать изменение события или состояния в игре. Например, переменной-маркером можно назвать переменную, обозначающую размещение предмета на локации:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if ваза_на_столе=1:
<br/>! если переменная-маркер ваза_на_столе равна 1
<br/>
<br/>    ! создаём действие
<br/>    act "Взять вазу со стола":
<br/>        ! в действии изменяем значение переменной-маркера
<br/>        ваза_на_столе=0
<br/>        addobj "Ваза"
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
<segment>
<p>
<tag name="tt">
Системная переменная</tag>
<tag name="simple-string">
 — это зарезервированная в плеере переменная. Изменение её значения внутри игры изменяет настройки и поведение плеера. Например, системной является переменная nosave. Если её значение отлично от нуля, игрок не может пользоваться пунктами меню плеера "загрузить состояние игры" и "сохранить состояние игры":
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
nosave=1
</code>
<segment>
<p>
Окна плеера могут называться по-разному:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
Окно основного описания</tag>
<tag name="simple-string">
 может называться </tag>
<tag name="tt">
основным окном</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
окном основных описаний</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
главным окном</tag>
<tag name="simple-string">
, или </tag>
<tag name="tt">
окном игрока</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
Окно дополнительного описания</tag>
<tag name="simple-string">
 может называться </tag>
<tag name="tt">
дополнительным окном описаний</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
окном статистики</tag>
<tag name="simple-string">
 (статов), или </tag>
<tag name="tt">
окном пользователя</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
Окно предметов</tag>
<tag name="simple-string">
 может называться </tag>
<tag name="tt">
окном инвентаря</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
инвентарём</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
списком предметов</tag>
<tag name="simple-string">
, или </tag>
<tag name="tt">
рюкзаком</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
Окно действий</tag>
<tag name="simple-string">
 может называться </tag>
<tag name="tt">
списком действий</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
Окно с полем ввода</tag>
<tag name="simple-string">
 может называться </tag>
<tag name="tt">
полем ввода</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
строкой ввода</tag>
<tag name="simple-string">
 и пр.</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Диалоговое окно, вызываемое функцией </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
, может называться </tag>
<tag name="tt">
окном ввода</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Диалоговое окно, вызываемое оператором </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
, может называться </tag>
<tag name="tt">
окном сообщения</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Окно, в котором выводится изображение при использовании команды </tag>
<tag name="tt">
view</tag>
<tag name="simple-string">
, может называться </tag>
<tag name="tt">
окном предпросмотра</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
окном просмотра изображения</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
</list>
<segment>
<p>
В разделе "Зарезервированные слова, переменные и спецсимволы" используются обозначения:	
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
[выражение] - значение выражения, которое может быть как текстового, так и числового типа.</p>
</segment>
<segment>
<p>
[$выражение] - значение выражения, которое может быть только текстового (строкового) типа (но при необходимости движок автоматически переведёт число в строку).</p>
</segment>
<segment>
<p>
[#выражение] - значение выражения, которое может быть только числового типа (если возможно, движок автоматически переведёт строку в число).</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
	Примечение. Символ </tag>
<tag name="tt">
#</tag>
<tag name="simple-string">
 использован в справочнике только чтобы разделить выражения произвольного и числового типов. К синтаксису QSP данный символ отношения не имеет.
</tag>
</p>
<p>
<tag name="simple-string">
В том же разделе: если для оператора или функции не указана общая запись, значит этот оператор или функцию нужно запускать без аргументов. Например, оператор </tag>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
, функция </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="blagodarnosti">
<p>
Благодарности</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
Спасибо всему сообществу QSP, подписчикам моего канала, а так же всем, кто задавал вопросы по изложенным в сборнике статьям.
</p>
<p>
<tag name="simple-string">
Отдельная благодарность </tag>
<tag name="tt">
Nex</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
NickoAilus</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Последнему из Гаяр</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
evp</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
newsash</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Олегусу</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
Storm</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Svartberg</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Oliver</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
mkir</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
svandrus</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Lisichk</tag>
<tag name="simple-string">
е, </tag>
<tag name="tt">
Ajent</tag>
<tag name="simple-string">
е, </tag>
<tag name="tt">
ejikplains</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
Larson</tag>
<tag name="simple-string">
у, </tag>
<tag name="tt">
dmvikar</tag>
<tag name="simple-string">
у, и всем прочим авторам, чьи наработки, примеры и кусочки кода послужили материалом для этих статей. Прошу прощения, кого забыл упомянуть.
</tag>
</p>
<p>
<tag name="simple-string">
/</tag>
<tag name="italic">
<tag name="simple-string">
 Такие комментарии должны быть служебными и оставаться только в исходниках. Следует обратить внимание и на последнюю строчку с благодарностями. Здесь используется обратный апостроф. Он используется, чтобы выделить важный кусочек текста и в fb-2 такие кусочки текста будут выделяться жирным. В HTML-версии эти кусочки текста должны распарсиваться, как monotype и наделяться форматированием em_... . Однако в данном случае необходимо предусмотреть преобразование </tag>
<tag name="tt">
Nex</tag>
<tag name="simple-string">
у в Nex'у.  </tag>
</tag>
<tag name="simple-string">
/
</tag>
</p>
</segment>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\00_вступления\01_soderzhanie_0001.txt-light">
<head anchor="soderzhanije" head-level="h1">
<p>
Содержание</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head head-level="h6" anchor="1-v-chiom-raznitsa">
<p>
1. В чём разница?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
1.1. </tag>
<tag name="hyperlink" href="#faq_01_01">
<tag name="simple-string">
В чём разница между </tag>
<tag name="tt">
set x=10</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
let x=10</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
x=10</tag>
<tag name="simple-string">
?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.2. </tag>
<tag name="hyperlink" href="#faq_01_02">
В чём разница между переменной со знаком $ и без знака $?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.3. </tag>
<tag name="hyperlink" href="#faq_01_03">
<tag name="simple-string">
В чём разница между </tag>
<tag name="tt">
' '</tag>
<tag name="simple-string">
 (апострофы) и </tag>
<tag name="tt">
" "</tag>
<tag name="simple-string">
 (кавычки)?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.4. </tag>
<tag name="hyperlink" href="#faq_01_04">
<tag name="simple-string">
В чём разница между </tag>
<tag name="tt">
*pl "строка"</tag>
<tag name="simple-string">
 и просто </tag>
<tag name="tt">
" строка" </tag>
<tag name="simple-string">
?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.5. </tag>
<tag name="hyperlink" href="#faq_01_05">
<tag name="simple-string">
Чем отличаются эти две команды? </tag>
<tag name="tt">
*pl "&lt;&lt;$perem&gt;&gt;"</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
*pl $perem</tag>
</tag>
<tag name="simple-string">
 
</tag>
</p>
<p>
<tag name="simple-string">
1.6. </tag>
<tag name="hyperlink" href="#faq_01_06">
В чём разница между dynamic и dyneval?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.7. </tag>
<tag name="hyperlink" href="#faq_01_07">
В чём разница между gt и goto?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
1.8. </tag>
<tag name="hyperlink" href="#faq_01_08">
Чем отличается goto от gosub?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
18.1. </tag>
<tag name="hyperlink" href="#faq_18_01">
<tag name="simple-string">
Чем отличаются команды </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
openqst</tag>
<tag name="simple-string">
?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_01">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="2-voprosy-o-counter">
<p>
2. Вопросы о $COUNTER</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
2.1. </tag>
<tag name="hyperlink" href="#faq_02_01">
Как сделать, чтобы значение переменной изменялось с течением времени?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
2.2. </tag>
<tag name="hyperlink" href="#faq_02_02">
Как сделать, чтобы из одной локации меня через пару секунд перебрасывало в другую локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
2.3. </tag>
<tag name="hyperlink" href="#faq_02_03">
Как сделать, чтобы через пару секунд после входа на локацию появлялось новое действие?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
2.4. </tag>
<tag name="hyperlink" href="#faq_02_04">
Как сделать, чтобы цикл выполнялся параллельно остальному коду, а не прерывал его?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_02">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="3-voprosy-o-msg-i-input">
<p>
3. Вопросы о MSG и $INPUT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
3.1. </tag>
<tag name="hyperlink" href="#faq_03_01">
Как вывести на экран отдельное окошко с текстом?</tag>
<tag name="simple-string">
 | Подскажите аналог команды alert в QSP.
</tag>
</p>
<p>
<tag name="simple-string">
3.2. </tag>
<tag name="hyperlink" href="#faq_03_02">
Как вывести на экран окошко, в котором игрок должен ввести текст?</tag>
<tag name="simple-string">
 | Подскажите аналог команды prompt в QSP.
</tag>
</p>
<p>
<tag name="simple-string">
3.3. </tag>
<tag name="hyperlink" href="#faq_03_03">
Как прикрутить возможность выбора варианта к окну msg?</tag>
<tag name="simple-string">
 | Подскажите аналог команды confirm в QSP.
</tag>
</p>
<p>
<tag name="simple-string">
3.4. </tag>
<tag name="hyperlink" href="#faq_03_04">
Как сделать ввод имени игроком?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
3.5. </tag>
<tag name="hyperlink" href="#faq_03_05">
Как увеличить число правильных ответов, которые может ввести игрок?</tag>
<tag name="simple-string">
 | Как сделать варианты для ответа через $input?
</tag>
</p>
<p>
<tag name="hyperlink" href="#link_03">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="4-voprosy-o-meniu">
<p>
4. Вопросы о меню</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
4.1. </tag>
<tag name="hyperlink" href="#faq_04_01">
Как сделать меню предмета?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.2. </tag>
<tag name="hyperlink" href="#faq_04_02">
Как сделать разные меню для двух и более предметов?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.3. </tag>
<tag name="hyperlink" href="#faq_04_03">
Как сделать меню в ссылках?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.4. </tag>
<tag name="hyperlink" href="#faq_04_04">
Как передавать локациям-пунктам меню аргументы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.5. </tag>
<tag name="hyperlink" href="#faq_04_05">
Как делать контекстное (динамическое) меню?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.6. </tag>
<tag name="hyperlink" href="#faq_04_06">
Как вставить разделитель в меню?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
4.7. </tag>
<tag name="hyperlink" href="#faq_04_07">
Как вставить картинки в меню?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_04">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="5-voprosy-po-onnewloc">
<p>
5. Вопросы по $ONNEWLOC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
5.1. </tag>
<tag name="hyperlink" href="#faq_05_01">
Как сделать так, чтобы не писать один и тот же код в каждой локации?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
5.2. </tag>
<tag name="hyperlink" href="#faq_05_02">
Как сделать кнопку "Назад", работающую на каждой локации?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
5.3. </tag>
<tag name="hyperlink" href="#faq_05_03">
<tag name="simple-string">
Почему в </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 на локации-обработчике перехода на новую локацию уже есть данные?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_05">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="6-voprosy-po-zvukovym-fajlam-v-qsp">
<p>
6. Вопросы по звуковым файлам в QSP</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
6.1. </tag>
<tag name="hyperlink" href="#faq_06_01">
Как вставить музыку или звук в игру?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.2. </tag>
<tag name="hyperlink" href="#faq_06_02">
Как запустить две звуковые дорожки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.3. </tag>
<tag name="hyperlink" href="#faq_06_03">
Как при переходе на новую локацию прервать одну мелодию и запустить другую?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.4. </tag>
<tag name="hyperlink" href="#faq_06_04">
Как перезапустить звуковую дорожку?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.5. </tag>
<tag name="hyperlink" href="#faq_06_05">
Как приглушить музыку?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.6. </tag>
<tag name="hyperlink" href="#faq_06_06">
Как зациклить мелодию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
6.7. </tag>
<tag name="hyperlink" href="#faq_06_07">
Как сделать плейлист?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_06">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="7-voprosy-o-giperssylkah">
<p>
7. Вопросы о гиперссылках</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
7.1. </tag>
<tag name="hyperlink" href="#faq_07_01">
Как делать гиперссылки, по нажатию на которые выполняется код?</tag>
<tag name="simple-string">
 | Как делать кликабельный текст? | Как сделать, чтобы по нажатию на текст что-то происходило?
</tag>
</p>
<p>
<tag name="simple-string">
7.2. </tag>
<tag name="hyperlink" href="#faq_07_02">
Как менять цвет гиперссылки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
7.3. </tag>
<tag name="hyperlink" href="#faq_07_03">
Как помещать в гиперссылки сложный код?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
7.4. </tag>
<tag name="hyperlink" href="#faq_07_04">
Как сделать гиперссылки без подчёркивания?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_07">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="8-est_-li-komanda">
<p>
8. Есть ли команда...</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
8.1. </tag>
<tag name="hyperlink" href="#faq_08_01">
Какой командой можно очистить окно дополнительного описания?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
8.2. </tag>
<tag name="hyperlink" href="#faq_08_02">
Существует ли команда для того, чтобы получить название текущей локации?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
8.3. </tag>
<tag name="hyperlink" href="#faq_08_03">
Какой командой можно вывести текст в окно дополнительного описания?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
8.4. </tag>
<tag name="hyperlink" href="#faq_08_04">
Есть ли команда, которая делает выход из игры?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_08">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="9-voprosy-o-izobrazheniiah">
<p>
9. Вопросы о изображениях</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
9.1. </tag>
<tag name="hyperlink" href="#faq_09_01">
Как вставить картинку в игру?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.2. </tag>
<tag name="hyperlink" href="#faq_09_02">
Можно ли вставить в игру gif-файл?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.3. </tag>
<tag name="hyperlink" href="#faq_09_03">
Как вставить картинку в действие?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.4. </tag>
<tag name="hyperlink" href="#faq_09_04">
Как поставить картинку фоном?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.5. </tag>
<tag name="hyperlink" href="#faq_09_05">
Как выводить изображения послойно? Накладывать друг на друга?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.6. </tag>
<tag name="hyperlink" href="#faq_09_06">
Как сделать кликабельное изображение?</tag>
<tag name="simple-string">
 | Как сделать так, чтобы при щелчке по изображению выполнялись какие-то действия?
</tag>
</p>
<p>
<tag name="simple-string">
9.7. </tag>
<tag name="hyperlink" href="#faq_09_07">
Как сделать сменяемое изображение на локации?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
9.8. </tag>
<tag name="hyperlink" href="#faq_09_08">
Как сделать вывод рандомного изображения?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_09">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="10-interfejs-dizajn-ukrasheniia">
<p>
10. Интерфейс, дизайн, украшения</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
10.1. </tag>
<tag name="hyperlink" href="#faq_10_01">
<tag name="simple-string">
Для чего нужен оператор </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
, и как он работает?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.2. </tag>
<tag name="hyperlink" href="#faq_10_02">
Как изменить цвет фона в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.3. </tag>
<tag name="hyperlink" href="#faq_10_03">
Как изменить формат части текста? Размер, цвет, наклон и т.д.?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.4. </tag>
<tag name="hyperlink" href="#faq_10_04">
Как сделать красивый фон в классическом плеере?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.5. </tag>
<tag name="hyperlink" href="#faq_10_05">
Хочу, чтоб в игре окна располагались определённым образом. Как это сделать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.6. </tag>
<tag name="hyperlink" href="#faq_10_06">
Можно ли задавать размер окон из кода игры? Чтобы в одной локации были одни настройки, в другой — другие.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.7. </tag>
<tag name="hyperlink" href="#faq_10_07">
Настроил расположение окна предпросмотра, но когда выключаю его, другие окна смещаются, как это исправить?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.8. </tag>
<tag name="hyperlink" href="#faq_10_08">
Как изменить цвет подсветки действий?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.9. </tag>
<tag name="hyperlink" href="#faq_10_09">
Как изменить цвет фона для отдельного окна?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.10. </tag>
<tag name="hyperlink" href="#faq_10_10">
Как сделать плавное появление текста?</tag>
<tag name="simple-string">
 | Как сделать плавное изменение цвета фона? | Как сделать плавное изменение цвета текста?
</tag>
</p>
<p>
<tag name="simple-string">
10.11. </tag>
<tag name="hyperlink" href="#faq_10_11">
Как использовать в игре собственный шрифт?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
10.12. </tag>
<tag name="hyperlink" href="#faq_10_12">
С предметов можно снимать выделение, а можно ли снять выделение с действия?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_10">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="11-voprosy-ob-usloviiah">
<p>
11. Вопросы об условиях</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
 11.1. </tag>
<tag name="hyperlink" href="#faq_11_01">
При проверке условия записано просто число, без операции сравнения, но QSP не выдаёт ошибку. Почему?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.2. </tag>
<tag name="hyperlink" href="#faq_11_02">
Как сделать так, чтобы действие появлялось только при определённом условии?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.3. </tag>
<tag name="hyperlink" href="#faq_11_03">
Видел в одной из игр, как после нажатия на действие, оно становится неактивным. Как это сделать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.4. </tag>
<tag name="hyperlink" href="#faq_11_04">
Как добавить текст, который будет выводиться только при выполнении определённого условия?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.5. </tag>
<tag name="hyperlink" href="#faq_11_05">
Как сделать, чтобы в диалоговом окне текст набирался в зависимости от условий? Чтобы при срабатывании одного или обоих условий текст в любом случае выводился? Логическое ИЛИ (OR).</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.6. </tag>
<tag name="hyperlink" href="#faq_11_06">
Как упростить условие с логическим И (AND)?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
11.7. </tag>
<tag name="hyperlink" href="#faq_11_07">
Как упростить взаимоисключающие условия? Логическое XOR.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_11">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="12-voprosy-o-dynamic">
<p>
12. Вопросы о DYNAMIC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
12.1. </tag>
<tag name="hyperlink" href="#faq_12_01">
Зачем нужен оператор dynamic?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
12.2. </tag>
<tag name="hyperlink" href="#faq_12_02">
Можно ли сделать переменную с рандомным (случайным) названием?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
12.3. </tag>
<tag name="hyperlink" href="#faq_12_03">
Создаю действия с помощью цикла, но они работают неправильно. Что делать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
12.4. </tag>
<tag name="hyperlink" href="#faq_12_04">
Почему не работает dynamic?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_12">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="13-ne-rabotaet">
<p>
13. Не работает...</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
13.1. </tag>
<tag name="hyperlink" href="#faq_13_01">
Рисую таблицу и хочу зафиксировать высоту, но атрибут height не работает.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.2. </tag>
<tag name="hyperlink" href="#faq_13_02">
Пытаюсь использовать разные HTML-теги в игре, но они не работают — просто не выводятся. Почему?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.3. </tag>
<tag name="hyperlink" href="#faq_13_03">
Не работает IIF!</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.4. </tag>
<tag name="hyperlink" href="#faq_13_04">
Пытаюсь сделать кликабельную картинку с помощью тегов MAP и AREA, но ничего не получается.</tag>
<tag name="simple-string">
 | Не выводится картинка, не работает область клика, область клика смещена.
</tag>
</p>
<p>
<tag name="simple-string">
13.5. </tag>
<tag name="hyperlink" href="#faq_13_05">
Не работает *pl в действии с goto.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.6. </tag>
<tag name="hyperlink" href="#faq_13_08">
Не работает оператор JUMP — не может найти метку.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.7. </tag>
<tag name="hyperlink" href="#faq_13_09">
Не работает многострочный код. Как исправить?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.8. </tag>
<tag name="hyperlink" href="#faq_13_10">
Не работает многострочный код. Как исправить?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.9. </tag>
<tag name="hyperlink" href="#faq_13_11">
Сколько END`ов нужно добавить?</tag>
<tag name="simple-string">
 
</tag>
</p>
<p>
<tag name="simple-string">
13.10. </tag>
<tag name="hyperlink" href="#faq_13_12">
<tag name="simple-string">
Не работает условие. Как исправить? (</tag>
<tag name="tt">
if skrom&gt;10 and &lt;15</tag>
<tag name="simple-string">
)</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
13.11. </tag>
<tag name="hyperlink" href="#faq_13_13">
Не работают десятичные дроби, дробные числа, числа с запятыми!</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_13">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="14-voprosy-o-predmetah">
<p>
14. Вопросы о предметах</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
14.1. </tag>
<tag name="hyperlink" href="#faq_14_01">
Как добавить предмет в окно предметов?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.2. </tag>
<tag name="hyperlink" href="#faq_14_02">
Как удалить предмет из окна предметов?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.3. </tag>
<tag name="hyperlink" href="#faq_14_03">
Как удалить все предметы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.4. </tag>
<tag name="hyperlink" href="#faq_14_04">
Как добавить предмет в определённую позицию в окне предметов?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.5. </tag>
<tag name="hyperlink" href="#faq_14_05">
Как заменить один предмет на другой?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.6. </tag>
<tag name="hyperlink" href="#faq_14_06">
Как делать динамические/считаемые предметы?</tag>
<tag name="simple-string">
 | Как делать стакающиеся предметы? | Как делать предметы рядом с названиями которых выводится их количество?
</tag>
</p>
<p>
<tag name="simple-string">
14.7. </tag>
<tag name="hyperlink" href="#faq_14_07">
Как добавить предмет с картинкой но без названия?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.8. </tag>
<tag name="hyperlink" href="#faq_14_08">
Как сделать, чтоб при щелчке по предмету выполнялся какой-либо код?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.9. </tag>
<tag name="hyperlink" href="#faq_14_09">
Как снять выделение предмета?</tag>
<tag name="simple-string">
 | Как сделать, чтобы выбранный предмет можно было кликнуть ещё раз?
</tag>
</p>
<p>
<tag name="simple-string">
14.10. </tag>
<tag name="hyperlink" href="#faq_14_10">
Как сделать два списка предметов? Например для игры за разных персонажей.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.11. </tag>
<tag name="hyperlink" href="#faq_14_11">
Как сделать, чтобы плеер выполнял определённый код при добавлении любого предмета?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.12. </tag>
<tag name="hyperlink" href="#faq_14_12">
Как сделать два разных предмета с одинаковыми названиями?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
14.13. </tag>
<tag name="hyperlink" href="#faq_14_13">
Как сделать многоуровневый рюкзак?</tag>
<tag name="simple-string">
 | Как сделать предметы в предметах?
</tag>
</p>
<p>
<tag name="simple-string">
14.14. </tag>
<tag name="hyperlink" href="#faq_14_14">
Можно ли выводить предметы не в окне предметов?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_14">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="15-voprosy-o-stroke-vvoda">
<p>
15. Вопросы о строке ввода</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
15.1. </tag>
<tag name="hyperlink" href="#faq_15_01">
Зачем вообще нужна строка ввода (поле ввода)?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
15.2. </tag>
<tag name="hyperlink" href="#faq_15_02">
Как задействовать строку ввода в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_15">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="16-voprosy-po-viorstke">
<p>
16. Вопросы по вёрстке</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
16.1. </tag>
<tag name="hyperlink" href="#faq_16_01">
Можно ли писать текст поверх вставленной картинки (не бэкграунда)?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.2. </tag>
<tag name="hyperlink" href="#faq_16_02">
Возможно ли сделать плавный переход между локациями?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.3. </tag>
<tag name="hyperlink" href="#faq_16_03">
Как расположить картинку справа, а текст слева?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.4. </tag>
<tag name="hyperlink" href="#faq_16_04">
Как ограничить размер выводимого изображения?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.5. </tag>
<tag name="hyperlink" href="#faq_16_05">
Как сделать рамку окна основного описания?</tag>
<tag name="simple-string">
 | Как сделать, чтобы картинки шли по контуру основного окна?
</tag>
</p>
<p>
<tag name="simple-string">
16.6. </tag>
<tag name="hyperlink" href="#faq_16_06">
Как сделать вывод предметов магазина не длинным списком, а в виде таблицы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.7. </tag>
<tag name="hyperlink" href="#faq_16_07">
Можно ли зеркально отразить картинку методами плеера?</tag>
<tag name="simple-string">
 | Можно ли задать максимальную или минимальную ширину элементу? | Можно ли вычислить доступное место в основном окне?
</tag>
</p>
<p>
<tag name="simple-string">
16.8. </tag>
<tag name="hyperlink" href="#faq_16_08">
Вывожу в окно табличку, а потом текст, но между текстом и табличкой возникают пустые строки. Что это и как этого избежать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.9. </tag>
<tag name="hyperlink" href="#faq_16_09">
Можно как нибудь вывести текст в два столба в классике? К примеру характеристики персонажей.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
16.10. </tag>
<tag name="hyperlink" href="#faq_16_10">
Как работать с тегами MAP и AREA? Как разметить картинку на кликабельные зоны?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_16">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="17-voprosy-o-sohraneniiah">
<p>
17. Вопросы о сохранениях</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
17.1. </tag>
<tag name="hyperlink" href="#faq_17_01">
Как запретить игроку самостоятельно сохранять игру?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
17.2. </tag>
<tag name="hyperlink" href="#faq_17_02">
Во время теста игры делал сохранения, затем внёс в игру несколько правок, но сохранения перестали загружаться. Почему так происходит, и что теперь делать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
17.3. </tag>
<tag name="hyperlink" href="#faq_17_03">
Как сделать чекпойнты в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
17.4. </tag>
<tag name="hyperlink" href="#faq_17_04">
Как написать действие, которое при каждом клике сохраняло бы игру в файлы "1.sav" и "2.sav" поочерёдно?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_17">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="18-voprosy-o-fajlah-i-moduliah">
<p>
18. Вопросы о файлах и модулях</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
18.1. </tag>
<tag name="hyperlink" href="#faq_18_01">
<tag name="simple-string">
Чем отличаются команды </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
openqst</tag>
<tag name="simple-string">
?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
18.2. </tag>
<tag name="hyperlink" href="#faq_18_02">
Как сделать лаунчер?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
18.3. </tag>
<tag name="hyperlink" href="#faq_18_03">
Мне нужно узнать, есть ли в папке файл (картинка, музыка и т.д.). Как это сделать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
18.4. </tag>
<tag name="hyperlink" href="#faq_18_04">
Перенёс файл игры из одной папки в другую. В Quest Generator пропали все папки. Почему так происходит, и как этого избежать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
18.5. </tag>
<tag name="hyperlink" href="#faq_18_05">
<tag name="simple-string">
В папке с игрой стали появляться файлы с расширением </tag>
<tag name="tt">
.tmp</tag>
<tag name="simple-string">
. Что это за файлы, нужны они, и как избавиться от их появления?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_18">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="19-izyski">
<p>
19. Изыски</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
19.1. </tag>
<tag name="hyperlink" href="#faq_19_01">
Как использовать ASCII-графику в QSP?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.2. </tag>
<tag name="hyperlink" href="#faq_19_02">
Как вставить в игру видео?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.3. </tag>
<tag name="hyperlink" href="#faq_19_03">
Как сделать так, чтобы текст появлялся на экране постепенно? По буквам?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.4. </tag>
<tag name="hyperlink" href="#faq_19_04">
Как защитить игру от чита?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.5. </tag>
<tag name="hyperlink" href="#faq_19_05">
Как задействовать клавиатуру в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.6. </tag>
<tag name="hyperlink" href="#faq_19_06">
Как пропустить прохождение нескольких глав, чтобы протестировать вновь написанную главу и только её?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.7. </tag>
<tag name="hyperlink" href="#faq_19_07">
Как из под плеера выполнить произвольную строку кода?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.8. </tag>
<tag name="hyperlink" href="#faq_19_08">
Как узнать, на каком устройстве запущена игра? Телефон, компьютер, планшет?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.9. </tag>
<tag name="hyperlink" href="#faq_19_09">
Как обновлять переменные на экране?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
19.10. </tag>
<tag name="hyperlink" href="#faq_19_10">
Как сделать, чтобы текст выводился снизу вверх?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_19">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="20-konkretnye-zadachi">
<p>
20. Конкретные задачи</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
20.1. </tag>
<tag name="hyperlink" href="#faq_20_01">
Как сделать возврат на предыдущую локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.2. </tag>
<tag name="hyperlink" href="#faq_20_02">
Как проверить число на чётность?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.3. </tag>
<tag name="hyperlink" href="#faq_20_03">
Как сделать шанс на выпадение определённой вещи? Например 25 процентный шанс на то, что в сундуке окажется золотая чаша?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.4. </tag>
<tag name="hyperlink" href="#faq_20_04">
Как сделать, чтобы текст выводился не внизу окна основного описания, а сверху?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.5. </tag>
<tag name="hyperlink" href="#faq_20_05">
Как можно удалить часть текста из описания?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.6. </tag>
<tag name="hyperlink" href="#faq_20_06">
<tag name="simple-string">
Как вывести на экран HTML-разметку, не отключая режим распознавания HTML? То есть при </tag>
<tag name="tt">
usehtml=1</tag>
<tag name="simple-string">
.</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.7. </tag>
<tag name="hyperlink" href="#faq_20_07">
Есть несколько переменных с разными значениями. Как получить имя переменной, в которой находится наибольшее значение?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.8. </tag>
<tag name="hyperlink" href="#faq_20_08">
Как в QSP сравнить два массива?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.9. </tag>
<tag name="hyperlink" href="#faq_20_09">
Как сделать вытягивание случайных карт из колоды? Карты вытягиваются несколько раз, но они не должны повторяться.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.10. </tag>
<tag name="hyperlink" href="#faq_20_10">
Как отсортировать данные? Например, список персонажей по алфавиту, или набор чисел от меньшего к большему.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.11. </tag>
<tag name="hyperlink" href="#faq_20_11">
Как сделать проценты?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.12. </tag>
<tag name="hyperlink" href="#faq_20_12">
Как решить задачу по поиску случайного набора слагаемых?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.13. </tag>
<tag name="hyperlink" href="#faq_20_13">
Как разредить текст пробелами?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.14. </tag>
<tag name="hyperlink" href="#faq_20_14">
Как сделать записную книжку в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.15. </tag>
<tag name="hyperlink" href="#faq_20_15">
Как сделать так, чтобы на локацию можно было зайти только один раз?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.16. </tag>
<tag name="hyperlink" href="#faq_20_16">
Как заставить действия выводиться в нужном мне порядке?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.17. </tag>
<tag name="hyperlink" href="#faq_20_17">
Как сделать в игре книгу? Чтобы её можно было взять и потом прочитать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.18. </tag>
<tag name="hyperlink" href="#faq_20_18">
Как сделать склад, сундук, тайник, место, в котором можно выкладывать и хранить предметы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.19. </tag>
<tag name="hyperlink" href="#faq_20_19">
Как сделать выпадение случайного действия на локации?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.20. </tag>
<tag name="hyperlink" href="#faq_20_20">
Как сделать перемещение на случайную локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.21. </tag>
<tag name="hyperlink" href="#faq_20_21">
Как сделать случайный предмет?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.22. </tag>
<tag name="hyperlink" href="#faq_20_22">
Как узнать, какие переменные есть в игре? Может для этого есть специальная команда?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
20.23. </tag>
<tag name="hyperlink" href="#faq_20_23">
Как убрать преформатирование из HTML-разметки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_20">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="21-voprosy-po-quest-generator-v400beta">
<p>
21. Вопросы по Quest Generator (v.4.0.0.Beta)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
21.1. </tag>
<tag name="hyperlink" href="#faq_21_01">
Мне часто приходится вставлять одинаковые или почти одинаковые кусочки кода. Как автоматизировать этот процесс?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
21.2. </tag>
<tag name="hyperlink" href="#faq_21_02">
Делаю преформатирование пробелами, чтобы появлялась вертикальная полоска, так нагляднее. Нет ли какой-то комбинации клавиш, чтобы не тыкать пробел по пять раз?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
21.3. </tag>
<tag name="hyperlink" href="#faq_21_03">
Как свернуть кусочек кода, написанный под комментарием? В идеале, чтоб остался один только комментарий.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_21">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="22-ogranicheniia">
<p>
22. Ограничения</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
22.1. </tag>
<tag name="hyperlink" href="#faq_23_01">
Видел в справке ограничение на 100 подключаемых файлов? Это что, я не смогу использовать более ста файлов картинок и музыки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
22.2. </tag>
<tag name="hyperlink" href="#faq_23_02">
Хочу разместить на локации около 100 действий. Это вообще возможно?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
22.3. </tag>
<tag name="hyperlink" href="#faq_23_03">
Генерирую переменные с помощью оператора dynamic, и вдруг выходит ошибка 123. Что это, и как с этим бороться?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#link_23">
Источники и дополнительные материалы</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="zarezervirovannye-slova-sistemnye-peremennye-spetssimvoly">
<p>
Зарезервированные слова, системные переменные, спецсимволы</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="hyperlink" href="#faq_80_01">
Операции</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02">
Операторы</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03">
Функции</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04">
Системные переменные</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05">
Иные синтаксемы</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_06">
Алфавитный указатель ключевых слов, спецсимволов, синтаксем</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="istochniki-i-dopolnitel_nye-materialy">
<p>
Источники и дополнительные материалы</p>
</head>
<segment segment-class="for-head">
<list list-type="ul-list">
<segment>
<p>
<tag name="hyperlink" href="#link_01">
1. В чём разница?</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_02">
2. Вопросы о $COUNTER</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_03">
3. Вопросы о MSG и $INPUT</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_04">
4. Вопросы о меню</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_05">
5. Вопросы по $ONNEWLOC</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_06">
6. Вопросы по звуковым файлам в QSP</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_07">
7. Вопросы о гиперссылках</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_08">
8. Есть ли команда...</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_09">
9. Вопросы о изображениях</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_10">
10. Интерфейс, дизайн, украшения</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_11">
11. Вопросы об условиях</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_12">
12. Вопросы о DYNAMIC</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_13">
13. Не работает...</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_14">
14. Вопросы о предметах</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_15">
15. Вопросы о строке ввода</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_16">
16. Вопросы по вёрстке</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_17">
17. Вопросы о сохранениях</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_18">
18. Вопросы о файлах и модулях</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_19">
19. Изыски</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_20">
20. Конкретные задачи</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_21">
21. Вопросы по Quest Generator (v.4.0.0.Beta)</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="#link_23">
22. Ограничения</tag>
</p>
</segment>
</list>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел">
    <head anchor="how_do_faq" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\00.txt-light">
    <p>
    Как сделать? Ча.Во. F.A.Q.</p>
    </head>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница">
<head anchor="faq_01" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\00.txt-light">
<p>
1. В чём разница?</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\01_v_chiom_raznitsa_mezhdu_set_let_i_0002.txt-light">
<head anchor="faq_01_01" head-level="h2">
<p>
<tag name="simple-string">
1.1. В чём разница между </tag>
<tag name="tt">
set x=10</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
let x=10</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
x=10</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между </tag>
<tag name="tt">
set x=10</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
let x=10</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
x=10</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
Никакой разницы нет, Вы можете использовать все три варианта.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
set x=10
<br/>let x=10
<br/>x=10
</code>
<segment>
<p>
<tag name="simple-string">
Операторы </tag>
<tag name="tt">
set</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
let</tag>
<tag name="simple-string">
 считаются устаревшими, однако вы можете их использовать для улучшения читаемости кода. Например, если вам нужно объявить сразу несколько переменных, гораздо нагляднее это сделать, используя оператор </tag>
<tag name="tt">
set</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
let</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
set x,y,z = 10,20,30
<br/>let f,b,d = 5,15,137
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\02_v_chiom_raznitsa_so_znakom_$_ili_bez_0003.txt-light">
<head anchor="faq_01_02" head-level="h2">
<p>
<tag name="simple-string">
1.2. В чём разница между переменной со знаком </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 и без знака </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между переменной со знаком </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 и без знака </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В QSP данные бывают двух типов: текстовые и целочисленные (числовые). Для работы с текстовыми значениями перед названием переменной ставится знак </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$string="В эту перменную записана строка текста"
</code>
<segment>
<p>
<tag name="simple-string">
Для работы с числовыми значениями перед именем переменной знак </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 не ставится:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
box=100
</code>
<segment>
<p>
Различие в работе двух этих типов переменных легко проверить:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$number="4"
<br/>$count="5"
<br/>*pl $number+$count
<br/>! на экране увидим 45
<br/>
<br/>number=4
<br/>count=5
<br/>*pl number+count
<br/>! на экране увидим 9
</code>
<segment>
<p>
<tag name="simple-string">
Также переменные с символом </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 в начале имени могут хранить кортежи:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! упаковка данных в кортеж
<br/>$tuple = ("Петя", 23, 191, 87)
<br/>! распаковка данных из кортежа
<br/>$name, age, height, weight = $tuple
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\03_v_chiom_raznitsa_mezhdu_kavychkami_i_apostrofami_0004.txt-light">
<head anchor="faq_01_03" head-level="h2">
<p>
<tag name="simple-string">
1.3. В чём разница между </tag>
<tag name="tt">
' '</tag>
<tag name="simple-string">
 (апострофы) и </tag>
<tag name="tt">
" "</tag>
<tag name="simple-string">
 (кавычки)?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между </tag>
<tag name="tt">
' '</tag>
<tag name="simple-string">
 (апострофы) и </tag>
<tag name="tt">
" "</tag>
<tag name="simple-string">
 (кавычки)?
</tag>
</p>
<p>
О:
</p>
<p>
В поведении двух этих групп символов нет никакой разницы. Они используются, чтобы дать понять плееру, где начинается и где заканчивается строковая константа.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "Строка текста"
<br/>*nl 'Ещё одна строка текста'
</code>
<segment>
<p>
Две группы символов нужны для того, чтобы мы с вами могли выводить и те и другие на экран. Например:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl 'В кабачке "У Мо" сегодня весело и шумно.'
<br/>*pl "Руг'Ста'Раг сказал: — Что ты хочешь, мора? Хочешь мухомора?"
</code>
<segment>
<p>
Если в строке предполагается использовать обе группы символов, их можно экранировать дублированием:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! экранируем апострофы
<br/>*pl 'По дороге в кабачок "У Мо" наш старый приятель Руг''Ста''Раг чуть не нарвался на неприятности.'
<br/>! экранируем кавычки
<br/>*pl "По дороге в кабачок ""У Мо"" наш старый приятель Руг'Ста'Раг чуть не нарвался на неприятности."
</code>
<segment>
<p>
Если вам нужно вставить значение какого-либо выражения в строку, вы можете использовать так называемые вложенные выражения (я называю их "подвыражениями", но это не совсем корректно), используя продублированные угловые скобки.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
health=100
<br/>maxhealth=300
<br/>*pl "Ваше здоровье: <<health>>/<<maxhealth>>"
</code>
<segment>
<p>
<tag name="simple-string">
При этом, когда плеер начнёт выполнять команду </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
, он увидит, что в строке присутствуют вложенные выражения и постарается вычислить их значения. В данном случае он подставит вместо переменных их значения, и на экране мы увидим строку:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="None">
Ваше здоровье: 100/300
</code>
<segment>
<p>
Есть ещё третья группа символов — фигурные скобки, и вот их поведение отличается от двух предыдущих.
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
В фигурных скобках нельзя оставлять открытыми апострофы или кавычки.</p>
</segment>
<segment>
<p>
В момент выполнения команды, в которой есть фигурные скобки, в фигурных скобках не "раскрываются" вложенные выражения.</p>
</segment>
</list>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\04_v_chiom_raznitsa_s_zviozdochka-pl_i_bez_0005.txt-light">
<head anchor="faq_01_04" head-level="h2">
<p>
<tag name="simple-string">
1.4. В чём разница между </tag>
<tag name="tt">
*pl "строка"</tag>
<tag name="simple-string">
 и просто </tag>
<tag name="tt">
"строка"</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между </tag>
<tag name="tt">
*pl "строка"</tag>
<tag name="simple-string">
 и просто </tag>
<tag name="tt">
"строка"</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Любое значение, записанное без оператора, плеер автоматически выводит на экран, как если бы перед этим значением стоял оператор </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "Строка текста, после которой будет вставлен перевод каретки."
<br/>"Строка текста, после которой будет вставлен перевод каретки."
</code>
<segment>
<p>
<tag name="simple-string">
На самом деле значение, записанное без оператора, передаётся так называемому "неявному оператору". То есть оператору, название которого попросту никогда не указывается. В большинстве случаев неявный оператор ведёт себя так же, как оператор </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
123
<br/>triz+bort
<br/>48*59-rtu
<br/>$mid("какая-то строка",10)
</code>
<segment>
<p>
<tag name="simple-string">
Однако существует одно отличие между неявным оператором и оператором </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Если выражение, переданное неявному оператору, не возвращает никакого результата (например, пользовательская функция), плеер просто ничего не выведет на экран.
</p>
<p>
<tag name="simple-string">
Если выражение, которое не возвращает никакого результата, передано оператору </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
, оператор </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
 выведет на экран пустую строку и сделает перевод каретки.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# start
<br/>*pl 'explicit'
<br/>*pl $func('foo')
<br/>*pl 'explicit'
<br/>
<br/>'implicit'
<br/>$func('foo')
<br/>'implicit'
<br/>--- start ---
<br/>
<br/># foo
<br/>    N=45+67
<br/>--- foo ---
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\05_chem_otlichajutsja_dve_komandy_0006.txt-light">
<head anchor="faq_01_05" head-level="h2">
<p>
<tag name="simple-string">
1.5. Чем отличаются эти две команды? </tag>
<tag name="tt">
*pl "<<$perem>>"</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
*pl $perem</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Чем отличаются эти две команды?
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "<<$perem>>" 
<br/>*pl $perem 
</code>
<segment>
<p>
О:
</p>
<p>
На экране различий Вы не увидите, да и в игре особой разницы не почувствуете. Результат их работы одинаков.
</p>
<p>
А вот работают они по разному.
</p>
<p>
<tag name="simple-string">
Когда плеер встречает первую команду, он видит оператор </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
, и что этому оператору передано некое значение — строка. Так же он видит, что в строке присутствует подвыражение. Первым делом он пытается вычислить значение этого подвыражения, которое соответствует значению переменной </tag>
<tag name="tt">
$perem</tag>
<tag name="simple-string">
. Это значение плеер подставляет в строку. Таким образом у него получается текстовая константа. Затем он берёт значение этой текстовой константы и передаёт оператору </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
, который и выводит значение на экран.
</tag>
</p>
<p>
<tag name="simple-string">
Когда плеер встречает вторую команду, он просто получает значение переменной </tag>
<tag name="tt">
$perem</tag>
<tag name="simple-string">
 и передаёт его оператору.
</tag>
</p>
<p>
Первая команда принуждает плеер выполнять двойную работу. Это будет заметно при больших объёмах вычислений. Первая команда выполняется примерно в 1,3 раза дольше.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\06_v_chiom_raznitsa_mezhdu_dynamic_i_dyneval_0007.txt-light">
<head anchor="faq_01_06" head-level="h2">
<p>
<tag name="simple-string">
1.6. В чём разница между </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
И </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
, и </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 выполняют код, который мы передаём им в виде текста. Однако разница есть. И она заключается в том, что </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 — это оператор, а </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 — это функция. Функция умеет </tag>
<tag name="tt">
возвращать</tag>
<tag name="simple-string">
 результат. Сравните работу этих двух команд:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic "result=1 & act 'Прибавить единицу (0)': dyn=dyn+1"
</code>
<code code-left-level="0" code-type="qsp">
dyneval("result=2 & act 'Прибавить единицу (1)': dyn=dyn+1")
</code>
<segment>
<p>
<tag name="simple-string">
Первая просто выведет действие в окно действий, а вторая выведет действие, и число </tag>
<tag name="tt">
2</tag>
<tag name="simple-string">
 на экран. Потому что результатом работы этой функции в данном случае станет </tag>
<tag name="tt">
2</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Чтобы воспользоваться возможностями </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
, следует в конце вычислений присвоить результат переменной </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dyneval("result=500*13/45")
</code>
<segment>
<p>
<tag name="simple-string">
Подобно </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 работают с аргументами:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic "hp=hp+args[0]
<br/>if hp>hp_max:
<br/>    hp=hp_max
<br/>elseif hp<0:
<br/>    hp=0
<br/>end",23
<br/>
<br/>dyneval("result=1
<br/>:for
<br/>if args[1]>0:
<br/>    result=result*args[0]
<br/>    args[1]-=1
<br/>    jump 'for'
<br/>end",57,3)
</code>
<segment>
<p>
<tag name="simple-string">
Если переданный в </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 код не содержит переменную </tag>
<tag name="tt">
$result</tag>
<tag name="simple-string">
 (ей не присваивается значение), при использовании неявного оператора такая функция </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 будет работать, как оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
"Первая строка"
<br/>dyneval("HP=HP+34")
<br/>"Последняя строка"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\07_v_chiom_raznitsa_mezhdu_goto_i_gt_0008.txt-light">
<head anchor="faq_01_07" head-level="h2">
<p>
<tag name="simple-string">
1.7. В чём разница между </tag>
<tag name="tt">
gt</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В чём разница между </tag>
<tag name="tt">
gt</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Никакой разницы нет. </tag>
<tag name="tt">
GT</tag>
<tag name="simple-string">
 это краткая форма </tag>
<tag name="tt">
GOTO</tag>
<tag name="simple-string">
. Программисты любят всё сокращать. У некоторых команд в QSP есть полная и краткая формы записи.
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
Операторы:</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
*clear</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
*clr</tag>
<tag name="simple-string">
 — очистка окна основного описания</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
clear</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
clr</tag>
<tag name="simple-string">
 — очистка окна дополнительного описания</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
cmdclear</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
cmdclr</tag>
<tag name="simple-string">
 — очистка поля ввода</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
unsel</tag>
<tag name="simple-string">
 — снимает выделение с выделенного предмета</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
gs</tag>
<tag name="simple-string">
 — вызов указанной локации без перехода на неё</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
gt</tag>
<tag name="simple-string">
 — переход на указанную локацию</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
xgt</tag>
<tag name="simple-string">
 — переход на указанную локацию без очистки окна основного описания</tag>
</p>
</segment>
</list>
</segment>
<segment>
<segment>
<p>
Функции:</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
$user_text</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$usrtxt</tag>
<tag name="simple-string">
 — возвращает текст, введённый в поле ввода игроком</tag>
</p>
</segment>
</list>
</segment>
</list>
<segment>
<p>
Также, если вы пишете собственные функции с помощью отдельных локаций, вы можете использовать сокращённую запись для вызова таких функций:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
func('foo', 34, 56)
<br/>! эквивалентно
<br/>@foo(34, 56)
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\01_в чём разница\08_v_chiom_raznitsa_mezhdu_goto_i_gosub_0009.txt-light">
<head anchor="faq_01_08" head-level="h2">
<p>
<tag name="simple-string">
1.8. Чем отличается </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 от </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Чем отличается </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 от </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
Разница между этими двумя командами заключается в том, как ведёт себя плеер при их выполнении.
</p>
<p>
<tag name="simple-string">
Команда </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 осуществляет переход на указанную локацию:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
goto "комната"
</code>
<segment>
<p>
При этом происходит следующее:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
<tag name="simple-string">
Плеер, выполняя какой-то код, встречает команду </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 и видит название локации, указанное в качестве аргумента.</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Плеер "переходит" на указанную локацию. Технически это означает, что функция </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
 будет возвращать название локации, на которую был осуществлён "переход".</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
При переходе по </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 плеер очищает окно основного описания и окно действий.</tag>
</p>
</segment>
<segment>
<p>
Далее плеер выводит в окно основного описания "Базовое описание", а в окно действий — "базовые действия". После чего выполняет код из поля "Выполнить при посещении".</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Закончив выполнять код из поля "Выполнить при посещении", плеер (опционально) выполняет код из локации-обработчика события "переход на новую локацию" (см. </tag>
<tag name="hyperlink" href="#faq_80_04_onnewloc">
<tag name="tt">
onNewLoc</tag>
</tag>
<tag name="simple-string">
), а затем перестаёт что-либо делать и ждёт участия игрока.</tag>
</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Таким образом, если после команды </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 были написаны ещё какие-то команды, эти команды плеер не выполняет, так как уже "находится" на другой локации.
</tag>
</p>
<p>
<tag name="simple-string">
Команда </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 не осуществляет перехода на указанную локацию, она осуществляет её вызов:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
gosub "комната"
</code>
<segment>
<p>
Здесь плеер ведёт себя по-другому:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
<tag name="simple-string">
Плеер, выполняя какой-то код, встречает команду </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 и видит название локации, указанное в качестве аргумента.</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Плеер прерывает выполнение текущего кода, и переходит к локации, указанной в качестве аргумента к </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
<segment>
<p>
При этом НЕ ПРОИСХОДИТ очистка окна основного описания и окна действий.</p>
</segment>
<segment>
<p>
<tag name="simple-string">
В окно основного описания добавляется текст из "Базового описания", а в окно действий — "базовые действия" локации, указанной аргументом к </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
. Потом выполняется код этой локации из поля "Выполнить при посещении".</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Закончив выполнять код из поля "Выполнить при посещении", плеер возвращается к выполнению кода на той локации, где была встречена команда </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 и продолжает выполнение этого кода уже после команды </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Таким образом команда </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 позволяет использовать локации как подпрограммы. Плеер обрабатывает эти локации, но технически не "переходит" на них.
</tag>
</p>
<p>
<tag name="simple-string">
Отличие же </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 от </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 заключается лишь в одном: при переходе по </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 НЕ ПРОИСХОДИТ очистка окна основного описания.
</tag>
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter">
<head anchor="faq_02" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter\00.txt-light">
<p>
2. Вопросы о $COUNTER</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter\01_izmenenie_peremennoj_s_techeniem_vremeni_0010.txt-light">
<head anchor="faq_02_01" head-level="h2">
<p>
2.1. Как сделать, чтобы значение переменной изменялось с течением времени?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы значение переменной изменялось с течением времени?
</p>
<p>
О:
</p>
<p>
Вы можете написать любое событие, происходящее с течением действительного времени, если будете использовать локацию-счётчик.
</p>
<p>
Для начала нужно создать локацию-счётчик:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию, название может быть любым, например "реалтайм".</p>
</segment>
<segment>
<p>
указываем плееру, какую локацию ему нужно использовать как локацию-счётчик. Пишем, например на самой первой локации в игре:</p>
</segment>
</list>
<code code-left-level="0" code-type="qsp">
$counter="реалтайм"
</code>
<segment>
<p>
<tag name="simple-string">
По умолчанию обращение к локации-счётчику выполняется каждые пол секунды. Если нужно изменить период обращения, воспользуйтесь оператором </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
. В качестве аргумента этому оператору указывается период обращения к локации-счётчику в миллисекундах:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! обращение к локации-счётчику каждые 100 мс.
<br/>settimer 100
</code>
<segment>
<p>
<tag name="simple-string">
Теперь на локации-счётчике пишем требуемый код. Например, данный код будет увеличивать значение переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 на 1 каждые пять секунд:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фиксируем, в какое время обратились к локации-счётчику
<br/>local time_now = msecscount
<br/>if timer=0 or time_now>=(timer+5000):
<br/>! если переменной timer не присвоено значение
<br/>! или текущее время превышает timer+5000 либо равно ему
<br/>    ! фиксируем в timer текущее время
<br/>    timer = time_now
<br/>    ! повышаем health на 1
<br/>    health = health+1
<br/>! закрываем условие
<br/>end
<br/>! переменные timer и health являются глобальными
</code>
<segment>
<p>
<tag name="simple-string">
Довольно простой код. Функция </tag>
<tag name="tt">
msecscount</tag>
<tag name="simple-string">
 возвращает, сколько прошло миллисекунд с момента начала игры.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter\02_otlozhennyj_perehod_0011.txt-light">
<head anchor="faq_02_02" head-level="h2">
<p>
2.2. Как сделать, чтобы из одной локации меня через пару секунд перебрасывало в другую локацию?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы из одной локации меня через пару секунд перебрасывало в другую локацию?
</p>
<p>
О:
</p>
<p>
Вы можете написать любое событие, происходящее с течением действительного времени, если будете использовать локацию-счётчик.
</p>
<p>
Для начала нужно создать локацию-счётчик:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию, название может быть любым, например "реалтайм".</p>
</segment>
<segment>
<p>
указываем плееру, какую локацию ему нужно использовать, как локацию-счётчик. Пишем, например на самой первой локации в игре:</p>
</segment>
</list>
<code code-left-level="0" code-type="qsp">
$counter="реалтайм"
</code>
<segment>
<p>
<tag name="simple-string">
По умолчанию обращение к локации-счётчику выполняется каждые пол секунды. Если нужно изменить период обращения, воспользуйтесь оператором </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
. В качестве аргумента этому оператору указывается период обращения к локации-счётчику в миллисекундах:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! обращение к локации-счётчику каждые 100 мс.
<br/>settimer 100
</code>
<segment>
<p>
Теперь на локации-счётчике пишем требуемый код. Например, данный код будет перебрасывать на локацию "комната" через 4 секунды после того, как игрок зашёл на локацию "коридор":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фиксируем, в какое время обратились к локации-счётчику
<br/>local time_now = msecscount
<br/>if $curloc="коридор":
<br/>! если текущая локация "коридор"
<br/>    ! фиксируем в timer время, в какое должен произойти переход
<br/>    if timer=0: timer=time_now+4000
<br/>    if time_now>=timer and timer>0:
<br/>    ! если текущее время достигло нужного
<br/>        ! записываем в переменную timer -1,
<br/>        ! чтобы больше этот код не исполнялся
<br/>        timer=-1
<br/>        ! совершаем переход
<br/>        goto "комната"
<br/>    ! закрываем условие
<br/>    end
<br/>! закрываем условие
<br/>end
<br/>! переменная timer являюется глобальной
</code>
<segment>
<p>
<tag name="simple-string">
Довольно простой код. Функция </tag>
<tag name="tt">
msecscount</tag>
<tag name="simple-string">
 возвращает, сколько прошло миллисекунд с момента начала игры.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter\03_otlozhennoe_dejstvie_0012.txt-light">
<head anchor="faq_02_03" head-level="h2">
<p>
2.3. Как сделать, чтобы через пару секунд после входа на локацию появлялось новое действие?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы через пару секунд после входа на локацию появлялось новое действие?
</p>
<p>
О:
</p>
<p>
Вы можете написать любое событие, происходящее с течением действительного времени, если будете использовать локацию-счётчик.
</p>
<p>
Для начала нужно создать локацию-счётчик:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию, название может быть любым, например "реалтайм".</p>
</segment>
<segment>
<p>
указываем плееру, какую локацию ему нужно использовать, как локацию-счётчик. Пишем, например на самой первой локации в игре:</p>
</segment>
</list>
<code code-left-level="0" code-type="qsp">
$counter="реалтайм"
</code>
<segment>
<p>
<tag name="simple-string">
По умолчанию обращение к локации-счётчику выполняется каждые пол секунды. Если нужно изменить период обращения, воспользуйтесь оператором </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
. В качестве аргумента этому оператору указывается период обращения к локации-счётчику в миллисекундах:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! обращение к локации-счётчику каждые 100 мс.
<br/>settimer 100
</code>
<segment>
<p>
Теперь на локации-счётчике пишем требуемый код. Например, данный код будет создавать действие "Шагнуть в портал" через 7 секунд после входа на локацию "зал_с_порталами":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фиксируем, в какое время обратились к локации-счётчику
<br/>local time_now=msecscount
<br/>if $curloc="зал_с_порталами":
<br/>! если текущая локация "зал_с_порталами"
<br/>    ! фиксируем в timer время, когда должно появиться действие
<br/>    if timer=0: timer=time_now+7000
<br/>    if time_now>=timer and timer>0:
<br/>    ! если текущее время достигло нужного
<br/>        ! записываем в переменную timer -1,
<br/>        ! чтобы больше этот код не исполнялся
<br/>        timer=-1
<br/>        ! создаём действие
<br/>        act "Шагнуть в портал":
<br/>            ! код в действии
<br/>            goto "лес_темносилья"
<br/>        ! закрываем действие
<br/>        end
<br/>    ! закрываем условие
<br/>    end
<br/>! закрываем условие
<br/>end
<br/>! переменная timer являюется глобальной
</code>
<segment>
<p>
<tag name="simple-string">
Довольно простой код. Функция </tag>
<tag name="tt">
msecscount</tag>
<tag name="simple-string">
 возвращает, сколько прошло миллисекунд с момента начала игры.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\02_counter\04_raspredelionnye_vychislenija_0013.txt-light">
<head anchor="faq_02_04" head-level="h2">
<p>
2.4. Как сделать, чтобы цикл выполнялся параллельно остальному коду, а не прерывал его?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы цикл выполнялся параллельно остальному коду, а не прерывал его?
</p>
<p>
Дело в том, что в цикле много операций, и пока он не выполнится, игра висит. Можно ли сделать так, чтобы цикл выполнялся, но игра продолжалась?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В этом случае нужно использовать локацию-счётчик. Если игра может продолжаться даже пока цикл не выполнен, то локация-счётчик позволит распределить вычисления цикла во времени. Однако, </tag>
<tag name="tt">
это вовсе не означает, что код локации-счётчика выполняется параллельно коду остальной игры</tag>
<tag name="simple-string">
. Плеер только лишь прерывает выполнение основного кода (с определённой периодичностью) и выполняет код на локации-счётчике, затем продолжает выполнение основного кода.
</tag>
</p>
<p>
Для начала нужно создать локацию-счётчик:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию, название может быть любым, например "реалтайм".</p>
</segment>
<segment>
<p>
указываем плееру, какую локацию ему нужно использовать, как локацию-счётчик. Пишем, например на самой первой локации в игре:</p>
</segment>
</list>
<code code-left-level="0" code-type="qsp">
$counter="реалтайм"
</code>
<segment>
<p>
<tag name="simple-string">
По умолчанию обращение к локации-счётчику выполняется каждые пол секунды. Если нужно изменить период обращения, воспользуйтесь оператором </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
. В качестве аргумента этому оператору указывается период обращения к локации-счётчику в миллисекундах:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! обращение к локации-счётчику каждые 100 мс.
<br/>settimer 100
</code>
<segment>
<p>
На локации счётчике пишем непосредственно код для циклических вычислений:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! чтобы запустить выполнение цикла,
<br/>! необходимо переменной цикл_вкл присвоить единицу
<br/>if цикл_вкл=1:
<br/>! если цикл запущен
<br/>    ! увеличиваем частоту обращения к локации-счётчику
<br/>    settimer 10
<br/>    if i<1000:
<br/>    ! если значение счётчика не достигло предела
<br/>        ! выполняем требуемые операции
<br/>        ! здесь заполняем массив
<br/>        data[i]=i
<br/>        ! увеличиваем счётчик
<br/>        i=i+1
<br/>    else
<br/>    ! если значение счётчика достигло предела
<br/>        ! останавливаем выполнение цикла
<br/>        цикл_вкл=0
<br/>        ! уменьшаем частоту обращения к локации-счётчику
<br/>        settimer 500
<br/>    end
<br/>end
<br/>! все перечисленные переменные - глобальные
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input">
<head anchor="faq_03" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\00.txt-light">
<p>
3. Вопросы о MSG и $INPUT</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\01_podskazhite_analog_alert_0014.txt-light">
<head anchor="faq_03_01" head-level="h2">
<p>
3.1. Как вывести на экран отдельное окошко с текстом?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вывести на экран отдельное окошко с текстом?
</p>
<p>
<tag name="simple-string">
В: Подскажите аналог команды </tag>
<tag name="tt">
alert</tag>
<tag name="simple-string">
 в QSP.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Вывод сообщения в виде всплывающего окна в QSP выполняет оператор </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
. В качестве аргумента оператору указывается строка текста, которую мы хотим увидеть в сообщении:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
msg "Осторожно! Мост разрушен!"
</code>
<segment>
<p>
<tag name="simple-string">
Обратите внимание, команда </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
 выводит на экран сообщение и прерывает дальнейшее выполнение кода, пока игрок не нажмёт кнопку "ОК".
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\02_analog_prompt_0015.txt-light">
<head anchor="faq_03_02" head-level="h2">
<p>
3.2. Как вывести на экран окошко, в котором игрок должен ввести текст?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вывести на экран окошко, в котором игрок должен ввести текст?
</p>
<p>
<tag name="simple-string">
В: Подскажите аналог команды </tag>
<tag name="tt">
prompt</tag>
<tag name="simple-string">
 в QSP.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Чтобы вывести на экран отдельное окошко, в котором игрок должен вводить текст, воспользуйтесь функцией </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
. В качестве аргумента этой функции указывается строка текста, которую мы хотим увидеть во всплывающем окошке. А возвращает функция текст, введённый игроком.
</tag>
</p>
<p>
Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$name=$input("Введите своё имя.")
<br/>*pl "Вас зовут <<$name>>."
</code>
<segment>
<p>
<tag name="simple-string">
При выполнении этого кода на экране появится окошко с текстом "Введите своё имя." и полем ввода. Если игрок введёт в этом поле слово "Вася", то переменной </tag>
<tag name="tt">
$name</tag>
<tag name="simple-string">
 присвоится значение "Вася". Следующая команда выведет на экран текст "Вас зовут Вася."
</tag>
</p>
<p>
Обратите внимание, пока игрок не нажмёт кнопку "ОК", или "Отмена", выполнение всего остального кода будет приостановлено.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\03_vybora_varianta_v_okne_msg_0016.txt-light">
<head anchor="faq_03_03" head-level="h2">
<p>
3.3. Как прикрутить возможность выбора варианта к окну msg?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как прикрутить возможность выбора варианта к окну msg?
</p>
<p>
<tag name="simple-string">
В: Подскажите аналог команды </tag>
<tag name="tt">
confirm</tag>
<tag name="simple-string">
 в QSP.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В классическом плеере у </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
 нет такой возможности, поскольку </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
 не возвращает значений. Вы можете использовать функцию </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
, и ограничить для игрока возможные варианты ответов:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
:loop
<br/>! выводим на экран окошко с полем ввода, а результат,
<br/>! введёный игроком, возвращаем переменной $answer
<br/>$answer = $INPUT ('Хотите продолжить (д/н)?')
<br/>! чтобы не учитывать регистр, переводим значение в нижний регистр
<br/>$answer=$LCASE($answer)
<br/>! проверяем, правильный ли ответ ввёл игрок
<br/>IF $answer = 'д':
<br/>! если ответ "д" переходим к локации, продолжающей игру
<br/>    goto "далее"
<br/>ELSEIF $answer = 'н':
<br/>! если ответ "н" переходим к локации, прерывающей игру
<br/>    goto "конец"
<br/>ELSE
<br/>! если игрок ввёл неверный ответ, или не ввёл ничего
<br/>    ! перепрыгиваем на метку loop
<br/>    JUMP 'loop'
<br/>END
</code>
<segment>
<p>
Есть вариант использовать всплывающее меню в качестве диалогового окна, но это не очень хороший вариант, так как всплывающее меню появляется точно под курсором мышки и выглядит совсем не как диалоговое окно. Тем не менее вариант рабочий:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# start
<br/>*pl "На следующей локации демонстрируется использование меню в качестве даилогового окна для выбора двух вариантов"
<br/>$dialog[]="Сообщение: кошелёк или жизнь:dial_loc:?"
<br/>$dialog[]="> Кошелёк:dial_loc"
<br/>$dialog[]="> Жизнь:dial_loc"
<br/>act "Перейти в следующую локацию":
<br/>    goto 'room'
<br/>end
<br/>-- start
<br/>
<br/># room
<br/>refint & ! данная функция принудительно обновит содержимое окон плеера при входе на локацию
<br/>:loop
<br/>menu '$dialog'
<br/>if variant<>1: jump 'loop'
<br/>-- room
<br/>
<br/># dial_loc
<br/>if args[0]=1:
<br/>    ! данный пункт меню не работает
<br/>elseif args[0]=2:
<br/>    *pl "Вы выбрали вариант кошелёк"
<br/>    variant=1
<br/>elseif args[0]=3:
<br/>    *pl "Вы выбради вариант жизнь"
<br/>    variant=1
<br/>end
<br/>-- dial_loc
</code>
<segment>
<p>
В qSpider вы можете написать собственное такое окошко, используя CSS и JavaScript.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\04_kak_sdelat__vvod_imeni_igrokom_0017.txt-light">
<head anchor="faq_03_04" head-level="h2">
<p>
3.4. Как сделать ввод имени игроком?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать ввод имени игроком?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Для этого необходимо использовать функцию </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
. В качестве аргумента этой функции указывается строка текста, которую мы хотим увидеть во всплывающем окошке. А возвращает функция текст, введённый игроком.
</tag>
</p>
<p>
Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$name=$input("Введите своё имя.")
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы игрок не мог проигнорировать ввод имени, нужно зациклить выполнение данного кода, если </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
 возвращает пустую строку:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop while $name="":
<br/>    $name=$input("Введите своё имя.")
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\03_msg и input\05_varianty_otveta_v_input_0018.txt-light">
<head anchor="faq_03_05" head-level="h2">
<p>
3.5. Как сделать варианты для ответа через $input?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как увеличить число правильных ответов, которые может ввести игрок?
</p>
<p>
<tag name="simple-string">
В: Как сделать варианты для ответа через </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
Можно воспользоваться сложным условием, где перечислены варианты ответа:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$answer=$TRIM($LCASE($input('Цвет светофора бывает?..'))) 
<br/>if $answer='красный' OR $answer='желтый' OR $answer='зеленый':
<br/>    goto 'win'
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Функция </tag>
<tag name="tt">
$trim</tag>
<tag name="simple-string">
 обрежет прилегающие пробелы и символы табуляции в возвращённой строке.
</tag>
</p>
<p>
<tag name="simple-string">
Функция </tag>
<tag name="tt">
$lcase</tag>
<tag name="simple-string">
 переведёт все символы в нижний регистр.
</tag>
</p>
<p>
Этот код удобен, если вариантов немного. Однако, если строка условия получается слишком длинной, можно воспользоваться таким способом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! заранее вносим варианты ответа в массив:
<br/>$answer_var[0]="красный"
<br/>$answer_var[1]="желтый"
<br/>$answer_var[2]="зеленый"
<br/>! получаем ответ игрока
<br/>$answer=$trim($lcase($input("Цвет светофора бывает?..")))
<br/>! теперь проверяем, есть ли такой вариант в массиве
<br/>if arrpos("$answer_var", $answer)<>-1:
<br/>    goto "win"
<br/>end
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню">
<head anchor="faq_04" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\00.txt-light">
<p>
4. Вопросы о меню</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\01_kak_sdelat__menju_predmeta_0019.txt-light">
<head anchor="faq_04_01" head-level="h2">
<p>
4.1. Как сделать меню предмета?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать меню предмета?
</p>
<p>
О:
</p>
<p>
Чтобы меню всплывало по щелчку на предмете, нужно задействовать локацию-обработчик выделения предмета. Для этого:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию и называем, например, "если_предмет_выбран". Название может быть любым.</p>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
в самой первой локации в игре указываем плееру, какую локацию он должен использовать, как обработчик выделения предмета. Для этого в системную переменную </tag>
<tag name="tt">
$onobjsel</tag>
<tag name="simple-string">
 вносим имя нашей новой локации:</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjsel="если_предмет_выбран"
</code>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Теперь мы должны определиться с тем, сколько пунктов будет в нашем меню. Допустим, у нас есть предмет "Отвёртка" (добавленный где-то в игре с помощью </tag>
<tag name="tt">
addobj "Отвёртка"</tag>
<tag name="simple-string">
), и мы хотим сделать три пункта:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Осмотреть</p>
</segment>
<segment>
<p>
Использовать</p>
</segment>
<segment>
<p>
Выбросить</p>
</segment>
</list>
<segment>
<p>
На каждый пункт меню нам нужно создать отдельную локацию:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Для пункта "Осмотреть" локация будет называться "info_screw"</p>
</segment>
<segment>
<p>
Для пункта "Использовать" локация будет называться "use_screw"</p>
</segment>
<segment>
<p>
Для пункта "Выбросить" локация будет называться "put_screw"</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Далее нам нужно завести массив, в котором мы пропишем все наши пункты меню. Назовём его, например, </tag>
<tag name="tt">
$меню_отвёртка</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]="Осмотреть:info_screw"
<br/>$меню_отвёртка[1]="Использовать:use_screw"
<br/>$меню_отвёртка[2]="Выбросить:put_screw"
</code>
<segment>
<p>
(этот код можно прописать на самой первой локации в игре)
</p>
<p>
Как видите, пункты нужно вписывать в массив, начиная с нулевой ячейки, по порядку. Каждый пункт состоит из двух частей:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
первая часть — название пункта меню</p>
</segment>
<segment>
<p>
вторая часть — название локации, которая отвечает за этот пункт меню.</p>
</segment>
</list>
<segment>
<p>
Части разделяются двоеточием.
</p>
<p>
Теперь на локации-обработчике выделения предмета ("если_предмет_выбран") пишем такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Отвёртка":
<br/>! если выделен предмет отвёртка
<br/>    ! вывести всплывающее меню
<br/>    menu "$меню_отвёртка"
<br/>end
<br/>
<br/>! в самом конце локации не забудьте снять выделение с предмета:
<br/>unselect
</code>
<segment>
<p>
<tag name="simple-string">
В качестве аргумента оператору </tag>
<tag name="tt">
menu</tag>
<tag name="simple-string">
 передаётся название массива, в который мы прописали пункты меню.
</tag>
</p>
<p>
Не забываем прописать код для каждой локации, которая отвечает за выполнение пункта меню:
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
локация "info_screw":</p>
</segment>
<code code-left-level="4" code-type="qsp">
! очищаем окно дополнительного описания
<br/>clr
<br/>! выводим описание отвёртки
<br/>pl "Обыкновенная крестовая отвёртка. Подойдёт для регулирования громкости"
</code>
</segment>
<segment>
<segment>
<p>
локация "use_screw"</p>
</segment>
<code code-left-level="4" code-type="qsp">
! например изменяем значение переменной
<br/>громкость=громкость-50
<br/>! выводим на экран текст
<br/>*nl "Вы сунули отвёртку в ухо и звуки стали тише."
</code>
</segment>
<segment>
<segment>
<p>
локация "put_screw"</p>
</segment>
<code code-left-level="4" code-type="qsp">
! очищаем окно дополнительного описания
<br/>clr
<br/>! выводим текст
<br/>pl "Вы выбросили отвёртку"
<br/>! удаляем предмет
<br/>delobj "Отвёртка"
</code>
</segment>
</list>
<segment>
<p>
Теперь осталось только попробовать, как всё работает.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\02_kak_sdelat__raznye_menju_0020.txt-light">
<head anchor="faq_04_02" head-level="h2">
<p>
4.2. Как сделать разные меню для двух и более предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать разные меню для двух и более предметов?
</p>
<p>
О:
</p>
<p>
На каждый предмет, для которого нужно меню, необходимо завести собственный массив.
</p>
<p>
Например, если у нас есть два предмета "Отвёртка" и "Апельсин":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! заводим массив с пунктами меню для отвёртки
<br/>$меню_отвёртка[0]="Осмотреть:info_screw"
<br/>$меню_отвёртка[1]="Использовать:use_screw"
<br/>$меню_отвёртка[2]="Выбросить:put_screw"
<br/>! заводим массив с пунктами меню для апельсина
<br/>$меню_апельсин[0]="Осмотреть:info_orange"
<br/>$меню_апельсин[1]="Использовать:use_orange"
<br/>$меню_апельсин[2]="Выбросить:put_orange"
</code>
<segment>
<p>
<tag name="simple-string">
Само собой необходимо создать локации для каждого из этих пунктов. И на каждой локации прописать нужный код (см. </tag>
<tag name="hyperlink" href="#faq_04_01">
"Как сделать меню предмета?"</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Осталось только прописать вызов меню на локации-обработчике выделения предмета (название которой прописано в </tag>
<tag name="tt">
$onobjsel</tag>
<tag name="simple-string">
):
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Отвёртка":
<br/>! если выделен предмет "Отвёртка"
<br/>    ! вызываем меню отвёртки
<br/>    menu "$меню_отвёртка"
<br/>end
<br/>if $selobj="Апельсин":
<br/>! если выделен предмет "Апельсин"
<br/>    ! вызываем меню апельсина
<br/>    menu "$меню_апельсин"
<br/>end
<br/>
<br/>! ...и так далее по каждому предмету
<br/>
<br/>! не забываем снять выделение с предмета в конце
<br/>unselect
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\03_kak_sdelat__menju_v_ssylkah_0021.txt-light">
<head anchor="faq_04_03" head-level="h2">
<p>
4.3. Как сделать меню в ссылках?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать меню в ссылках?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Меню можно вызвать в любом месте игры, если воспользоваться оператором </tag>
<tag name="tt">
menu</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Можно вызвать прямо из кода локации, можно вызвать при нажатии на действие, а значит можно вызвать и из гиперссылки.
</p>
<p>
Обычно гиперссылка выводится на экран так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "На берёзе выросло несколько <a href=''>яблок</a>."
</code>
<segment>
<p>
<tag name="simple-string">
В атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
, если бы мы имели дело с html-документом, обычно пишется url — адресс страницы в интернете. Однако в QSP мы можем размещать внутри этого атрибута строки кода. В том числе и строку типа:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
menu "$меню_яблоко"
</code>
<segment>
<p>
<tag name="simple-string">
Само собой массив </tag>
<tag name="tt">
$меню_яблоко[]</tag>
<tag name="simple-string">
 должен быть заполнен до вызова меню, например на самой первой локации в игре.
</tag>
</p>
<p>
<tag name="simple-string">
Чтобы плеер понял, что в атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
 находится не url, а какой-то код, мы должны указать перед этим кодом ключевое слово </tag>
<tag name="tt">
EXEC</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "На берёзе выросло несколько <a href='exec: '>яблок</a>."
</code>
<segment>
<p>
<tag name="simple-string">
Теперь нам нужно вставить после EXEC: нашу строку кода с вызовом меню. Однако, мы уже использовали кавычки ("") для указания границ строки, и апострофы ('') для указания границ атрибута </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
. А в нашей строке кода тоже есть кавычки. Как быть?
</tag>
</p>
<p>
Мы можем экранировать кавычки кода от QSP с помощью дублирования:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "На берёзе выросло несколько <a href='exec:menu ""$меню_яблоко""'>яблок</a>."
</code>
<segment>
<p>
Или, мы можем экранировать кавычки атрибута href от QSP с помощью того же дублирования:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "На берёзе выросло несколько <a href=""exec:menu '$меню_яблоко'"">яблок</a>."
</code>
<segment>
<p>
Эти два варианта равнозначны, используйте тот, что удобнее.
</p>
<p>
Теперь, когда мы щёлкнем по слову "яблок", на экране появится меню.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\04_kak_peredavat__lokatsijam-punktam_menju_argumenty_0022.txt-light">
<head anchor="faq_04_04" head-level="h2">
<p>
4.4. Как передавать локациям-пунктам меню аргументы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как передавать локациям-пунктам меню аргументы?
</p>
<p>
О:
</p>
<p>
При выполнении кода локации, соответствующей пункту меню, непосредственно в массив args передаётся только номер пункта.
</p>
<p>
Если у вас фиксированные меню, то Вы можете получить номер пункта из нулевой ячейки массива args и таким образом выполнение любого пункта меню можно разместить на одной локации:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]='Осмотреть:screw_menu'
<br/>$меню_отвёртка[1]='Использовать:screw_menu'
<br/>$меню_отвёртка[2]='Выбросить:screw_menu'
<br/>
<br/>! локация "screw_menu"
<br/>if args[0]=1:
<br/>! если передано число 1
<br/>    ! это пункт меню "Осмотреть"
<br/>    clr
<br/>    pl "Обыкновенная крестовая отвёртка. Подойдёт для регулирования громкости"
<br/>end
<br/>if args[0]=2:
<br/>! если передано число 2
<br/>    ! это пункт "Использовать"
<br/>    громкость=громкость-50
<br/>    *nl "Вы сунули отвёртку в ухо и звуки стали тише."
<br/>end
<br/>if args[0]=3:
<br/>! если передано число 3
<br/>    ! это пункт "Выбросить"
<br/>    clr
<br/>    pl "Вы выбросили отвёртку"
<br/>    delobj "Отвёртка"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Этот вариант не будет работать, если меню формируется динамически, т.е. пункты в него добавляются или удаляются по мере прохождения игры, или в зависимости от условий. Тем не менее вы можете узнать, какой именно пункт меню вызвал данную локацию, используя простое решение, предложенное </tag>
<tag name="tt">
Werewolf</tag>
<tag name="simple-string">
ом.
</tag>
</p>
<p>
<tag name="simple-string">
Так или иначе вам приходится помещать все пункты меню в массив</tag>
<tag name="hyperlink" href="#faq_04_04_02">
*</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$menu_stone[]='Осмотреть:menu_stone'
<br/>$menu_stone[]='Укусить:menu_stone'
<br/>$menu_stone[]='Выбросить:menu_stone'
</code>
<segment>
<p>
<tag name="simple-string">
Таким образом на локации-обработчике пункта меню, используя значение в </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, можно получить содержимое ячейки массива, относящейся к данному пункту меню:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! получаем номер ячейки массива, соответствующей данному пункту меню
<br/>! пункты меню нумеруются с 1, поэтому номер ячейки вычисляем так:
<br/>local i=args[0]-1
<br/>! а дальше проделываем то же, что и для предыдущего варианта,
<br/>! но с небольшими отличиями
<br/>
<br/>if $menu_stone[i]='Осмотреть:menu_stone':
<br/>    ! это пункт меню "Осмотреть"
<br/>    clr
<br/>    pl "Обыкновенный камень. Подойдёт для изготовления молний Индры."
<br/>end
<br/>if $menu_stone[i]='Укусить:menu_stone':
<br/>    ! это пункт "Укусить"
<br/>    *nl "Вы вонзили зубы в твёрдую плоть камня. Камень оказался прочнее."
<br/>end
<br/>if $menu_stone[i]='Выбросить:menu_stone':
<br/>    ! это пункт "Выбросить"
<br/>    clr
<br/>    pl "Вы выбросили камень."
<br/>    delobj "Камень"
<br/>end
</code>
<segment>
<p>
Лично я рекомендую заводить на каждый пункт меню отдельную локацию, просто делать сами пункты меню более универсальными:
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
Формируем меню для предметов, например на самой первой локации в игре:</p>
</segment>
<code code-left-level="4" code-type="qsp">
$меню_предмет[]="Осмотреть:info"
<br/>$меню_предмет[]="Использовать:use"
<br/>$меню_предмет[]="Выбросить:put"
</code>
</segment>
<segment>
<segment>
<p>
На локации-обработчике выделения предмета ($onobjsel) код может быть такой:</p>
</segment>
<code code-left-level="4" code-type="qsp">
! записываем название выделенного предмета в переменую
<br/>$object=$selobj
<br/>! сразу можно снять выделение
<br/>unselect
<br/>if $object="Отвёртка" or $object="Апельсин":
<br/>! если это нужный нам предмет
<br/>    ! вызываем меню
<br/>    menu "$меню_предмет"
<br/>end
</code>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
На локациях-пунктах меню предметов используем условия, и по значению переменной </tag>
<tag name="tt">
$object</tag>
<tag name="simple-string">
 определяем, какой предмет был выделен:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! для примера локация "info"
<br/>if $object="Отвёртка":
<br/>! если мы "запомнили" предмет "Отвёртка" после выделения
<br/>    ! выводим описание отвёртки
<br/>    clr
<br/>    pl "Обыкновенная крестовая отвёртка. Подойдёт для регулирования громкости"
<br/>end
<br/>if $object="Апельсин":
<br/>! если мы "запомнили" предмет "Апельсин" после выделения
<br/>    ! выводим описание апельсина
<br/>    clr
<br/>    pl "Рыжий сладкий апельсин. Много нас, а он один."
<br/>end
</code>
</segment>
</list>
<segment>
<p>
Таким образом через глобальные переменные мы можем передавать некоторые данные локациям-пунктам меню.
</p>
<p>
<tag name="hyperlink" href="#faq_04_04_01">
↑</tag>
<tag name="simple-string">
 Запись </tag>
<tag name="tt">
$меню_предмет[]=</tag>
<tag name="simple-string">
 означает, что данные будут записаны в следующую ячейку после последней. Это аналог записи </tag>
<tag name="tt">
$меню_предмет[arrsize('$меню_предмет')]=</tag>
<tag name="simple-string">
. См. </tag>
<tag name="hyperlink" href="#faq_04_05">
Как сделать контекстное меню</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\05_kak_delat__kontekstnoe_menju_0023.txt-light">
<head anchor="faq_04_05" head-level="h2">
<p>
4.5. Как делать контекстное (динамическое) меню?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как делать контекстное (динамическое) меню?
</p>
<p>
О:
</p>
<p>
Контекстное меню делать не сложнее, чем обыкновенное. Единственная сложность в том, чтобы добавлять в меню новые пункты, не отслеживая номеров.
</p>
<p>
Любое меню записывается в массив, начиная с нулевой ячейки, и обычно мы это делаем так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]="Осмотреть:info_screw"
<br/>$меню_отвёртка[1]="Использовать:use_screw"
<br/>$меню_отвёртка[2]="Выбросить:put_screw"
</code>
<segment>
<p>
Тем самым мы указываем плееру конкретные ячейки, в которые нужно прописать пункты меню. Однако мы можем писать и так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[]="Осмотреть:info_screw"
<br/>$меню_отвёртка[]="Использовать:use_screw"
<br/>$меню_отвёртка[]="Выбросить:put_screw"
</code>
<segment>
<p>
<tag name="simple-string">
Запись </tag>
<tag name="tt">
$меню_отвёртка[]=</tag>
<tag name="simple-string">
 означает, что когда мы используем операцию присвоения, плеер создаст новую ячейку в массиве </tag>
<tag name="tt">
$меню_отвёртка</tag>
<tag name="simple-string">
 с номером на 1 больше номера самой последней ячейки, и уже ей присвоит значение. Эта запись аналогична такой:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[arrsize('$меню_предмет')]="Осмотреть:info_screw"
<br/>$меню_отвёртка[arrsize('$меню_предмет')]="Использовать:use_screw"
<br/>$меню_отвёртка[arrsize('$меню_предмет')]="Выбросить:put_screw"
</code>
<segment>
<p>
Таким образом мы можем добавлять в массив меню новые пункты, не опасаясь, что одни пункты затрут другие.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\06_kak_vstavit__razdelitel__0024.txt-light">
<head anchor="faq_04_06" head-level="h2">
<p>
4.6. Как вставить разделитель в меню?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить разделитель в меню?
</p>
<p>
О:
</p>
<p>
Вставить разделитель в меню очень просто. Нужно просто в один из пунктов прописать такую строку "-:-". Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]="Осмотреть:info_screw"
<br/>$меню_отвёртка[1]="-:-"
<br/>$меню_отвёртка[2]="Использовать:use_screw"
<br/>$меню_отвёртка[3]="Выбросить:put_screw"
</code>
<segment>
<p>
Между пунктами "Осмотреть" и "Использовать" будет отображаться линия-разделитель.
</p>
<p>
<tag name="simple-string">
Разделитель нельзя кликнуть, однако поскольку он занимает одну позицию в массиве меню, номера всех остальных пунктов будут передаваться на локации-пункты меню в </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
 с учётом разделителя. То есть, если Вы кликнете пункт "Выбросить", в этом примере, на локации "put_screw" </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
 будет равно 4.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\04_вопросы о меню\07_kak_vstavit__kartinki_v_menju_0025.txt-light">
<head anchor="faq_04_07" head-level="h2">
<p>
4.7. Как вставить картинки в меню?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить картинки в меню?
</p>
<p>
О:
</p>
<p>
Просто укажите путь к файлу картинки через двоеточие после названия локации-пункта меню.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]="Осмотреть:info_screw:img/screw.png"
</code>
<segment>
<p>
При этом название меню можно не писать, но оставить первое двоеточие, и пункт меню будет выводиться без надписи:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_отвёртка[0]=":info_screw:img/screw.png"
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\05_вопросы по onnewloc">
<head anchor="faq_05" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\05_вопросы по onnewloc\00.txt-light">
<p>
5. Вопросы по $ONNEWLOC</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\05_вопросы по onnewloc\01_kak_ne_pisat__odin_i_tot_zhe_kod_v_kazhdoj_lokatsii_0026.txt-light">
<head anchor="faq_05_01" head-level="h2">
<p>
5.1. Как сделать так, чтобы не писать один и тот же код в каждой локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать так, чтобы не писать один и тот же код в каждой локации?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В QSP есть возможность использовать различные </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:organizing">
служебные локации</tag>
<tag name="simple-string">
, которые позволяют автоматизировать выполнение определённых задач. В том числе и выполнение одинакового кода при переходе с локации на локацию.
</tag>
</p>
<p>
Допустим, нам нужно, чтобы при переходе на новую локацию в окне дополнительного описания выводилось её название. Чтобы сделать это, мы могли бы на каждой локации написать такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! очищаем окно дополнительного описания
<br/>clr
<br/>! выводим название текущей локации в окно доп.описания
<br/>pl $curloc
</code>
<segment>
<p>
Но мы воспользуемся локацией-обработчиком перехода на новую локацию. Для этого, в первую очередь, необходимо создать саму локацию-обработчик. Создаём локацию, и называем её, например, "при_переходе". Название может быть совершенно любым, выбирайте то, которое вам удобней.
</p>
<p>
<tag name="simple-string">
Далее необходимо указать плееру, какую локацию он должен использовать как локацию-обработчик перехода на новую локацию. Для этого в системную переменную </tag>
<tag name="tt">
$onnewloc</tag>
<tag name="simple-string">
 необходимо поместить название созданной нами локации. Пишем, например на самой первой локации в игре:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$onnewloc="при_переходе"
</code>
<segment>
<p>
Теперь на локации "при_переходе" пишем наш код, и проверяем, как работает.
</p>
<p>
Обратите внимание. Сначала выполняется код локации, на которую был осуществлён переход, а затем только код локации-обработчика перехода.
</p>
<p>
Поэтому если в основной локации происходит вывод на экран значений, например так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "Ваше здоровье <<health>>."
</code>
<segment>
<p>
<tag name="simple-string">
А в локации-обработчике перехода на новую локацию стоит код, увеличивающий значение переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if health<100:
<br/>    health=health+10
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
На экране появится старое значение переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
, хотя по факту оно будет уже новым.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\05_вопросы по onnewloc\02_kak_sdelat__knopku_nazad_0027.txt-light">
<head anchor="faq_05_02" head-level="h2">
<p>
5.2. Как сделать кнопку "Назад", работающую на каждой локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать кнопку "Назад", работающую на каждой локации?
</p>
<p>
О:
</p>
<p>
Чтобы иметь возможность с любой локации вернуться на предыдущую, нужно использовать локацию-обработчик перехода на новую локацию. Допустим, мы создали локацию "при_переходе" и на самой первой локации в игре прописали:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$onnewloc="при_переходе"
</code>
<segment>
<p>
<tag name="simple-string">
Таким образом каждый раз при переходе на любую локацию с помощью </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 плеер будет выполнять и код локации "при_переходе".
</tag>
</p>
<p>
Теперь нам нужно прописать в локации "при_переходе" код, который будет запоминать последнюю локацию.
</p>
<p>
Если мы напишем просто:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$current_loc=$curloc
</code>
<segment>
<p>
<tag name="simple-string">
Эта строчка кода будет просто прописывать название текущей локации в переменную </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
. Например, если у нас есть две локации "комната" и "кухня", то при переходе в "комнату" в </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
 запишется значение "комната", а при переходе из "комнаты" в "кухню" — значение "кухня".
</tag>
</p>
<p>
<tag name="simple-string">
Значит, перед тем, как записать в </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
 название текущей локации, мы должны предварительно сохранить значение из </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
 в другой переменной. Таким образом наш код будет выглядеть вот так:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! сохраняем название локации, с которой ушли:
<br/>$back_loc=$current_loc
<br/>! сохраняем название локации, на которую пришли (текущая)
<br/>$current_loc=$curloc
</code>
<segment>
<p>
<tag name="simple-string">
Теперь, когда мы зайдём в "комнату", в </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
 запишется значение "комната". Если дальше мы перейдём в "кухню", значение "комната" из </tag>
<tag name="tt">
$current_loc</tag>
<tag name="simple-string">
 пропишется в </tag>
<tag name="tt">
$back_loc</tag>
<tag name="simple-string">
, то есть в </tag>
<tag name="tt">
$back_loc</tag>
<tag name="simple-string">
 окажется значение "комната", а в $current_loc запишется название текущей локации, т.е. значение "кухня".
</tag>
</p>
<p>
Осталось только привязать команду перехода, например, к действию. На той же локации "при_переходе" пишем это действие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $back_loc<>"":
<br/>! если переменная $back_loc не пуста
<br/>    ! создаём действие для возврата
<br/>    act "Назад":
<br/>        goto $back_loc
<br/>    end
<br/>end
</code>
<segment>
<p>
Данный код позволяет вернуться только на одну локацию назад. То есть, если мы перешли из "кухни" в "комнату", действие "Назад" вернёт нас из "комнаты" в "кухню", а из "кухни" снова в "комнату".
</p>
<p>
Если мы хотим "запомнить" весь путь, а затем с помощью кнопки "Назад" воспроизвести его в обратном порядке, нужно воспользоваться более сложным кодом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $back_loc[]<>$curloc and back_act=0: 
<br/>! если в последнем элементе массива нет названия текущей локации 
<br/>! а так же если мы совершаем переход не по действию возврата 
<br/>!записываем в последний элемент массива название текущей локации 
<br/>    $back_loc[]=$curloc 
<br/>end 
<br/>! обнуляем переменную back_act, чтобы разрешить запись в массив $back, если мы захотим перейти на новую локацию 
<br/>back_act=0 
<br/>! создаём действие возврата 
<br/>! только если есть куда возвращаться 
<br/>if arrsize('$back_loc')>1: 
<br/>    act "шаг назад": 
<br/>        ! выставляем переменной-маркеру back_act значение 1, 
<br/>        ! чтобы запретить запись в массив $back при возврате на предыдущую локацию 
<br/>        back_act=1 
<br/>        ! непосредственно переход 
<br/>        ! записываем во временную переменную название предыдущей посещённой локации 
<br/>        local $backward = $back_loc[arrsize('$back_loc')-2] 
<br/>        ! удаляем из массива текущую локацию 
<br/>        killvar '$back_loc',arrsize('$back_loc')-1 
<br/>        ! переходим 
<br/>        goto $backward 
<br/>    end 
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\05_вопросы по onnewloc\03_peredacha_argumentov_v_onnewloc_0028.txt-light">
<head anchor="faq_05_03" head-level="h2">
<p>
<tag name="simple-string">
5.3. Почему в </tag>
<tag name="tt">
args[]</tag>
<tag name="simple-string">
 на локации-обработчике перехода на новую локацию уже есть данные?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Почему в </tag>
<tag name="tt">
args[]</tag>
<tag name="simple-string">
 на локации-обработчике перехода на новую локацию уже есть данные?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Таково устройство QSP. Если Вы передаёте аргументы при переходе на локацию с помощью оператора </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
, значения этих аргументов становятся доступны не только на текущей локации, на которую Вы перешли, но и на локации-обработчике перехода на новую локацию.
</tag>
</p>
<p>
Пример такой работы:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# начало
<br/>$onnewloc="onNewLoc"
<br/>act "В комнату":
<br/>    GOTO "комната","Мы не ожидали, что ходить придётся так много."
<br/>end
<br/>--- начало ---------------------------------
<br/>
<br/># комната
<br/>"Мы вошли в комнату."
<br/>--- комната ---------------------------------
<br/>
<br/># onNewLoc
<br/>*pl $args[0]
<br/>--- onNewLoc ---------------------------------
</code>
<segment>
<p>
<tag name="simple-string">
Однако, обратите внимание: хотя на локацию, на которую был совершён переход, и на локацию-обработчик перехода на новую локацию передаются одинаковые данные, на обеих локациях с ними можно работать совершенно произвольно. То есть изменение </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
 на локации "комната" не отразится на значении </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
 в локации "onNewLoc" и туда всё равно будет передано исходное значение аргумента.
</tag>
</p>
<p>
Пример такого поведения:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# начало
<br/>$onnewloc="onNewLoc"
<br/>act "В комнату":
<br/>    GOTO "комната","Мы не ожидали, что ходить придётся так много."
<br/>end
<br/>--- начало ---------------------------------
<br/>
<br/># комната
<br/>"Мы вошли в комнату."
<br/>$args[0]="Мы изменили значение args[0]."
<br/>--- комната ---------------------------------
<br/>
<br/># onNewLoc
<br/>*pl $args[0]
<br/>--- onNewLoc ---------------------------------
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам">
<head anchor="faq_06" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\00.txt-light">
<p>
6. Вопросы по звуковым файлам в QSP</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\01_kak_vstavit__muzyku_ili_zvuk_v_igru_0029.txt-light">
<head anchor="faq_06_01" head-level="h2">
<p>
6.1. Как вставить музыку или звук в игру?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить музыку или звук в игру?
</p>
<p>
О:
</p>
<p>
Всё довольно просто:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Скопируйте музыкальный файл в папку с вашей игрой, или во вложенную папку.</p>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
В том месте в вашей игре, где должна запускаться музыка, воспользуйтесь оператором </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
PLAY "путь к звуковому файлу/звук.mp3"
</code>
</segment>
</list>
<segment>
<p>
Например, ваш файл называется "песня солнца.mp3" и вы скопировали его в папку с игрой. Чтобы музыка запустилась в какой-то локации, нужно в этой локации написать:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "песня солнца.mp3"
</code>
<segment>
<p>
Другой пример. Вы создали в папке с вашей игрой ещё одну папку, и назвали "sound". В неё поместили звуковой файл "бадамс.wav". Вам нужно, чтобы этот файл проигрывался в момент нажатия действия. Делаем так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Взорвать бомбу":
<br/>    PLAY "sound/бадамс.wav"
<br/>    ! какой-то другой код
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Не забывайте указывать расширения файлов (</tag>
<tag name="tt">
.mp3</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
.wav</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
.ogg</tag>
<tag name="simple-string">
 и т.д.).
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\02_kak_zapustit__dve_zvukovye_dorozhki_0030.txt-light">
<head anchor="faq_06_02" head-level="h2">
<p>
6.2. Как запустить две звуковые дорожки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как запустить две звуковые дорожки?
</p>
<p>
О:
</p>
<p>
QSP поддерживает одновременное воспроизведение до 32-х звуковых файлов. Это значит, что для запуска двух звуковых файлов достаточно просто написать по команде на каждый:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "путь к файлу/один музыкальный файл.mp3"
<br/>PLAY "путь к файлу/другой музыкальный файл.mp3"
</code>
<segment>
<p>
<tag name="simple-string">
Однако таким образом вы не сможете запустить две одинаковые звуковые дорожки. Повторный вызов оператора </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 с тем же звуковым файлом, может лишь изменить громкость звучания:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "путь к файлу/музыка.mp3" & ! запустили со 100% громкости
<br/>wait 1000 & ! подождали секунду
<br/>PLAY "путь к файлу/музыка.mp3",50 & ! снизили громкость до 50%
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\03_kak_pri_perehode_na_novuju_lokatsiju_prervat__odnu_melodiju_i_zapustit__druguju_0031.txt-light">
<head anchor="faq_06_03" head-level="h2">
<p>
6.3. Как при переходе на новую локацию прервать одну мелодию и запустить другую?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как при переходе на новую локацию прервать одну мелодию и запустить другую?
</p>
<p>
О:
</p>
<p>
В QSP есть две команды для прерывания проигрывания файлов:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
CLOSE ALL</tag>
<tag name="simple-string">
 — прерывает проигрывание всех звуков и музыки, которые были запущены в игре</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
CLOSE "путь к файлу музыки/звук.mp3"</tag>
<tag name="simple-string">
 - прерывает только выполнение указанного файла</tag>
</p>
</segment>
</list>
<segment>
<p>
Например, на локации "комната" вы воспользовались командой:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "music/relax.mp3"
</code>
<segment>
<p>
Из "комнаты" есть переход на локацию "коридор", и здесь должна запуститься другая мелодия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! закрываем мелодию "комнаты"
<br/>CLOSE "music/relax.mp3"
<br/>! запускаем мелодию коридора
<br/>PLAY "music/triangle.mp3"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\04_kak_perezapustit__zvukovuju_dorozhku_0032.txt-light">
<head anchor="faq_06_04" head-level="h2">
<p>
6.4. Как перезапустить звуковую дорожку?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как перезапустить звуковую дорожку?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Если вы воспользовались командой </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 и запустили музыку, например так:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "sound/relax.mp3"
</code>
<segment>
<p>
<tag name="simple-string">
то, если мелодия уже воспроизводится, повторное использование команды </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 не запустит её заново.
</tag>
</p>
<p>
Чтобы перезапустить мелодию, нужно сначала закрыть её, а затем запустить снова:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
CLOSE "sound/relax.mp3"
<br/>PLAY "sound/relax.mp3"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\05_kak_priglushit__muzyku_0033.txt-light">
<head anchor="faq_06_05" head-level="h2">
<p>
6.5. Как приглушить музыку?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как приглушить музыку?
</p>
<p>
О:
</p>
<p>
QSP позволяет запускать музыку с заданной громкостью. Громкость указывается вторым аргументом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "путь к файлу/музыка.mp3",100
</code>
<segment>
<p>
Вместо числа 100 нужно подставить требуемый уровень (от 0 до 100 — означает проценты). Если число не указано, подразумевается, что мелодию нужно воспроизводить со 100% громкостью.
</p>
<p>
<tag name="simple-string">
Если повторно воспользоваться командой </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 для файла, который уже воспроизводится, то плеер не перезапустит воспроизведение файла, а просто изменит уровень громкости в соответствии с указанным значением:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
PLAY "путь к файлу/музыка.mp3",50
</code>
<segment>
<p>
<tag name="simple-string">
Таким образом, чтобы приглушить мелодию, используйте команду </tag>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 к запущенному файлу с другим значением громкости.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\06_kak_zatsiklit__melodiju_0034.txt-light">
<head anchor="faq_06_06" head-level="h2">
<p>
6.6. Как зациклить мелодию?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как зациклить мелодию?
</p>
<p>
О:
</p>
<p>
Зациклить одну мелодию во всей игре довольно просто.
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Создаём локацию и называем её, например, "счётчик". Это будет наша локация-счётчик.</p>
</segment>
<segment>
<segment>
<p>
В самой первой локации в игре указываем плееру, какую локацию он должен использовать, как локацию-счётчик, прописывая вот такую команду:</p>
</segment>
<code code-left-level="4" code-type="qsp">
$counter="счётчик"
</code>
</segment>
<segment>
<segment>
<p>
На локации "счётчик" пишем код вроде этого:</p>
</segment>
<code code-left-level="4" code-type="qsp">
if ISPLAY("путь к файлу/мелодия.wav")=0:
<br/>! если мелодия не воспроизводится (isplay возвращает 0)
<br/>    ! запускаем мелодию по-новой.
<br/>    PLAY "путь к файлу/мелодия.wav"
<br/>end
</code>
</segment>
</list>
<segment>
<p>
Чтобы зацикливать определённую мелодию в пределах одной локации, а на другой локации зациклить другую мелодию, в локации-счётчике потребуется прописать более сложный код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $curloc="комната":
<br/>! если мы на локации "комната"
<br/>    ! запускаем воспроизведение мелодии, если она закончилась
<br/>    if ISPLAY("путь к файлу/мелодия_комната.wav")=0:
<br/>        PLAY "путь к файлу/мелодия_комната.wav"
<br/>    end
<br/>else
<br/>! если мы не на локации комната,
<br/>    ! закрываем мелодию комнаты
<br/>    CLOSE "путь к файлу/мелодия_комната.wav"
<br/>end
<br/>
<br/>if $curloc="коридор":
<br/>! если мы на локации "коридор"
<br/>    ! запускаем воспроизведение мелодии, если она закончилась
<br/>    if ISPLAY("путь к файлу/музыка_коридор.mp3")=0:
<br/>        PLAY "путь к файлу/музыка_коридор.mp3"
<br/>    end
<br/>else
<br/>! если мы не на локации "коридор",
<br/>    ! закрываем мелодию коридора
<br/>    CLOSE "путь к файлу/музыка_коридор.mp3"
<br/>end
</code>
<segment>
<p>
	и т.д.
</p>
<p>
<tag name="simple-string">
Или воспользуйтесь уже готовым решением в виде гибкого плейлиста: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=79:-10&catid=36:2009-02-19-06-11-21&Itemid=76">
открыть страницу в браузере</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\06_вопросы по звуковым файлам\07_kak_sdelat__plejlist_0035.txt-light">
<head anchor="faq_06_07" head-level="h2">
<p>
6.7. Как сделать плейлист?</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Прежде, чем приступить к прочтению данной статьи, ознакомьтесь со статьёй </tag>
<tag name="hyperlink" href="#faq_06_06">
"Как зациклить мелодию?"</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Если вы поняли, как зациклить одну мелодию, а то и как зациклить мелодию для проигрывания на отдельной локации, то смело переходите к следующим примерам и решениям.
</p>
<p>
Плейлист, как правило, представляет из себя список проигрываемых файлов в том порядке, в котором эти файлы должны проигрываться.
</p>
<p>
Мы рассмотрим случай, когда четыре файла должны проигрываться друг за другом в непрерывном порядке. И тут у нас есть несколько вариантов решения поставленной задачи.
</p>
</segment>
</segment>
<head head-level="h3" anchor="variant-pervyj-fajly-poimenovany-poocheriodno">
<p>
Вариант первый. Файлы поименованы поочерёдно</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
Имена файлов могут представлять собой числа, или включать в себя числа от одного до другого по порядку. В этом случае, нам не нужно сохранять полные имена файлов в памяти, достаточно лишь следить за порядковым номером. Например, у нас есть файлы с такимим именами:
</p>
<p>
<tag name="tt">
music_1.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
music_2.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
music_3.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
music_4.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
Как видите в названиях этих файлов отличается только одно число, и все числа идут по порядку. Поэтому для организации плейлиста мы можем использовать всего две числовые переменные.
</p>
<p>
<tag name="simple-string">
На самой первой локации в игре обозначаем номер первой проигрываемой композиции, общее число файлов, и в системную переменную </tag>
<tag name="tt">
$counter</tag>
<tag name="simple-string">
 прописываем название локации-счётчика.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # start
<br/>if filescount=0:
<br/>    ! если ни в одной из переменных не записано значение
<br/>    filescount=4    & ! общее число проигрываемых файлов 4
<br/>    current_file=1    & ! номер файла, с которого хотим начать, 1. т.е. это будет файл с именем music_1.mp3
<br/>    play 'music_<<current_file>>.mp3'    & ! запускаем проигрывание файла с указанным номером
<br/>    $counter='Counter'    & ! локация-счётчик так и будет называться Counter
<br/>end
</code>
<segment>
<p>
Теперь на локации-счётчике пишем такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # Counter
<br/>if no isplay('music_<<current_file>>.mp3'):
<br/>    ! если текущий файл больше не проигрывается
<br/>    current_file+=1    & ! увеличиваем номер на единицу
<br/>    if current_file>filescount:
<br/>        ! если получившийся номер больше количества файлов
<br/>        current_file=1    & ! возвращаем номер самого первого файла
<br/>    end
<br/>    play 'music_<<current_file>>.mp3'    & ! запускаем проигрывание файла с указанным номером
<br/>end
</code>
<segment>
<p>
Вот и всё. Наш непрерывный плейлист готов.
</p>
<p>
При заранее поименованных файлах вам понадобится небольшое количество переменных и кода. Например, вы можете отдельно поименовать файлы, которые необходимо проигрывать на разных локациях, и тогда станет возможным запускать на разных локациях разные плейлисты, используя только одну дополнительную переменную.
</p>
<p>
Например, наши файлы называются так:
</p>
<p>
<tag name="tt">
комната_1.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
комната_2.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
комната_3.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
коридор_1.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
коридор_2.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
коридор_3.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
коридор_4.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
Тогда код может выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # Counter
<br/>if $curloc='комната' and $loc_theme<>'комната':
<br/>    ! если мы оказались на локации комната, но выставлена не тема комнаты
<br/>    close '<<$loc_theme>>_<<current_file>>.mp3'    & ! закрываем то, что сейчас проигрывается
<br/>    $loc_theme='комната'    & ! вносим в переменную $loc_theme слово комната
<br/>    current_file=1    & ! выставляем номер файла, с которого нужно стартовать
<br/>    filescount=3    & ! для комнаты в плелисте будет только три файла, поэтом указываем число файлов 3
<br/>end
<br/>if $curloc='коридор' and $loc_theme<>'коридор':
<br/>    close '<<$loc_theme>>_<<current_file>>.mp3'
<br/>    $loc_theme='коридор'
<br/>    current_file=1
<br/>    filescount=4
<br/>end
<br/>if no isplay('<<$loc_theme>>_<<current_file>>.mp3'):
<br/>    ! если текущий файл больше не проигрывается
<br/>    current_file+=1    & ! увеличиваем номер на единицу
<br/>    if current_file>filescount:
<br/>        ! если получившийся номер больше количества файлов
<br/>        current_file=1    & ! возвращаем номер самого первого файла
<br/>    end
<br/>    play '<<$loc_theme>>_<<current_file>>.mp3'    & ! запускаем проигрывание файла с указанным номером
<br/>end
</code>
<segment>
<p>
У такого подхода есть один недостаток. Мы не можем использовать произвольные имена файлов для организации плейлиста, а ведь нам может потребоваться такой вариант, если файлы разбросаны по нескольким папкам. В этом случае нам потребуется следующий вариант.
</p>
</segment>
</segment>
<head head-level="h3" anchor="variant-vtoroj-plejlist-s-proizvol_nymi-imenami-fajlov">
<p>
Вариант второй. Плейлист с произвольными именами файлов</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
Данный способ предусматривает использование лишь одной переменной, однако для его реализации потребуется написать гораздо больше кода. Например, у нас есть такие файлы:
</p>
<p>
<tag name="tt">
amb/zoo.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
amb/monkey.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
zoo/buss.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
texlab/drillmusic.mp3</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
На локации-счётчике мы будем проверять, проигрывается ли мелодия, записанная в переменную </tag>
<tag name="tt">
$music</tag>
<tag name="simple-string">
, и если мелодия уже не проигрывается, то запускать следующую.
</tag>
</p>
<p>
<tag name="simple-string">
Поскольку на начало игры у нас не проигрывается ни одна мелодия, в первый раз нам нужно проверять не проигрывается ли последняя из списка, и тогда автоматически у нас запустится первая То есть на самой первой в игре локации мы записываем в переменную </tag>
<tag name="tt">
$music</tag>
<tag name="simple-string">
 самую последнюю мелодию из списка, а так же в переменную </tag>
<tag name="tt">
$counter</tag>
<tag name="simple-string">
 помещаем название локации-счётчика.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # start
<br/>$music='texlab/drillmusic.mp3'    & ! добавили в переменную music самую последнюю проигрываемую мелодию
<br/>$counter='Counter'    & ! в системную переменную прописали название локации-счётчика Counter
</code>
<segment>
<p>
Осталось на локации-счётчике прописать код нашего плейлиста.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # Counter
<br/>if no isplay($music):
<br/>    ! если мелодия, записанная в music не проигрывается
<br/>    ! с помощью сложного условия переключаем мелодию на следующую
<br/>    if $music='amb/zoo.mp':
<br/>        $music='amb/monkey.mp3'
<br/>    elseif $music='amb/monkey.mp3':
<br/>        $music='zoo/buss.mp3'
<br/>    elseif $music='zoo/buss.mp3':
<br/>        $music='texlab/drillmusic.mp3'
<br/>    elseif $music='texlab/drillmusic.mp3':
<br/>        $music='amb/zoo.mp3'
<br/>    end
<br/>    play $music
<br/>end
</code>
<segment>
<p>
По сравнению с первым вариантом кода стало вдвое больше, и соответственно в нём легче запутаться. Однако мы используем всего одну переменную и можем работать с произвольными именами файлов.
</p>
<p>
Разбирать вариант с разными плейлистами для разных локаций не будем. Код получится достаточно громоздким, и нам потребуется ещё одна переменная, чтобы отличать, какой плейлист сейчас проигрывается. Тем не менее такой вариант, если он вам удобен, вполне имеет право на существование.
</p>
</segment>
</segment>
<head head-level="h3" anchor="tretij-variant-plejlist-v-massive">
<p>
Третий вариант. Плейлист в массиве</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
Этот вариант по сути объединяет два предыдущих варианта. Здесь мы можем использовать произвольные имена файлов, как во втором варианте, но производить переключение на следующий трек, просто зная номер проигрываемого трека.
</p>
<p>
Единственным недостатком этого варианта можно посчитать то, что пути ко все проигрываемым файлам заносятся в массив и остаются в нём на протяжении всей игры, что нагружает память. Однако, этот недостаток сложно счесть недостатком, ведь чтобы забить даже 100 мегабайт оперативной памяти таким образом вам понадобятся либо ооочень длинные пути, либо оооочень много этих самых путей.
</p>
<p>
<tag name="simple-string">
Итак, на самой первой локации в игре мы формируем массив с именами файлов для нашего плейлиста, выставляем номер трека, с которого хотим запустить воспроизведение, и не забываем про локацию-счётчик, название которой нам нужно прописать в переменную </tag>
<tag name="tt">
$counter</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # start
<br/>if arrsize('$playlist')=0:
<br/>    ! если массив с путями к проигрываемым файлам ещё не создан
<br/>    $playlist[0]='amb/zoo.mp3'
<br/>    $playlist[1]='amb/monkey.mp3'
<br/>    $playlist[2]='zoo/buss.mp3'
<br/>    $playlist[3]='texlab/drillmusic.mp3'
<br/>    ! ячейки массива нумеруются по порядку, это очень удобно
<br/>    current_file=0    & ! в данную переменную вносим номер ячейки с названием того трека, который хотим запустить, и...
<br/>    ! ...запускаем трек:
<br/>    play $playlist[current_file]
<br/>    ! системной переменной $counter присваиваем название локации-счётчика
<br/>    $counter='Counter'
<br/>end
</code>
<segment>
<p>
Нам осталось на локации-счётчике написать код, похожий на код из первого варианта:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! # Counter
<br/>if no isplay($playlist[current_file]):
<br/>    ! если мелодия больше не проигрывается
<br/>    current_file+=1 & ! увеличиваем номер трека на единицу
<br/>    if current_file=arrsize('$playlist'):
<br/>        ! если полученый номер совпадает с размером массива
<br/>        current_file=0 & ! пора снова воспроизводить трек с номером 0
<br/>    end
<br/>    play $playlist[current_file]    & ! воспроизводим указанный трек
<br/>end
</code>
</segment>
<head head-level="h3" anchor="zakliuchenie">
<p>
Заключение</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Как видите, последний вариант практически лишён недостатков первых двух вариантов. Использование массива в данном случае сильно упрощает как написание, так и чтение кода. Если развить этот вариант и дальше, чтобы добиться работы разных плейлистов на разных локациях, то можно прийти к решению, которое предложил </tag>
<tag name="tt">
Werewolf</tag>
<tag name="simple-string">
 в своём </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=79:-10&catid=36:2009-02-19-06-11-21&Itemid=76">
Гибком плейлисте</tag>
<tag name="simple-string">
. Если решили разрабатывать собственную систему управления музыкой в игре, ознакомьтесь с наработками </tag>
<tag name="tt">
Werewolf</tag>
<tag name="simple-string">
а. Вполне возможно, все ваши задумки уже реализованы в удобной и лаконичной системе.
</tag>
</p>
</segment>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки">
<head anchor="faq_07" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки\00.txt-light">
<p>
7. Вопросы о гиперссылках</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки\01_kak_delat__giperssylki_0036.txt-light">
<head anchor="faq_07_01" head-level="h2">
<p>
7.1. Как делать гиперссылки, по нажатию на которые выполняется код?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:	Как делать гиперссылки, по нажатию на которые выполняется код?
</p>
<p>
	Как делать кликабельный текст?
</p>
<p>
	Как сделать, чтобы по нажатию на текст что-то происходило?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Гиперссылки в QSP делаются точно так же, как и в HTML-документах, то есть с использованием тегов </tag>
<tag name="tt">
<a></tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
</a></tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Например так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "На берёзе созрело несколько <a href=''>яблок</a>."
</code>
<segment>
<p>
<tag name="simple-string">
В атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
, если говорить об html-документе, обычно пишется url — адресс страницы в интернете. Однако в QSP мы можем разместить внутри этого атрибута строку кода. Например такую:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
яблоко=яблоко+1 & addobj "Яблоко"
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы плеер понял, что в атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
 находится не url, а какой-то код, мы должны указать перед этим кодом ключевое слово </tag>
<tag name="tt">
EXEC</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "На берёзе созрело несколько <a href='exec: '>яблок</a>."
</code>
<segment>
<p>
<tag name="simple-string">
Теперь нам нужно вставить после EXEC: нашу строку кода. Однако, мы уже использовали кавычки ("") для указания границ строки, и апострофы ('') для указания границ атрибута </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
. А в нашей строке кода тоже есть кавычки. Как быть?
</tag>
</p>
<p>
Мы можем использовать три различных варианта:
</p>
<p>
Можно экранировать кавычки кода от QSP с помощью дублирования:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "На берёзе созрело несколько <a href='exec:яблоко=яблоко+1 & addobj ""Яблоко""'>яблок</a>."
</code>
<segment>
<p>
Можно заменить кавычки кода на апострофы, и эти апострофы экранировать от HTML спомощью обратного слэша (данный способ не рекомендуется, так как может не работать в Quest Navigator, qSpider и других более новых версиях плеера):
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "На берёзе созрело несколько <a href='exec:яблоко=яблоко+1 & addobj \'Яблоко\''>яблок</a>."
</code>
<segment>
<p>
<tag name="simple-string">
Либо мы можем заменить апострофы атрибута </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
 на кавычки и экранировать эти кавычки от кода QSP:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "На берёзе созрело несколько <a href=""exec:яблоко=яблоко+1 & addobj 'Яблоко'"">яблок</a>."
</code>
<segment>
<p>
Все три способа равнозначны. Используйте тот, что удобнее.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки\02_kak_izmenit__tsvet_giperssylok_0037.txt-light">
<head anchor="faq_07_02" head-level="h2">
<p>
7.2. Как менять цвет гиперссылки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как менять цвет гиперссылки?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В классическом плеере и qSpider цвет всех гиперссылок в игре можно изменить, задав значение системной переменной </tag>
<tag name="tt">
lcolor</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! задаст тёмно-зелёный цвет гиперссылок
<br/>lcolor=rgb(0,120,0)
</code>
<segment>
<p>
<tag name="tt">
rgb</tag>
<tag name="simple-string">
 — функция, которая преобразует три составляющие цвета в формат понятный QSP. Значения составляющих прописываем аргументами функции в порядке: красный, зелёный, синий.
</tag>
</p>
<p>
<tag name="simple-string">
Если Вам нужно изменить цвет отдельной гиперссылки, не трогая цвета остальных, можно воспользоваться тегом </tag>
<tag name="tt">
<font></tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "<a href='...'><font color=#008888>ссылка бирюзового цвета</font></a>"
</code>
<segment>
<p>
<tag name="simple-string">
Цвет указывается в формате шестнадцатеричного кода в атрибуте </tag>
<tag name="tt">
color</tag>
<tag name="simple-string">
. Те же значения составляющих: #RRGGBB (RR — красная составляющая, GG — зелёная, BB — синяя).
</tag>
</p>
<p>
<tag name="simple-string">
Вы можете использовать CSS в </tag>
<tag name="bold">
qSpider</tag>
<tag name="simple-string">
, чтобы назначать гиперссылкам классы и соответственно изменять их отображение, просто меняя класс.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки\03_kak_pomeschat__v_giperssylki_slozhnyj_kod_0038.txt-light">
<head anchor="faq_07_03" head-level="h2">
<p>
7.3. Как помещать в гиперссылки сложный код?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как помещать в гиперссылки сложный код?
</p>
<p>
О:
</p>
<p>
Большой кусок кода в гиперссылке будет трудно читать, к тому же это грозит ошибками. Некоторые плееры, работающие с бразуерным html-рендером, могут криво обрабатывать многострочный код в гиперссылках. Поэтому лучше избегать больших объёмов кода непосредственно в самих гиперссылках. Однако есть два решения, которые позволяют выполнять сколь угодно сложный код при щелчке по ссылке.
</p>
<p>
Например, мы делаем покупку предметов через гиперссылки:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "<a href='exec: '>Купить кружку имбирного эля</a>"
</code>
<segment>
<p>
И нам нужно, чтобы при щелчке по ссылке выполнялся такой вот код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if no деньги<100:
<br/>    addobj 'Кружка имбирного эля' 
<br/>    кружка_эля+=1 
<br/>    деньги-=100
<br/>    *pl "Я приобрёл куржку имбирного эля."
<br/>else
<br/>    *pl "Мне не хватает денег на эль."
<br/>end
</code>
<list list-type="ol-list">
<segment>
<segment>
<p>
<tag name="simple-string">
Чтобы не совать весь код в гиперссылку, мы можем создать отдельную локацию, назвав её, например "купить_эль", разместить код в этой локации, а затем просто вызывать локацию из гиперссылки по </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "<a href='exec:gosub ""купить_эль""'>Купить кружку имбирного эля</a>"
</code>
</segment>
<segment>
<segment>
<p>
Можно не создавать отдельную локацию под кусок кода, а выделить для него отдельную переменную. То есть, поместим наш код в текстовую переменную:</p>
</segment>
<code code-left-level="4" code-type="qsp">
$code={
<br/>    if no деньги<100:
<br/>        addobj 'Кружка имбирного эля' 
<br/>        кружка_эля+=1 
<br/>        деньги-=100
<br/>        *pl "Я приобрёл куржку имбирного эля."
<br/>    else
<br/>        *pl "Мне не хватает денег на эль."
<br/>    end
<br/>}
</code>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Теперь этот код можно будет выполнить в любой момент, используя оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<a href='exec:dynamic $code'>Купить кружку имбирного эля</a>"
</code>
<segment>
<p>
Как видите, первый способ требует написания отдельной локации, а так же мы всё ещё можем неверно закрыть кавычки, прописывая команду для вызова этой локации. Во втором варианте этот риск минимален, однако нам приходится выделять для размещения кода переменную, которую нельзя уничтожать, пока игрок не щёлкнет по гиперссылке.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\07_гиперссылки\04_kak_sdelat__ssylki_bez_podchiorkivanija_0039.txt-light">
<head anchor="faq_07_04" head-level="h2">
<p>
7.4. Как сделать гиперссылки без подчёркивания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать гиперссылки без подчёркивания?
</p>
<p>
О:
</p>
<p>
В классическом плеере подчёркивание отключается присвоением гиперссылке класса "plain":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "На берёзе созрело несколько <a href='exec:яблоко=яблоко+1 & addobj ""Яблоко""' class='plain'>яблок</a>."
</code>
<segment>
<p>
В qSpider вы можете прописать собственные классы для ссылок, в т.ч. и сделать все ссылки без подчёркивания, с помощью подключаемых CSS-файлов.
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда">
<head anchor="faq_08" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда\00.txt-light">
<p>
8. Есть ли команда...</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда\01_ochistit__okno_dopopisanija_0040.txt-light">
<head anchor="faq_08_01" head-level="h2">
<p>
8.1. Какой командой можно очистить окно дополнительного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Какой командой можно очистить окно дополнительного описания?
</p>
<p>
О:
</p>
<p>
Воспользуйтесь оператором CLR:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
CLR
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда\02_poluchit__nazvanie_lokatsii_0041.txt-light">
<head anchor="faq_08_02" head-level="h2">
<p>
8.2. Существует ли команда для того, чтобы получить название текущей локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Существует ли команда для того, чтобы получить название текущей локации?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Функция </tag>
<tag name="tt">
$CURLOC</tag>
<tag name="simple-string">
 позволяет в любой момент получить название текущей локации, то есть локации, на которой в данный момент "находится" игрок. Значение можно записывать в какую-либо переменную по необходимости.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$lockback=$CURLOC
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда\03_vyvesti_tekst_v_okno_dop_opisanija_0042.txt-light">
<head anchor="faq_08_03" head-level="h2">
<p>
8.3. Какой командой можно вывести текст в окно дополнительного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Какой командой можно вывести текст в окно дополнительного описания?
</p>
<p>
О:
</p>
<p>
Для вывода текста в окно дополнительного описания воспользуйтесь одним из трёх операторов:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
p</tag>
<tag name="simple-string">
 — просто выводит текст на экран в окне дополнительного описания</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
pl</tag>
<tag name="simple-string">
 — выводит текст на экран в окне дополнительного описания, а после переводит каретку на новую строку. Т.е. любой другой добавленный в окно дополнительного описания текст обязательно будет выведен с новой строки.</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
nl</tag>
<tag name="simple-string">
 — сначала переводит каретку на новую строку, затем выводит текст в окне дополнительного описания.</tag>
</p>
</segment>
</list>
<segment>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
p "Кусочек текста"
<br/>pl "Строка текста, а затем переход на новую строку"
<br/>nl "Сначала переход на новую строку, а затем строка текста"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\08_есть ли команда\04_komanda_dlja_vyhoda_iz_igry_0043.txt-light">
<head anchor="faq_08_04" head-level="h2">
<p>
8.4. Есть ли команда, которая делает выход из игры?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Есть ли команда, которая делает выход из игры?
</p>
<p>
О:
</p>
<p>
Нет, такой команды нет.
</p>
<p>
Этот вопрос задавался настолько часто, что его отметили в справке:
</p>
</segment>
<quote>
<p>
<tag name="tt">
В:</tag>
<tag name="simple-string">
 Как сделать действие выхода из игры? Т.е. нажал "Выход" и приложение закрылось?</tag>
</p>
<p>
<tag name="tt">
О:</tag>
<tag name="simple-string">
 Для выхода можно нажать крестик в самом верху... А в игре выход можно оформить по-другому. Например, титры сделать, после них пожелания и поздравления. Ну а в конце написать "THE END" без каких-либо действий. Будет очень даже приличный выход.</tag>
</p>
</fquote>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения">
<head anchor="faq_09" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\00.txt-light">
<p>
9. Вопросы о изображениях</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\01_kak_vstavit__kartinku_v_igru_0044.txt-light">
<head anchor="faq_09_01" head-level="h2">
<p>
9.1. Как вставить картинку в игру?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить картинку в игру?
</p>
<p>
О:
</p>
<p>
Прежде всего изображение нужно скопировать в папку с игрой, или во вложенную папку. И далее воспользоваться одним из способов. Всего их 3.
</p>
</segment>
<list list-type="ol-list">
<segment>
<segment>
<p>
<tag name="simple-string">
Изображение можно использовать как фоновый рисунок в окне основного описания. Поверх этого рисунка будет отображаться весь текст и элементы html-разметки, которые мы выводим в это окно. Чтобы вставить изображение фоном в окно основного описания, необходимо прописать путь к этому изображению в переменную </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
.</tag>
</p>
<p>
	Например, файл вашей картинки называется "солнечный_день.jpg" и лежит в папке с игрой, тогда поставить её фоном можно так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$backimage="солнечный_день.jpg"
</code>
<segment>
<p>
	Или же вы создали в папке с игрой ещё одну папку и назвали её "background", а уже в неё поместили файл изображения. Тогда поставить её фоном можно так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$backimage="background/солнечный_день.jpg"
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы заменить фон на другой, нужно в переменной </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
 прописать путь к другой картинке.
</tag>
</p>
<p>
<tag name="simple-string">
	Чтобы совсем убрать фон, нужно переменной </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
 присвоить пустое значение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$backimage=""
</code>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
Изображение можно выводить в отдельном окне, которое называется "окно предпросмотра". Для этого нужно воспользоваться оператором </tag>
<tag name="tt">
view</tag>
<tag name="simple-string">
:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
view "путь к файлу картинки/картинка.jpg"
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы закрыть окно предпросмотра, нужно сообщить оператору </tag>
<tag name="tt">
view</tag>
<tag name="simple-string">
 пустую строку:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
view ""
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы не закрывать окно предпросмотра, но убрать из него изображение, заведите изображение размером в один пиксель, полностью прозрачное; и выводите его с помощью оператора </tag>
<tag name="tt">
view</tag>
<tag name="simple-string">
, когда в окне предпросмотра должно быть пусто.
</tag>
</p>
</segment>
</segment>
<segment>
<segment>
<p>
Третий способ позволяет вставлять изображение в окно основного описания, в окно дополнительного описания, в названия предметов и действий. Этот способ использует возможности html-разметки.</p>
<p>
<tag name="simple-string">
	В первую очередь необходимо включить в плеере распознавание html. Для этого на самой первой локации в игре присваиваем переменной </tag>
<tag name="tt">
usehtml</tag>
<tag name="simple-string">
 значение отличное от нуля:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
	Изображения в html выводятся с помощью тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
. В атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 этого тега прописывается путь к файлу картинки.
</tag>
</p>
<p>
	Например, мы хотим вывести изображение в окне основного описания:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "<img src='путь к файлу картинки/картинка.jpg'>"
</code>
<segment>
<p>
	Или мы хотим вывести изображение в окне дополнительного описания:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
pl "<img src='путь к файлу картинки/картинка.jpg'>"
</code>
<segment>
<p>
	Мы можем вывести изображение в названии действия:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
act "<img src='images/open_door.png'> открыть дверь":
<br/>    goto "комната"
<br/>end
</code>
<segment>
<p>
	Или в названии предмета:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
addobj "<img src='images/screwdriver.gif'> Отвёртка"
</code>
<segment>
<p>
	Поверх выводимых таким образом изображений нельзя накладывать надписи и другие изображения.
</p>
</segment>
</segment>
</list>
<segment>
<p>
Плеер qSpider имеет больше возможностей для работы с элементами оформления, в том числе и с изображениями.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\02_mozhno_li_vstavit__v_igru_gif-fajl_0045.txt-light">
<head anchor="faq_09_02" head-level="h2">
<p>
9.2. Можно ли вставить в игру gif-файл?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно ли вставить в игру gif-файл?
</p>
<p>
О:
</p>
<p>
Да, можно. gif-файл вставляется в игру точно так же, как и любое другое изображение.
</p>
<p>
Для примера покажем вставку gif с помощью html:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
<br/>*pl "<img src='images/clouds.gif'>"
</code>
<segment>
<p>
Если вместо изображения вы видите разбитый серый квадрат, возможно вы неверно указали путь или название файла.
</p>
<p>
Если изображение не отображается в указанном месте даже в виде разбитого квадрата, скорее всего плеер не поддерживает данный формат.
</p>
<p>
<tag name="simple-string">
Если у вас проблемы с воспроизведением gif-анимации, посмотрите список тем в разделе источников: </tag>
<tag name="hyperlink" href="#link_09_02">
перейти к разделу</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\03_kak_vstavit__kartinku_v_dejstvie_0046.txt-light">
<head anchor="faq_09_03" head-level="h2">
<p>
9.3. Как вставить картинку в действие?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить картинку в действие?
</p>
<p>
О:
</p>
<p>
С помощью html-разметки изображения можно вставлять в названия действий, в названия предметов, выводить в окна основного и дополнительного описаний.
</p>
<p>
Чтобы вставить картинку в название действия с помощью html-разметки, нужно включить в плеере распознавание html. Например, в самой первой локации в игре нужно написать такую команду:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
Теперь в названия действий можно вставлять изображения с помощью тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
. В атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 этого тега прописывается путь к файлу картинки:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "<img src='путь к файлу картинки/картинка.jpg'> Выйти на улицу.":
<br/>    goto "улица"
<br/>end
</code>
<segment>
<p>
Используя html, можно вставлять изображение как в начале названия действия, так и в конце:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Выйти на улицу. <img src='путь к файлу картинки/картинка.jpg'>":
<br/>    goto "улица"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Так же QSP умеет выводить изображение перед названием действия без использования html. Для этого путь к файлу картинки указывается вторым аргументом к оператору </tag>
<tag name="tt">
act</tag>
<tag name="simple-string">
 (через запятую после названия действия):
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Выйти на улицу","путь к файлу картинки/картинка.jpg":
<br/>    goto "улица"
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\04_kak_postavit__kartinku_fonom_0047.txt-light">
<head anchor="faq_09_04" head-level="h2">
<p>
9.4. Как поставить картинку фоном?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как поставить картинку фоном?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Чтобы поставить картинку фоном в окно основного описания, необходимо прописать путь к файлу картинки в переменную </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Например, файл вашей картинки называется "солнечный_день.jpg" и лежит в папке с игрой, тогда поставить её фоном можно так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$backimage="солнечный_день.jpg"
</code>
<segment>
<p>
Или же вы создали в паке с игрой ещё одну папку и назвали её "background", а уже в неё поместили файл изображения. Тогда поставить её фоном можно так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$backimage="background/солнечный_день.jpg"
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы заменить фон на другой, нужно в переменной </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
 прописать путь к другой картинке.
</tag>
</p>
<p>
<tag name="simple-string">
Чтобы совсем убрать фон, нужно переменной </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
 присвоить пустое значение:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$backimage=""
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\05_kak_vyvodit__izobrazhenija_poslojno_0048.txt-light">
<head anchor="faq_09_05" head-level="h2">
<p>
9.5. Как выводить изображения послойно? Накладывать друг на друга?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как выводить изображения послойно? Накладывать друг на друга?
</p>
<p>
О:
</p>
<p>
Классический плеер не умеет накладывать изображения и любые другие элементы html друг на друга.
</p>
<p>
Чтобы использовать все возможности html и css в своей игре, в том числе и послойным выводом элементов, воспользуйтесь плеером qSpider. Там послойный вывод элементов работает, как в любом браузере.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\06_kak_sdelat__klikabel_noe_izobrazhenie_0049.txt-light">
<head anchor="faq_09_06" head-level="h2">
<p>
9.6. Как сделать кликабельное изображение?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать кликабельное изображение?
</p>
<p>
В: Как сделать так, чтобы при щелчке по изображению выполнялись какие-то действия?
</p>
<p>
О:
</p>
<p>
Картинка должна выводиться с помощью html. То есть прежде всего необходимо включить распознавание html в игре. Для этого прописываем, например в самой первой локации, такую команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
Далее выводим картинку с помощью html-тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
. Путь к файлу картинки прописываем в атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 этого тега:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<img src='images/picture.png'>"
</code>
<segment>
<p>
Чтобы картинка стала кликабельна, необходимо "обернуть" её в теги гиперссылки:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<a href=''><img src='images/picture.png'></a>"
</code>
<segment>
<p>
<tag name="simple-string">
В атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
 обычно прописывают url — адресс страницы в интернете. Однако в QSP мы можем размещать внутри этого атрибута строки кода. В том числе и строку типа:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
play "sound/opendoor.wav" & goto "улица"
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы плеер понял, что в атрибуте </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
 находится не url, а какой-то код, мы должны указать перед этим кодом ключевое слово </tag>
<tag name="tt">
EXEC:</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<a href='exec:'><img src='images/picture.png'></a>"
</code>
<segment>
<p>
<tag name="simple-string">
После </tag>
<tag name="tt">
EXEC:</tag>
<tag name="simple-string">
 нам нужно вписать нашу строку кода. Однако, мы уже использовали кавычки (</tag>
<tag name="tt">
""</tag>
<tag name="simple-string">
) для указания границ строки, и апострофы (</tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
) для указания границ атрибута </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
. А в нашей строке кода тоже есть кавычки. Как быть?
</tag>
</p>
<p>
Мы можем экранировать кавычки кода от QSP с помощью дублирования:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<a href='exec:play ""sound/opendoor.wav"" & goto ""улица""'><img src='images/picture.png'></a>"
</code>
<segment>
<p>
<tag name="simple-string">
Или, мы можем заключить в кавычки содержимое атрибута </tag>
<tag name="tt">
href</tag>
<tag name="simple-string">
, и экранировать от QSP эти кавычки:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<a href=""exec:play 'sound/opendoor.wav' & goto 'улица'""><img src='images/picture.png'></a>"
</code>
<segment>
<p>
Эти два варианта равнозначны, используйте тот, что удобнее.
</p>
<p>
Теперь картинка будет представлять собой гиперссылку, и, когда мы запустим игру и щёлкнем по картинке, плеер выполнит код, который мы поместили в гиперссылку.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\07_kak_sdelat__smenjaemoe_izobrazhenie_0050.txt-light">
<head anchor="faq_09_07" head-level="h2">
<p>
9.7. Как сделать сменяемое изображение на локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать сменяемое изображение на локации?
</p>
<p>
О:
</p>
<p>
Смена изображения на локации делается весьма просто.
</p>
<p>
В первую очередь необходимо подготовить два изображения и поместить их в папку с игрой, либо во вложенную папку. Например, у нас есть изображения "солнечный_день.jpg" и "пасмурный_вечер.png", мы создали в папке с игрой папку "фон", и поместили эти изображения туда.
</p>
<p>
<tag name="simple-string">
Выводить изображения мы будем с помощью html-тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
, а сменять с помощью действия "Сменить изображение".
</tag>
</p>
<p>
В поле "выполнить при посещении" локации, на которой мы хотим вывести изображения, нужно прописать код с условиями:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if изображение=0:
<br/>! если значение переменной "изображение" равно нулю
<br/>    ! выводим картинку "солнечный_день.jpg"
<br/>    *pl "<img src='фон/солнечный_день.jpg'>"
<br/>elseif изображение=1:
<br/>! иначе если значение переменной "изображение" равно единице
<br/>    ! выводим картинку "пасмурный_вечер.png"
<br/>    *pl "<img src='фон/пасмурный_вечер.png'>"
<br/>end
</code>
<segment>
<p>
Здесь же создаём действие, которое будет "менять" картинку:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Сменить пейзаж":
<br/>    ! на самом деле действие меняет значение переменной
<br/>    if изображение=0:
<br/>        изображение=1
<br/>    elseif изображение=1:
<br/>        изображение=0
<br/>    end
<br/>    ! и заставляет плеер перезайти на текущую локацию
<br/>    goto $curloc
<br/>end
</code>
<segment>
<p>
Работает это следующим образом:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Если переменная "изображение" не была заранее задана, её значение в момент посещения локации будет равно нулю, поэтому сработает первое условие, а значит на экране мы увидим картинку "солнечный_день.jpg".</p>
</segment>
<segment>
<p>
Когда мы нажмём на действие, в действии так же произойдёт проверка условия, и так как значение переменной "изображение" в момент нажатия действия будет равно нулю, этой переменной присвоится значение 1, после чего плеер перезайдёт на текущую локацию.</p>
</segment>
<segment>
<p>
Когда плеер повторно зайдёт на текущую локацию, он очистит окно основного описания, затем начнёт выполнять код из области "выполнить при посещении", и согласно значению переменной "изображение" сработает второе условие, а значит на экран будет выведена картинка "пасмурный_вечер.png".</p>
</segment>
<segment>
<p>
И так далее.</p>
</segment>
</list>
<segment>
<p>
Если вам нужно сделать изображения, которые меняются при щелчке непосредственно по ним, нужно просто завернуть эти изображения в гиперссылки:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if изображение=0:
<br/>! если значение переменной "изображение" равно нулю
<br/>    ! выводим картинку "солнечный_день.jpg"
<br/>    *pl "<a href='exec:изображение=1 & goto $curloc'><img src='фон/солнечный_день.jpg'></a>"
<br/>elseif изображение=1:
<br/>! иначе если значение переменной "изображение" равно единице
<br/>    ! выводим картинку "пасмурный_вечер.png"
<br/>    *pl "<a href='exec:изображение=0 & goto $curloc'><img src='фон/пасмурный_вечер.png'></a>"
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\09_изображения\08_kak_sdelat__vyvod_randomnogo_izobrazhenija_0051.txt-light">
<head anchor="faq_09_08" head-level="h2">
<p>
9.8. Как сделать вывод рандомного изображения?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать вывод рандомного изображения?
</p>
<p>
О:
</p>
<p>
Если у вас есть несколько изображений, имена которых различаются лишь порядковыми номерами, то вывод одного из них случайным образом довольно прост.
</p>
<p>
Например, изображения с названиями от "pic_1.jpg" до "pic_10.jpg" лежат в папке с игрой. Вывести на экран случайное можно так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<img src='pic_<<rand(1,10)>>.jpg'>"
</code>
<segment>
<p>
<tag name="simple-string">
Плеер встретит данную команду, и в первую очередь раскроет подвыражение. В подвыражении стоит функция </tag>
<tag name="tt">
rand(1,10)</tag>
<tag name="simple-string">
, которая вернёт случайное число от 1 до 10. Это число будет подставленно вместо подвыражения, и таким образом в атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 получится полное название файла изображения. Плееру останется только вывести его на экран.
</tag>
</p>
<p>
Если же у вас есть изображения с названиями, которые различаются не только порядковыми номерами, или лежат в разных папках, вывести на экран одно случайное будет ненамного сложнее. Главное предварительно внести все пути изображений в массив:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$pic_mass[0]="фон/солнечный_день.jpg"
<br/>$pic_mass[1]="фон/пасмурный_вечер.png"
<br/>$pic_mass[2]="image/opendoor.jpg"
<br/>$pic_mass[3]="personage/чукча.gif"
<br/>$pic_mass[4]="personage/жена чукчи.gif"
<br/>$pic_mass[5]="arrow.png"
</code>
<segment>
<p>
<tag name="simple-string">
Затем уже выбранный случайный элемент массива подставляется в аттрибут </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "<img src='<<$pic_mass[rand(0,5)]>>'>"
</code>
<segment>
<p>
<tag name="simple-string">
Точно так же. Плеер попытается раскрыть подвыражение, в котором находится выражение </tag>
<tag name="tt">
$pic_mass[rand(0,5)]</tag>
<tag name="simple-string">
 — то есть плееру нужно получить значение некой ячейки массива </tag>
<tag name="tt">
$pic_mass</tag>
<tag name="simple-string">
. Номер ячейки определяет функция </tag>
<tag name="tt">
rand(0,5)</tag>
<tag name="simple-string">
 — то есть случайное число от 0 до 5 (таков номер последней заполненной ячейки массива). Плеер получит значение этой ячейки (а туда записан путь к изображению) и подставит вместо подвыражения. Таким образом в атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 будет полный путь к изображению, плееру останется только вывести изображение на экран.
</tag>
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения">
<head anchor="faq_10" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\00.txt-light">
<p>
10. Интерфейс, дизайн, украшения</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\01_refint_0052.txt-light">
<head anchor="faq_10_01" head-level="h2">
<p>
<tag name="simple-string">
10.1. Для чего нужен оператор </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
, и как он работает?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Для чего нужен оператор </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
, и как он работает?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
О том, для чего нужен оператор </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
, и как он работает, прямо написано в справке:
</tag>
</p>
</segment>
<quote>
<p>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
 — обновление интерфейса (а также смена цветов, шрифта, назначенных с помощью системных переменных </tag>
<tag name="tt">
BCOLOR</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
FCOLOR</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
LCOLOR</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
FSIZE</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
$FNAME</tag>
<tag name="simple-string">
).</tag>
</p>
</fquote>
<segment>
<p>
И ещё:
</p>
</segment>
<quote>
<p>
<tag name="simple-string">
Обновление настроек интерфейса происходит 2 раза в секунду (автоматически, по умолчанию), либо с помощью оператора </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
. Также см. оператор </tag>
<tag name="tt">
SETTIMER</tag>
<tag name="simple-string">
.</tag>
</p>
</fquote>
<segment>
<p>
<tag name="simple-string">
Таким образом, оператор </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
 нужен для принудительного обновления настроек интерфейса.
</tag>
</p>
<p>
Есть ещё комментарий от разработчика:
</p>
</segment>
<quote>
<p>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
 принудительно выводит на экран текст, который находится в буфере вывода</tag>
</p>
</fquote>
<segment>
<p>
<tag name="simple-string">
Это говорит о том, что перед тем, как вывести на экран текст, плеер помещает его в буфер, и только потом (после выполнения кода локации) выводит на экран. </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
 позволяет не только обновить настройки интерфейса, но и вывести часть текста, уже помещённую в буфер, на экран.
</tag>
</p>
<p>
<tag name="simple-string">
Чтобы лучше понять, что делает </tag>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
, напишите игру с таким кодом, и покликайте на действия:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
showstat 0
<br/>showobjs 0
<br/>act "меняем настройки без refint":
<br/>    showstat 1
<br/>    bcolor=rgb(0,88,0)
<br/>    loop local i=0 while i<10000000 step i+=1:
<br/>        ! пустой цикл
<br/>    end
<br/>end
<br/>act "меняем настройки c refint":
<br/>    showobjs 1
<br/>    bcolor=rgb(0,88,88)
<br/>    refint
<br/>    loop local i=0 while i<10000000 step i+=1:
<br/>        ! пустой цикл
<br/>    end
<br/>end
</code>
<segment>
<p>
Не удивляйтесь подвисанию игры при клике по действию — цикл из десяти миллионов итераций выполняется долго.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\02_kak_izmenit__tsvet_fona_v_igre_0053.txt-light">
<head anchor="faq_10_02" head-level="h2">
<p>
10.2. Как изменить цвет фона в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как изменить цвет фона в игре?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Чтобы изменить цвет фона в игре, необходимо изменить значение системной переменной </tag>
<tag name="tt">
bcolor</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
В QSP используется формат записи цвета из трёх составляющих: красная, зелёная, синяя. Любой цвет закодирован обычным числом. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! чёрный цвет фона
<br/>bcolor=-16777216
<br/>! красный цвет фона
<br/>bcolor=-16776961
<br/>! белый цвет фона
<br/>bcolor=-1
</code>
<segment>
<p>
<tag name="simple-string">
Для нас такая запись числа очень непонятна, поэтому в QSP предусмотрена функция, которая позволяет нам задавать цвет более понятным образом. Это функция </tag>
<tag name="tt">
rgb</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
bcolor=rgb(red,green,blue)
</code>
<segment>
<p>
<tag name="simple-string">
Вместо </tag>
<tag name="tt">
red</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
green</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
blue</tag>
<tag name="simple-string">
 необходимо указать значения составляющих для цвета числами от 0 до 255 (</tag>
<tag name="tt">
red</tag>
<tag name="simple-string">
 — красная, </tag>
<tag name="tt">
green</tag>
<tag name="simple-string">
 — зелёная, </tag>
<tag name="tt">
blue</tag>
<tag name="simple-string">
 — синяя). Например:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фон чёрного цвета
<br/>bcolor=rgb(0,0,0)
<br/>! фон белого цвета
<br/>bcolor=rgb(255,255,255)
<br/>! фон красного цвета
<br/>bcolor=rgb(255,0,0)
<br/>! фон зелёного цвета
<br/>bcolor=rgb(0,255,0)
<br/>! фон синего цвета
<br/>bcolor=rgb(0,0,255)
<br/>! фон жёлтого цвета
<br/>bcolor=rgb(255,255,0)
<br/>! фон оранжевого цвета
<br/>bcolor=rgb(255,130,0)
<br/>! фон голубого цвета
<br/>bcolor=rgb(0,255,255)
<br/>! фон малинового цвета
<br/>bcolor=rgb(255,0,255)
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы сбросить цвет фона к значению по-умолчанию, необходимо присвоить переменной </tag>
<tag name="tt">
bcolor</tag>
<tag name="simple-string">
 значение 0:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фон по-умолчанию
<br/>bcolor=0
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\03_kak_izmenit__format_chasti_teksta_0054.txt-light">
<head anchor="faq_10_03" head-level="h2">
<p>
10.3. Как изменить формат части текста? Размер, цвет, наклон и т.д.?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как изменить формат части текста? Размер, цвет, наклон и т.д.?
</p>
<p>
О:
</p>
<p>
Для этого необходимо использовать HTML-форматирование.
</p>
<p>
<tag name="simple-string">
Чтобы включить распознавание HTML в плеере, необходимо системной переменной </tag>
<tag name="tt">
usehtml</tag>
<tag name="simple-string">
 присвоить значение отличное от нуля. Например, в самой первой локации в игре, пишем:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
Далее, когда нужно изменить внешний вид части текста, пользуемся соответствующими HTML-тегами.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводим часть текста курсивом
<br/>*pl "В этой строке несколько слов будут <i>написаны курсивом</i>."
<br/>! выводим часть текста полужирным шрифтом
<br/>*pl "В этой строке несколько слов будут <b>написаны полужирным шрифтом</b>."
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы изменить цвет, размер или непосредственно сам шрифт части текста, нужно использовать теги </tag>
<tag name="tt">
<font></tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
</font></tag>
<tag name="simple-string">
 с соответствующими атрибутами:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводим часть текста красным цветом
<br/>*pl "В этой строке несколько слов будут <font color=#ff0000>написаны красным цветом</font>."
<br/>! выводим часть текста чуть большим шрифтом
<br/>*pl "В этой строке несколько слов <font size=+2>будут крупнее</font>."
<br/>! выводим часть текста другим шрифтом
<br/>*pl "В этой строке несколько слов будут <font face='Times New Roman'>написаны шрифтом Times New Roman</font>."
</code>
<segment>
<p>
Теги и атрибуты можно комбинировать:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводим часть текста курсивом и полужирным
<br/>*pl "В этой строке несколько слов будут <b><i>написаны курсивом и полужирным</i></b>."
<br/>! выводим часть текста красным и большим
<br/>*pl "В этой строке несколько слов будут <font color=#ff0000 size=+2>написаны красным цветом и будут крупнее</font>."
</code>
<segment>
<p>
Обратите внимание: теги нужно закрывать в последовательности обратной открыванию.
</p>
<p>
<tag name="simple-string">
То есть, если сначала шёл открывающий тег </tag>
<tag name="tt">
<b></tag>
<tag name="simple-string">
, а затем тег </tag>
<tag name="tt">
<i></tag>
<tag name="simple-string">
, закрывающие теги должны идти в такой последовательности: сначала тег </tag>
<tag name="tt">
</i></tag>
<tag name="simple-string">
, затем </tag>
<tag name="tt">
</b></tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
В qSpider необходимо использовать теги более соответствующие текущим нормативам HTML. Вместо тегов <b> и <i> лучше использовать теги <strong> и <em>. Вместо тега <font> — тег <span> со стилизацией.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\04_kak_sdelat__krasivyj_fon_v_klassicheskom_pleere_0055.txt-light">
<head anchor="faq_10_04" head-level="h2">
<p>
10.4. Как сделать красивый фон в классическом плеере? Добавляю через $backimage — картинка выглядит несуразно.</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать красивый фон в классическом плеере? Добавляю через $backimage — картинка выглядит несуразно.
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
К сожалению, в классическом плеере нет иной возможности поставить картинку на фон, кроме как задать путь к ней в </tag>
<tag name="tt">
$backimage</tag>
<tag name="simple-string">
. Однако вы можете изменить вид картинки так, чтобы она органично смотрелась в игре при любом разрешении экрана. Для этого выбирайте картинку с неявными границами и разными уровнями прозрачности. Отлично подойдёт формат PNG или GIF. Обратите внимание на такие игры, как "Цветохимия" или анонсированную </tag>
<tag name="tt">
Svartberg</tag>
<tag name="simple-string">
ом "Sanctuary", посмотрите, как фон сделан там.
</tag>
</p>
<p>
В qSpider средствами CSS можно размещать на фоне различные изображения и даже накладывать их друг на друга.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\05_kak_nastroit__okna_0056.txt-light">
<head anchor="faq_10_05" head-level="h2">
<p>
10.5. Хочу, чтоб в игре окна располагались определённым образом. Как это сделать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Хочу, чтоб в игре окна располагались определённым образом. Как это сделать?
</p>
<p>
О:
</p>
<p>
Проделайте следующее:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Запустите игру в плеере и вручную разместите окна и настройте их размеры так, как Вам нужно.</p>
</segment>
<segment>
<p>
Закройте плеер, и откройте папку, в которой он лежит.</p>
</segment>
<segment>
<p>
<tag name="simple-string">
Из папки с плеером скопируйте файл </tag>
<tag name="tt">
qspgui.cfg</tag>
<tag name="simple-string">
 в папку с вашей игрой.</tag>
</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Таким образом Вы настроили окна в вашей игре. Чтобы "зафиксировать" размер и положение окон, необходимо поставить атрибут "только для чтения" на файле </tag>
<tag name="tt">
qspgui.cfg</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="simple-string">
Щёлкните правой кнопкой мыши по файлу </tag>
<tag name="tt">
qspgui.cfg</tag>
<tag name="simple-string">
, выберите пункт меню "Свойста"</tag>
</p>
</segment>
<segment>
<p>
Отметьте галочкой атрибут "только чтение" на вкладке "Общие"</p>
</segment>
<segment>
<p>
Можно нажать "Ок"</p>
</segment>
</list>
<segment>
<p>
Теперь даже если игрок изменит настройки окон в процессе игры, при следующем запуске будут восстановлены настройки, заданные Вами.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\06_kak_zadavat__razmer_okon_iz_koda_igry_0057.txt-light">
<head anchor="faq_10_06" head-level="h2">
<p>
10.6. Можно ли задавать размер окон из кода игры? Чтобы в одной локации были одни настройки, в другой — другие.</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно ли задавать размер окон из кода игры? Чтобы в одной локации были одни настройки, в другой — другие.
</p>
<p>
О:
</p>
<p>
Нет. В классическом плеере этого сделать нельзя.
</p>
<p>
<tag name="simple-string">
Однако вы можете отказаться от всех окон, кроме окна основного описания, и манипулировать блоками уже непосредственно из кода игры. В классическом плеере это можно делать, верстая страницы с помощью таблиц (</tag>
<tag name="tt">
<table>...</table></tag>
<tag name="simple-string">
), а в qSpider — используя все возможности html.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\07_fiksatsija_okna_predprosmotra_0058.txt-light">
<head anchor="faq_10_07" head-level="h2">
<p>
10.7. Настроил расположение окна предпросмотра, но когда выключаю его, другие окна смещаются, как это исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Настроил расположение окна предпросмотра, но когда выключаю его, другие окна смещаются, как это исправить?
</p>
<p>
О:
</p>
<p>
К сожалению, это не исправляется. Можно использовать костыль. Создать изображение размером в один пиксель — прозрачное — и, когда необходимо убрать изображение из окна предпросмотра, выводить это невидимое изображение.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! space.png — прозрачная картинка размером в один пиксель
<br/>VIEW "space.png"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\08_tsvet_podsvetki_dejstvij_0059.txt-light">
<head anchor="faq_10_08" head-level="h2">
<p>
10.8. Как изменить цвет подсветки действий?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как изменить цвет подсветки действий?
</p>
<p>
О:
</p>
<p>
В классическом плеере сделать этого нельзя.
</p>
<p>
Вы можете изменить цвет подсветки действий по своему желанию в qSpider.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\09_tsvet_fona_otdel_nogo_okna_0060.txt-light">
<head anchor="faq_10_09" head-level="h2">
<p>
10.9. Как изменить цвет фона для отдельного окна?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как изменить цвет фона для отдельного окна?
</p>
<p>
	Например, я хочу изменить цвет фона окна действий, окна дополнительного описания, а цвет фона других окон оставить нетронутым.
</p>
<p>
О:
</p>
<p>
В классическом плеере сделать этого нельзя.
</p>
<p>
Вы можете более гибко настраивать дизайн интерфейса в qSpider.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\10_plavnoe_pojavlenie_0061.txt-light">
<head anchor="faq_10_10" head-level="h2">
<p>
10.10. Как сделать плавное появление текста?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:	Как сделать плавное появление текста?
</p>
<p>
	Как сделать плавное изменение цвета фона?
</p>
<p>
	Как сделать плавное изменение цвета текста?
</p>
<p>
О:
</p>
<p>
Чтобы создать у игрока видимость плавного проявления текста, необходимо изначально задать одинаковый цвет и тексту и фону, а затем постепенно изменять значения цвета в сторону нужного.
</p>
<p>
Ниже, в качестве примера, приведён код проявления чёрного текста на белом фоне для локации-счётчика:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! заданные изначально (например при переходе на локацию) составляющие
<br/>! font['red']=255 & font['green']=255 & font['blue']=255 & ! составляющие цвета шрифта
<br/>! bg['red']=255 & bg['green']=255 & bg['blue']=255 & ! составляющие цвета фона
<br/>! fcolor=rgb(font['red'],font['green'],font['blue'])
<br/>! bcolor=rgb(bg['red'],bg['green'],bg['blue'])
<br/>! Текст будет проявляться примерно за 600 мс, нужно выставить settimer
<br/>! settimer 20
<br/>! чтобы код не выполнялся даже когда текст полностью проявится, переменной count['font']
<br/>! будет присвоена единица. Чтобы запустить выполнение кода, нужно присвоить этой переменной ноль
<br/>! count['font']=0
<br/>
<br/>! непосредственно код
<br/>
<br/>if count['font']=0:
<br/>! если коду разрешено выполняться
<br/>    ! при каждом обращении к локации-счётчику вычитаем из значения составляющих цвета шрифта по 8
<br/>    font['red']-=8
<br/>    font['green']-=8
<br/>    font['blue']-=8
<br/>    ! если значения достигли нуля, то они не могут опуститься ниже
<br/>    if font['red']<1: font['red']=0
<br/>    if font['green']<1: font['green']=0
<br/>    if font['blue']<1: font['blue']=0
<br/>    ! так же если значения достигли нуля, значит больше коду незачем выполняться
<br/>    if font['red']<1 and font['green']<1 and font['blue']<1: count['font']=1
<br/>    ! каждое обращение к локации-счётчику необходимо менять цвет шрифта
<br/>    fcolor=rgb(font['red'],font['green'],font['blue'])
<br/>    ! обновляем настройки интерфейса
<br/>    refint
<br/>! не забываем закрывать многострочные условия
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Чтобы изменять скорость проявляения текста, можно менять период обращения к локации-счётчику через </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
, или заменить восьмёрку в моменте вычитания числа из составляющих на более подходящее число.
</tag>
</p>
<p>
Задачи по плавному изменению цвета фона, или текста решаются аналогичным образом.
</p>
<p>
<tag name="simple-string">
Использовать подобный код непосредственно на любой другой локации или в действии, в сочетании с </tag>
<tag name="tt">
wait</tag>
<tag name="simple-string">
, не рекомендуется, поскольку это намертво подвешивает игру. Многих игроков подобные "повисания" раздражают.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\11_sobstvennyj_shrift_v_igre_0062.txt-light">
<head anchor="faq_10_11" head-level="h2">
<p>
10.11. Как использовать в игре собственный шрифт?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как использовать в игре собственный шрифт?
</p>
<p>
О:
</p>
<p>
Классический плеер не позволяет подключать собственные шрифты к игре. Однако вы можете положить собственный шрифт в папку с игрой и попросить игрока его установить.
</p>
<p>
qSpider позволяет подключать к игре собственные файлы шрифтов с помощью CSS.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\10_интерфейс дизайн украшения\12_snjat__vydelenie_s_dejstvij_0063.txt-light">
<head anchor="faq_10_12" head-level="h2">
<p>
10.12. С предметов можно снимать выделение, а можно ли снять выделение с действия?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: С предметов можно снимать выделение, а можно ли снять выделение с действия?
</p>
<p>
О:
</p>
<p>
В отличие от предметов действия выделяются не кликом, а наведением указателя мыши. Специальной команды для снятия выделения с действия нет. Однако можно использовать костыль:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фиксируем текущие действия в переменную
<br/>local $actlist=$curacts
<br/>! очищаем список действий
<br/>cla
<br/>! восстанавливаем список действий
<br/>dynamic $actlist
</code>
<segment>
<p>
Если указатель мыши будет наведён на окно действий, само собой одно из действий вновь будет выделено.
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия">
<head anchor="faq_11" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\00.txt-light">
<p>
11. Вопросы об условиях</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\01_uslovie_bez_operatsij_sravnenija_0064.txt-light">
<head anchor="faq_11_01" head-level="h2">
<p>
11.1. При проверке условия записано просто число, без операции сравнения, но QSP не выдаёт ошибку. Почему?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: При проверке условия записано просто число, без операции сравнения, но QSP не выдаёт ошибку. Почему?
</p>
<p>
Пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if ygrek:
<br/>    ! код
<br/>end
</code>
<segment>
<p>
О:
</p>
<p>
Дело в том, что как такового в QSP нет булевого типа данных. То есть операции сравнения возвращают не значения 'true' и 'false', а значения 1 (заменяет 'true') и 0 (заменяет 'false'). Это легко проверить:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
(3>5) & ! вернёт 0
<br/>(3<5) & ! вернёт 1
</code>
<segment>
<p>
Таким образом оператор if проверяет не булевое, а числовое значение. И для этого оператора есть два варианта:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Если ему передаётся значение 0, значит условие не выполнено.</p>
</segment>
<segment>
<p>
Если ему передаётся не 0, значит условие выполнено.</p>
</segment>
</list>
<segment>
<p>
Именно поэтому когда Вы передаёте оператору if просто числовое значение, он работает с ним правильно, как должен.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ygrek=6
<br/>if ygrek:
<br/>    "Условие верно"
<br/>end
<br/>if no ygrek:
<br/>    "Условие всё равно верно"
<br/>end
<br/>
<br/>ygrek=(3>5)
<br/>if ygrek:
<br/>    "Условие верно"
<br/>else
<br/>    "Условие неверно"
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\02_dejstvie_po_usloviju_0065.txt-light">
<head anchor="faq_11_02" head-level="h2">
<p>
11.2. Как сделать так, чтобы действие появлялось только при определённом условии?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать так, чтобы действие появлялось только при определённом условии?
</p>
<p>
О:
</p>
<p>
Всё достаточно просто. Необходимо завести отдельную переменную, которая будет определять возможность выполнения действия. Самый простой пример — отслеживаем подъём предмета через переменную-маркер:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем условие
<br/>if ключ_взял=0:
<br/>! если ключ не взят — переменная маркер равна нулю
<br/>    ! можно вывести какой-то сопроводительный текст
<br/>    *pl "На столе лежит ключ"
<br/>    ! добавляем действие
<br/>    act "Взять ключ":
<br/>    ! код действия
<br/>        ! добавить предмет ключ
<br/>        addobj "Ключ"
<br/>        ! переменной маркер присваиваем значение 1
<br/>        ключ_взял=1
<br/>        ! перезаходим на локацию
<br/>        goto $curloc
<br/>    ! закрыли действие
<br/>    end
<br/>!закрыли условие
<br/>end
</code>
<segment>
<p>
Более сложный пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if кувшин_полон=0:
<br/>! если кувшин пуст
<br/>    act "Наполнить кувшин из фонтана":
<br/>        кувшин_полон=1
<br/>        ! другой код
<br/>        goto $curloc
<br/>    end
<br/>else
<br/>! иначе кувшин полон
<br/>    act "Вылить воду из кувшина":
<br/>        кувшин_полон=0
<br/>        ! другой код
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
<segment>
<p>
Сложный пример с последовательностью действий:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if хомяк=0: 
<br/>! если хомяка в руках нет
<br/>    ! сопроводительный текст
<br/>    *pl "На земле сидит хомяк"
<br/>
<br/>    act 'Поднять хомяка': 
<br/>    ! начало действия поднять хомяка 
<br/>        ! выставляем маркер, чтобы знать, что хомяк в руках 
<br/>        хомяк=1 
<br/>        ! возвращаемся на текущую локацию 
<br/>        goto $curloc 
<br/>    ! конец действия поднять хомяка 
<br/>    end 
<br/>elseif хомяк=1: 
<br/>! в противном случае, если хомяк в руках 
<br/>    ! выводим сопроводительный текст в основное описание 
<br/>    *pl 'Вы взяли хомяка на руки, но он стал отчаянно вырываться.' 
<br/>    act 'Отпустить хомяка': 
<br/>    ! начало действия отпустить хомяка 
<br/>        ! выставляем маркер, чтобы знать, что хомяк отпущен 
<br/>        хомяк=2 
<br/>        ! возвращаемся на текущую локацию 
<br/>        goto $curloc 
<br/>    ! конец действия отпустить хомяка 
<br/>    end 
<br/>elseif хомяк=2: 
<br/>! в противном случае, если хомяк убежал
<br/>    ! выводим сопроводительный текст в основное описание 
<br/>    *pl 'Вы отпустили хомяка, и он тут же исчез в кустах.'  
<br/>    act 'Догнать хомяка': 
<br/>    ! начало действия догнать хомяка 
<br/>        ! выставляем маркер, чтобы знать, что хомяк полетел
<br/>        хомяк=3 
<br/>        ! возвращаемся на текущую локацию 
<br/>        goto $curloc 
<br/>    ! конец действия поднять хомяка 
<br/>    end
<br/>elseif хомяк=3:
<br/>! в противном случае, если хомяк улетел
<br/>    ! выводим сопроводительный текст в основное описание 
<br/>    *pl 'Вы догнали хомяка и отвесили ему пендель. Хомяк расправил крылья и полетел.' 
<br/>! конец многострочной конструкции условия 
<br/>end
</code>
<segment>
<p>
Иногда можно обойтись без переменной-маркера. Например, в случае, если вам нужно проверить наличие предмета в инвентаре:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if (obj "Пустой кувшин"):
<br/>    act "Наполнить кувшин":
<br/>        delobj "Пустой кувшин"
<br/>        addobj "Полный кувшин"
<br/>        goto $curloc
<br/>    end
<br/>elseif (obj "Полный кувшин"):
<br/>    act "Опустошить кувшин":
<br/>        addobj "Пустой кувшин"
<br/>        delobj "Полный кувшин"
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\03_dezaktiviruemye_dejstvija_0066.txt-light">
<head anchor="faq_11_03" head-level="h2">
<p>
11.3. Видел в одной из игр, как после нажатия на действие, оно становится неактивным. Как это сделать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Видел в одной из игр, как после нажатия на действие, оно становится неактивным. Как это сделать?
</p>
<p>
О:
</p>
<p>
На самом деле это всего лишь частный случай реализации действия по условию.
</p>
<p>
Для того, чтобы название неактивного действия меняло свой цвет используются html-теги. Поэтому в первую очередь необходимо включить поддержку html. Для этого, например, на самой первой локации в игре пишем:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
Далее в нужном месте вставляем приблизительно такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if действие_не_активно=0:
<br/>! если значение переменной-маркера равно нулю (по-умолчанию)
<br/>    ! Выводим "активный" вариант действия
<br/>    act "Выключить музыку":
<br/>        ! действие выключает звуки
<br/>        close all
<br/>        ! меняем значение переменной-маркера
<br/>        действие_не_активно=1
<br/>        ! перезаходим на локацию, чтобы увидеть эффект
<br/>        goto $curloc
<br/>    ! закрываем "активный" вариант действия
<br/>    end
<br/>else
<br/>! если значение переменной-маркера не равно нулю
<br/>    ! выводим "неактивный" вариант действия
<br/>    act "<font color=#888888>Выключить музыку</font>":
<br/>        ! никакой код в действие помещать не нужно
<br/>    ! закрываем "неактивный" вариант действия
<br/>    end
<br/>! закрываем конструкцию условия
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\04_tekst_po_usloviju_0067.txt-light">
<head anchor="faq_11_04" head-level="h2">
<p>
11.4. Как добавить текст, который будет выводиться только при выполнении определённого условия?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как добавить текст, который будет выводиться только при выполнении определённого условия?
</p>
<p>
О:
</p>
<p>
Всё просто. Вместо того, чтобы писать текст в поле "Базовое описание", нужно ввести конструкцию условия в поле "Выполнить при посещении" в Quest Generator. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводим текст, не зависящий от условия
<br/>*p "Ты посмотрел в зеркало и увидел, что одет в "
<br/>! далее следует конструкция условия
<br/>if кольчуга_надета=0:
<br/>! если кольчуга не надета
<br/>    ! выводим соответствующий текст
<br/>    *pl "рваную грязную рубаху."
<br/>elseif кольчуга_надета=1:
<br/>! иначе если кольчуга надета
<br/>    ! выводим другой текст
<br/>    *pl "новенькую блестящую кольчугу."
<br/>end
</code>
<segment>
<p>
Переменная "кольчуга_надета" в данном случае служит переменной-маркером.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\05_uproschenie_uslovija_ili_0068.txt-light">
<head anchor="faq_11_05" head-level="h2">
<p>
11.5. Как сделать, чтобы в диалоговом окне текст набирался в зависимости от условий?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы в диалоговом окне текст набирался в зависимости от условий? Чтобы при срабатывании одного или обоих условий текст в любом случае выводился?
</p>
<p>
О:
</p>
<p>
Если условий не много, можно воспользоваться таким способом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$message=""
<br/>if яблоко>0: $messaga+='яблоки, ' 
<br/>if груша>0: $messaga+='груши, ' 
<br/>if яблоко>0 or груша>0:
<br/>    msg "У меня есть: "+$messaga+"— и всё."
<br/>else
<br/>    msg "У меня ничего нет."
<br/>end
</code>
<segment>
<p>
Если условий много, то при срабатывании хотя бы одного условия необходимо выставлять какую-нибудь переменную-маркер. Таким образом, не зависимо от того, сколько условий сработает, если сработает хотя бы одно, текст будет набран:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$message=""
<br/>if яблоко>0: $messaga+='яблоки, ' & markvar=1
<br/>if груша>0: $messaga+='груши, ' & markvar=1
<br/>if слива>0: $messaga+='сливы, ' & markvar=1
<br/>if дыня>0: $messaga+='дыни, ' & markvar=1
<br/>if апельсин>0: $messaga+='апельсины, ' & markvar=1
<br/>if банан>0: $messaga+='бананы, ' & markvar=1
<br/>if арбуз>0: $messaga+='арбузы, ' & markvar=1
<br/>if масло>0: $messaga+='масло, ' & markvar=1
<br/>if киви>0: $messaga+='киви, ' & markvar=1
<br/>if песок>0: $messaga+='песок, ' & markvar=1
<br/>
<br/>if markvar=1:
<br/>    msg "У меня есть: "+$messaga+"— и всё."
<br/>else
<br/>    msg "У меня ничего нет."
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\06_uproschenie_uslovija_i_0069.txt-light">
<head anchor="faq_11_06" head-level="h2">
<p>
11.6. Как упростить условие?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как упростить условие?
</p>
<p>
Например, мне нужно открыть доступ к четвёртой локации после посещения трёх других, не важно, в каком порядке они посещены. Условие получается громоздким:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if посетил_лес=1 and посетил_пустыню=1 and посетил_ледник=1:
<br/>    act "Выйти в море":
<br/>        !...
</code>
<segment>
<p>
О:
</p>
<p>
На самом деле это самый простой способ, несмотря на то, что условие выглядит громоздко. Этот способ использует минимальное количество переменных, чтобы маркировать посещённые локации. Однако, если нам нужно маркировать действительно большое количество локаций, условие становится слишком большим. В основном это влияет на чтение кода, но мы можем столкнуться и с ограничением на число операций в QSP.
</p>
<p>
Это подводит нас к использованию ещё одной переменной, чтобы подсчитывать число посещённых локаций. Переменные-маркеры остаются, но они используются лишь чтобы отметить первое посещение локации:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# лес
<br/>
<br/>if посетил_лес=0:
<br/>    посетил_лес=1
<br/>    счётчик_посещений+=1
<br/>end
<br/>
<br/>--- лес ---
<br/>
<br/># пустыня
<br/>
<br/>if посетил_пустыню=0:
<br/>    посетил_пустыню=1
<br/>    счётчик_посещений+=1
<br/>end
<br/>
<br/>--- пустыня ---
<br/>
<br/># ледник
<br/>
<br/>if посетил_ледник=0:
<br/>    посетил_ледник=1
<br/>    счётчик_посещений+=1
<br/>end
<br/>
<br/>--- ледник ---
</code>
<segment>
<p>
Теперь на локации, где нам нужно проверять условие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if счётчик_посещения=3:
<br/>    act "Выйти в море":
<br/>        ! ... код
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\11_условия\07_xor_0070.txt-light">
<head anchor="faq_11_07" head-level="h2">
<p>
11.7. Как упростить взаимоисключающие условия?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как упростить взаимоисключающие условия?
</p>
<p>
<tag name="simple-string">
	Подскажите аналог опреации </tag>
<tag name="tt">
XOR</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
О:
</p>
<p>
Взаимоисключающие условия — это условия, выполнение одного из которых исключает выполнение всех остальных.
</p>
<p>
Например, значение переменной может быть либо равно нулю, либо не равно нулю. На основе этих взаимоисключающих состояний можно написать взаимоисключающие условия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if varname=0:
<br/>    "Переменная равна нулю"
<br/>else
<br/>    "Переменная не равна нулю"
<br/>end
</code>
<segment>
<p>
Иногда у нас возникает задача посложнее. Есть две переменные, и условие должно выполняться лишь в том случае, если одна переменная равна нулю, а вторая не равна. Тут кажется всё просто:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if (varname1=0 and varname2<>0) or (varname1<>0 and varname2=0):
<br/>    "Условие выполняется"
<br/>end
</code>
<segment>
<p>
Но несмотря на то, что всё вроде бы просто, мы уже усложнили условие до трёх операций. Если у нас будет три переменные, и лишь одна из них должна быть равна нулю, а две другие не равны, для выполнения условия, число логических операций возрастает до девяти. И т.д. Как упростить условие так, чтобы не пришлось городить такую кучу логических операций?
</p>
<p>
На самом деле всё не так уж сложно. Нам необходимо использовать переменную-маркер для фиксации числа выполненных условий. И если значение данной переменной будет отлично от единицы, наше взаимоисключающее условие так же можно считать не выполненным.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
marker=0
<br/>if varname1=0: marker+=1
<br/>if varname2=0: marker+=1
<br/>if varname3=0: marker+=1
<br/>if varname4=0: marker+=1
<br/>if varname5=0: marker+=1
<br/>if varname6=0: marker+=1
<br/>if varname7=0: marker+=1
<br/>if marker<>1:
<br/>    "Условие не выполнено. Больше одной переменной не равно нулю, либо все они равны нулю"
<br/>else
<br/>    "Условие выполнено. Лишь одна из всех этих переменных равна нулю"
<br/>end
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic">
<head anchor="faq_12" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic\00.txt-light">
<p>
12. Вопросы о DYNAMIC</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic\01_zachem_nuzhen_dynamic_0071.txt-light">
<head anchor="faq_12_01" head-level="h2">
<p>
<tag name="simple-string">
12.1. Зачем нужен оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Зачем нужен оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 предназначен для выполнения кода, записанного в виде текста.
</tag>
</p>
<p>
Например, у нас есть код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if яблоко=1:
<br/>    *pl "У меня одно яблоко."
<br/>elseif яблоко>1:
<br/>    *pl "У меня есть несколько яблок."
<br/>else
<br/>    *pl "У меня нет яблок."
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Мы можем записать этот код в текстовом виде и передать оператору </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 в качестве аргумента. Оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 выполнит код, записанный в виде текста, как обычный код:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic 'if яблоко=1:
<br/>        *pl "У меня одно яблоко."
<br/>    elseif яблоко>1:
<br/>        *pl "У меня есть несколько яблок."
<br/>    else
<br/>        *pl "У меня нет яблок."
<br/>    end'
</code>
<segment>
<p>
Это удобно, если нам нужно поместить кусочек кода в переменную, а затем вызывать в нужных местах:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$code='if яблоко=1:
<br/>        *pl "У меня одно яблоко."
<br/>    elseif яблоко>1:
<br/>        *pl "У меня есть несколько яблок."
<br/>    else
<br/>        *pl "У меня нет яблок."
<br/>    end'
<br/>
<br/>dynamic $code
</code>
<segment>
<p>
Например, этот способ подходит, когда нужно поместить большой объём кода в гиперссылку:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*pl "Кажется в моём рюкзаке были <a href='exec:dynamic $code'>яблоки</a>."
</code>
<segment>
<p>
<tag name="simple-string">
Так же, поскольку </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 выполняет код, записанный в виде текста, можно генерировать код на лету:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! получаем набор значений (может быть сформирован задолго до прихода на локацию с dynamic)
<br/>яблоко=10
<br/>груша=5
<br/>if $var_word="":
<br/>    $var_word='яблоко'
<br/>    $text_word='яблок'
<br/>end
<br/>
<br/>! действия, переключающие значения:
<br/>act "Сколько у меня яблок":
<br/>    $var_word='яблоко'
<br/>    $text_word='яблок'
<br/>    goto $curloc
<br/>end
<br/>act "Сколько у меня груш":
<br/>    $var_word='груша'
<br/>    $text_word='груш'
<br/>    goto $curloc
<br/>end
<br/>! генерируем код, основываясь на значении заданных переменных
<br/>$code='if <<$var_word>>=1:
<br/>        *pl "У меня одно <<$var_word>>."
<br/>    elseif (<<$var_word>>)>1:
<br/>        *pl "У меня есть несколько <<$text_word>>."
<br/>    else
<br/>        *pl "У меня нет <<$text_word>>."
<br/>    end'
<br/>! выполняем сгенерированный код
<br/>dynamic code
</code>
<segment>
<p>
<tag name="simple-string">
Работает это так. После того как в переменные забиты изначальные значения, будет выполнен код, выводящий действия, и команда, которая присвоит переменной </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
 некое текстовое значение. В текстовом значении присутствуют вложенные выражения (двойные угловые скобки). Плеер раскроет вложенные выражения, т.е. вместо них подставит значения тех выражений, которые вписаны в двойные угловые скобки. Это либо значение переменной </tag>
<tag name="tt">
$var_word</tag>
<tag name="simple-string">
 либо переменной </tag>
<tag name="tt">
$text_word</tag>
<tag name="simple-string">
. Таким образом при первом посещении в переменную </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
 будет вписан текст:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$code='if яблоко=1:
<br/>        *pl "У меня одно яблоко."
<br/>    elseif яблоко>1:
<br/>        *pl "У меня есть несколько яблок."
<br/>    else
<br/>        *pl "У меня нет яблок."
<br/>    end'
</code>
<segment>
<p>
<tag name="simple-string">
Далее </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 просто выполнит получившийся код, записанный в переменную </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Когда мы нажмём на действие "Сколько у меня груш", в переменные </tag>
<tag name="tt">
$var_word</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$text_word</tag>
<tag name="simple-string">
 впишутся соответственно значения "груша" и "груш", затем плеер перезайдёт на текущую локацию (команда </tag>
<tag name="tt">
goto $curloc</tag>
<tag name="simple-string">
), снова выведет на экран оба действия, и выполнит команду, которая присваивает переменной </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
 значение. Плееру вновь потребуется раскрыть вложенные выражения, и он снова подставит значения переменных </tag>
<tag name="tt">
$var_word</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$text_word</tag>
<tag name="simple-string">
 вместо соответствующих подвыражений, таким образом переменной </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
 снова присвоится готовый текст:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$code='if груша=1:
<br/>        *pl "У меня одно груша."
<br/>    elseif груша>1:
<br/>        *pl "У меня есть несколько груш."
<br/>    else
<br/>        *pl "У меня нет груш."
<br/>    end'
</code>
<segment>
<p>
<tag name="simple-string">
Далее </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 просто выполнит получившийся код, записанный в переменную </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic\02_sluchajnoe_nazvanie_peremennoj_0072.txt-light">
<head anchor="faq_12_02" head-level="h2">
<p>
12.2. Можно ли сделать переменную с рандомным (случайным) названием?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно ли сделать переменную с рандомным (случайным) названием?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Да конечно, можно. Используйте для этого оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Например, можно забить в массив уже готовые названия, или части названия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$name_var[0]="blue"
<br/>$name_var[1]="violet"
<br/>$name_var[2]="red"
<br/>$name_var[3]="orange"
<br/>$name_var[4]="yello"
<br/>$name_var[5]="green"
<br/>
<br/>dynamic "<<$name_var[rand(0,5)]>>_<<$name_var[rand(0,5)]>>=999"
</code>
<segment>
<p>
Или набрать название из случайных символов:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$letter[0]="A"
<br/>$letter[1]="B"
<br/>$letter[2]="C"
<br/>$letter[3]="D"
<br/>$letter[4]="E"
<br/>$letter[5]="F"
<br/>
<br/>loop local i=0 while i<4 step i+=1:
<br/>    $name_var+=$letter[rand(0,5)]
<br/>end
<br/>
<br/>dynamic "<<$name_var>>=984
<br/>*pl 'Имя переменной: <<$name_var>>'
<br/>*pl 'Значение: '+<<$name_var>>"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic\03_kak_sozdavat__dejstvija_cherez_tsikl_0073.txt-light">
<head anchor="faq_12_03" head-level="h2">
<p>
12.3. Создаю действия с помощью цикла, но они работают неправильно. Что делать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Создаю действия с помощью цикла, но они работают неправильно. Что делать?
</p>
<p>
О:
</p>
<p>
Это классическая "грабля", с которой сталкиваются все новички из-за неполного понимания порядка работы кода.
</p>
<p>
Допустим мы создаём действие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
i=1
<br/>
<br/>act "Действие номер "+i:
<br/>    *pl "Это действие номер "+i
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Что мы при этом увидим на экране? Перед созданием действия переменной </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
 присвоено значение 1. Значит название действия будет склеено из текста "Действие номер " и значения переменной </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
, то есть будет выглядеть так: "Действие номер 1".
</tag>
</p>
<p>
Однако код, который мы назначили действию, будет выполнен только в момент нажатия действия.
</p>
<p>
<tag name="simple-string">
То есть, если мы нажмём на действие, когда переменная </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
 равна 1, мы увидим на экране текст: "Это действие номер 1". Но если переменную </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
 изменить уже после создания действия, то когда мы нажмём на действие, мы увидим другой текст. Например:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
i=1
<br/>
<br/>act "Действие номер "+i:
<br/>    *pl "Это действие номер "+i
<br/>end
<br/>
<br/>i=2
</code>
<segment>
<p>
В этом случае мы увидим на экране действие с названием "Действие номер 1", а текст, который оно выведет на экран при нажатии, будет такой: "Это действие номер 2".
</p>
<p>
Теперь давайте посмотрим, что происходит при создании действий с помощью цикла:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i=1 while i<6 step i+=1:
<br/>    act "Действие номер "+i:
<br/>        *pl "Это действие номер "+i
<br/>    end
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
В конце цикла значение переменной </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
 будет равно 6, тогда как цикл создаст нам пять действий с названиями:
</tag>
</p>
</segment>
<quote>
<p>
Действие номер 1</p>
<p>
Действие номер 2</p>
<p>
Действие номер 3</p>
<p>
Действие номер 4</p>
<p>
Действие номер 5</p>
</fquote>
<segment>
<p>
<tag name="simple-string">
При этом, какое бы действие мы не нажимали, поскольку значение переменной </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
 будет равно 6, мы всегда при нажатии на действие будем видеть на экране строку текста: "Это действие номер 6".
</tag>
</p>
<p>
<tag name="simple-string">
Однако, мы можем формировать действия с конкретными значениями с помощью оператора </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i=1 while i<6 step i+=1:
<br/>    dynamic 'act "Действие номер "+<<i>>:
<br/>            *pl "Это действие номер "+<<i>>
<br/>        end'
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Теперь на каждом проходе цикла, когда плеер будет встречать оператор </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
, этому оператору будет передаваться строка текста:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
'act "Действие номер "+<<i>>:
<br/>    *pl "Это действие номер "+<<i>>
<br/>end'
</code>
<segment>
<p>
<tag name="simple-string">
Перед выполнением оператора </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 плеер будет раскрывать подвыражения, подставляя вместо них значение </tag>
<tag name="tt">
i</tag>
<tag name="simple-string">
, соответствующее проходу. На первом проходе оператору </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 будет передан такой текст:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic 'act "Действие номер "+1:
<br/>    *pl "Это действие номер "+1
<br/>end'
</code>
<segment>
<p>
На втором проходе такой:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic 'act "Действие номер "+2:
<br/>    *pl "Это действие номер "+2
<br/>end'
</code>
<segment>
<p>
И так далее.
</p>
<p>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 выполняет код записанный в виде текста, и поскольку мы передаём ему команды для создания действий, будут созданы пять действий с конкретными числами в коде действий.
</tag>
</p>
<p>
Для лучшего понимания попробуйте запустить такой код, и объясните его работу:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i=1 while i<6 step i+=1:
<br/>    dynamic 'act "Действие номер "+<<i>>:
<br/>            *pl "Это действие номер "+<<i>>
<br/>            *pl "Значение переменной i: "+i
<br/>        end'
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\12_dynamic\04_pochemu_ne_rabotaet_0074.txt-light">
<head anchor="faq_12_04" head-level="h2">
<p>
<tag name="simple-string">
12.4. Почему не работает </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В:	Почему не работает </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
<tag name="simple-string">
	Пишу код в переменной, а потом </tag>
<tag name="tt">
dynamic "$var_name"</tag>
<tag name="simple-string">
, но вместо того, чтобы выполнить код, плеер выводит этот код на экран. Почему?
</tag>
</p>
<p>
О:
</p>
<p>
Для примера поместим некий код в переменную:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$var_name="var_count=25"
</code>
<segment>
<p>
<tag name="simple-string">
Теперь попробуем использовать </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
, как в предложенном вопросе:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic "$var_name"
</code>
<segment>
<p>
Что при этом произойдёт?
</p>
<p>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 должен выполнить код, переданный ему в виде строки текста.
</tag>
</p>
<p>
Какую строку текста мы ему передаём?
</p>
</segment>
<code code-left-level="0" code-type="qsp">
"$var_name"
</code>
<segment>
<p>
Какой код содержится в этой строке?
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$var_name
</code>
<segment>
<p>
Что делает этот код?
</p>
<p>
<tag name="simple-string">
Выводит на экран содержимое переменной </tag>
<tag name="tt">
$var_name</tag>
<tag name="simple-string">
. А какое у этой переменной содержимое?
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
"var_count=25"
</code>
<segment>
<p>
Эту строку мы и увидим на экране.
</p>
<p>
<tag name="simple-string">
Чтобы </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 выполнил код, записанный в переменную, нужно передать ему непосредственно значение переменной:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic $var_name
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает">
<head anchor="faq_13" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\00.txt-light">
<p>
13. Не работает...</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\01_ne_rabotaet_height_0075.txt-light">
<head anchor="faq_13_01" head-level="h2">
<p>
<tag name="simple-string">
13.1. Рисую таблицу и хочу зафиксировать высоту, но атрибут </tag>
<tag name="tt">
height</tag>
<tag name="simple-string">
 не работает.</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Рисую таблицу и хочу зафиксировать высоту, но атрибут </tag>
<tag name="tt">
height</tag>
<tag name="simple-string">
 не работает.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Да, атрибут </tag>
<tag name="tt">
height</tag>
<tag name="simple-string">
 для таблиц не работает в QSP. Он в принципе не работает для таблиц в HTML начиная с четвёртой редакции. Однако большинство браузеров его всё равно распознают и обрабатывают. Особенно, если указывать абсолютное значение.
</tag>
</p>
<p>
В классическом плеере можно использовать костыль. Вставить в одну из ячеек прозрачное изображение в 1 пиксель, растянув до нужной высоты.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p '<table>'
<br/>    *p '<tr>'
<br/>        *p '<td><img src="костыль.png" width=1 height=350></td>'
<br/>        *p '<td>Содержимое таблицы</td>'
<br/>    *p '</tr>'
<br/>*p '</table>'
</code>
<segment>
<p>
<tag name="simple-string">
Вообще, прежде чем использовать какой-либо атрибут, ознакомьтесь со справкой </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:html">
https://wiki.qsp.org/help:html</tag>
<tag name="simple-string">
, где перечислены все теги и атрибуты, которые поддерживаются в классической версии плеера.
</tag>
</p>
<p>
Полная поддержка HTML присутствует в qSpider.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\02_ne_rabotaet_teg_0076.txt-light">
<head anchor="faq_13_02" head-level="h2">
<p>
13.2. Пытаюсь использовать разные HTML-теги в игре, но они не работают — просто не выводятся. Почему?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Пытаюсь использовать разные HTML-теги в игре, но они не работают — просто не выводятся. Почему?
</p>
<p>
О:
</p>
<p>
Если вы используете классическую версию плеера, и поддержка HTML включена, то скорее всего дело в том, что вы пытаетесь использовать HTML-тег, который не поддерживается плеером.
</p>
<p>
В классическом плеере — собственный HTML-рендерер, который лишь отчасти соответствует браузерному. Даже не все синтаксические правила HTML работают. Например, запись "<1>" в браузерах не считается тегом и выводится как есть, тогда как рендерер классического плеера посчитает подобную запись тегом.
</p>
<p>
Если рендерер классического плеера встречает "правильный" тег, то есть тот, который входит в его список поддерживаемых тегов, он форматирует элемент или страницу, или добавляет к странице элемент, согласно значению найденного тега. Если же рендерер классического плеера встречает "неправильный" тег, то есть тот, который не входит в его список поодерживаемых тегов, он просто игнорирует этот тег. На экране тег мы попросту не увидим.
</p>
<p>
<tag name="simple-string">
Поэтому, прежде чем использовать какой-либо тег, ознакомьтесь со справкой </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:html_classic">
https://wiki.qsp.org/help:html_classic</tag>
<tag name="simple-string">
, где перечислены все теги и атрибуты, которые поддерживаются в классической версии плеера.
</tag>
</p>
<p>
Полная поддержка HTML присутствует в qSpider.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\03_ne_rabotaet_iif_0077.txt-light">
<head anchor="faq_13_03" head-level="h2">
<p>
<tag name="simple-string">
13.3. Не работает </tag>
<tag name="tt">
IIF</tag>
<tag name="simple-string">
!</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Не работает </tag>
<tag name="tt">
IIF</tag>
<tag name="simple-string">
!
</tag>
</p>
<p>
Пишу такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IIF(prprpr>0, GOSUB '1', prprpr=1)
</code>
<segment>
<p>
Но плеер не выполняет команду GOSUB.
</p>
<p>
О:
</p>
<p>
<tag name="tt">
IIF</tag>
<tag name="simple-string">
 — это не оператор, это функция. Её преднаначение: ВОЗВРАЩАТЬ то или иное ЗНАЧЕНИЕ в зависимости от результата проверки условия.
</tag>
</p>
<p>
Внимательно читайте справку, прежде чем использовать какую-либо функцию или оператор:
</p>
</segment>
<quote>
<p>
IIF([#выражение],[выражение_да],[выражение_нет]) - ВОЗВРАЩАЕТ ЗНАЧЕНИЕ выражения [выражение_да], если [#выражение] верно, иначе значение выражения [выражение_нет].</p>
</fquote>
<segment>
<p>
Функция позволяет существенно сократить запись некоторых условий.
</p>
<p>
<tag name="simple-string">
Например, у нас есть число </tag>
<tag name="tt">
number</tag>
<tag name="simple-string">
 и нам нужно получить модуль этого числа </tag>
<tag name="tt">
abs_number</tag>
<tag name="simple-string">
. Если бы мы делали это с помощью оператора условий, то запись выглядела бы так:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if number<0: abs_number=-number else abs_number=number
</code>
<segment>
<p>
При использовании функции IIF, запись сокращается:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
abs_number=IIF(number<0,-number,number)
</code>
<segment>
<p>
Вообще, функция удобна там, где нам нужно получить один из двух вариантов значения.
</p>
<p>
Например, мы делаем в игре отображение времени, и нам нужно, чтобы на экран выводилось время в формате 00:00. Т.е. например, четверть третьего ночи должны выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="None">
02:15
</code>
<segment>
<p>
А пять минут двенадцатого днём так:
</p>
</segment>
<code code-left-level="0" code-type="None">
11:05
</code>
<segment>
<p>
<tag name="simple-string">
При этом число минут мы считаем в переменной </tag>
<tag name="tt">
minutes</tag>
<tag name="simple-string">
, а число часов — в переменной </tag>
<tag name="tt">
hours</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$IIF(hours<10,"0<<hours>>","<<hours>>")+":"+$IIF(minutes<10,"0<<minutes>>","<<minutes>>")
</code>
<segment>
<p>
Попробуйте записать это с помощью операторов условий.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\04_ne_rabotajut_tegi_map_i_area_0078.txt-light">
<head anchor="faq_13_04" head-level="h2">
<p>
<tag name="simple-string">
13.4. Пытаюсь сделать кликабельную картинку с помощью тегов </tag>
<tag name="tt">
MAP</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
AREA</tag>
<tag name="simple-string">
, но ничего не получается</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Пытаюсь сделать кликабельную картинку с помощью тегов </tag>
<tag name="tt">
MAP</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
AREA</tag>
<tag name="simple-string">
, но ничего не получается.
</tag>
</p>
<p>
Не выводится картинка, не работает область клика, область клика смещена.
</p>
<p>
О:
</p>
<p>
Чтобы ответить на этот вопрос, пойдём по порядку.
</p>
<p>
Во-первых, в вашей игре должна быть включена поддержка HTML, иначе вместо картинки вы увидите много HTML-тегов. Поддержку HTML включаем, прописывая в нужном месте (например, на самой первой локации в игре) следующую команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
Во-вторых, все HTML-теги являются частью выводимого на экран текста, поэтому, чтобы выводить их на экран, нужно использовать те же самые операторы, что и для вывода всего остального текста. Таким образом и теги </tag>
<tag name="tt">
<MAP></tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
<AREA></tag>
<tag name="simple-string">
 и тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
 нужно выводить с помощью операторов </tag>
<tag name="tt">
*p</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
p</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
В-третьих, если вам удобнее записывать каждый тег отдельной строкой, нужно помнить, что QSP не игнорирует переводы строк между тегами, и это может привести к созданию артефактов. Все теги должны выводиться одной строкой, поэтому для записи команд, выводящих теги, используйте именно операторы </tag>
<tag name="tt">
*p</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
p</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Руководствуясь этими тремя правилами, создайте отдельный файл игры, и протестируйте в нём работу вашей картинки-карты.
</p>
<p>
Вот пример картинки, в центре которой будет создана кликабельная область.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! включаем поддержку HTML
<br/>usehtml=1
<br/>! задаём разметку карты
<br/>*p '<MAP name="KRUG">'
<br/>    *p '<AREA shape="circle" coords="200,200,175" href="exec:x=x+1 & pl x">'
<br/>*p '</MAP>'
<br/>! выводим изображение карты
<br/>*p '<img src="путь к файлу изображения/изображение.png" usemap="#KRUG">'
</code>
<segment>
<p>
Обратите внимание, при наведении на кликабельную область в классическом плеере курсор не будет менять свой внешний вид.
</p>
<p>
<tag name="simple-string">
Более подробно о том, как работать с тегами </tag>
<tag name="tt">
MAP</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
AREA</tag>
<tag name="simple-string">
 вы можете прочитать в разделе </tag>
<tag name="hyperlink" href="#faq_16_10">
16.10. Как работать с тегами MAP и AREA?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\05_ne_rabotaet_zviozdochka-pl_v_dejstvii_0079.txt-light">
<head anchor="faq_13_05" head-level="h2">
<p>
<tag name="simple-string">
13.5. Не работает </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
 в действии с </tag>
<tag name="tt">
goto</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Не работает </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
 в действии с </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Ожидаю, что при нажатии на действие на экране появится текст, а действие исчезнет, но этого не происходит. Вот код в поле "выполнить при посещении" локации:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if hide_act=0:
<br/>    act 'Далее':
<br/>        hide_act=1
<br/>        *pl 'Действие скрылось.'
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
<segment>
<p>
О:
</p>
<p>
Необходимо чётко представлять, как работает плеер в этом случае.
</p>
<p>
<tag name="simple-string">
Сначала проверяется условие </tag>
<tag name="tt">
hide_act=0</tag>
<tag name="simple-string">
. Если условие верно, плеер выводит на экран действие "Далее". Этому действию соответствует набор команд:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
hide_act=1
<br/>*pl 'Действие скрылось.'
<br/>goto $curloc
</code>
<segment>
<p>
При нажатии на действие, команды выполняются по порядку:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
hide_act=1                    & ! переменной hide_act присваивается значение 1
<br/>*pl 'Действие скрылось.'    & ! на экран выводится строка текста
<br/>goto $curloc                & ! плеер перезаходит на текущую локацию
</code>
<segment>
<p>
<tag name="simple-string">
Итак, казалось бы всё правильно. Строка текста должна появиться на экране, а затем происходит повторный вход на текущую локацию. Однако при выполнении команды </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 плеер очищает окно основного описания и окно действий. Именно поэтому действие при перезаходе на локацию "пропадёт". И именно поэтому мы не успеем увидеть, как надпись "Действие скрылось." будет выведена на экран.
</tag>
</p>
<p>
Эту проблему можно решить следующим образом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if hide_act=0:
<br/>    act 'Далее':
<br/>        hide_act=1
<br/>        *pl 'Действие скрылось.'
<br/>        wait 1500
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
<segment>
<p>
Так между выведением надписи на экран и переходом на текущую локацию будет задержка полторы секунды. Это не лучший способ, поскольку любая задержка, когда ничего нельзя сделать в игре, довольно сильно раздражает игрока. Намного правильнее выводить надпись, как и действие, по условию:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if hide_act=1:
<br/>    *pl 'Действие скрылось.'
<br/>end
<br/>if hide_act=0:
<br/>    act 'Далее':
<br/>        hide_act=1
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\08_ne_rabotaet_jump_0082.txt-light">
<head anchor="faq_13_08" head-level="h2">
<p>
<tag name="simple-string">
13.8. Не работает оператор </tag>
<tag name="tt">
JUMP</tag>
<tag name="simple-string">
 — не может найти метку</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Не работает оператор </tag>
<tag name="tt">
JUMP</tag>
<tag name="simple-string">
 — не может найти метку.
</tag>
</p>
<p>
У меня есть действие
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Прыгнуть":
<br/>    jump 'loop'
<br/>end
</code>
<segment>
<p>
и метка "loop", расположенная в той же локации, что и действие, но плеер пишет, что указанная метка не найдена.
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Дело в том, что оператор </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 может "прыгать" только по меткам, которые находятся в его области видимости. В данном случае область видимости оператора </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 будет ограничена кодом действия, а значит "прыгнуть" он сможет только на метку, расположенную внутри действия.
</tag>
</p>
<p>
Данный вариант работать не будет:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
:loop
<br/>
<br/>!... какой-то код...
<br/>
<br/>act "Прыгнуть":
<br/>    jump 'loop'
<br/>end
</code>
<segment>
<p>
А вот этот сработает:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Прыгнуть":
<br/>    :loop
<br/>
<br/>    !... какой-то код...
<br/>
<br/>    jump 'loop'
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Сработает и этот вариант, поскольку код действия является частью кода локации, а значит входит в область видимости оператора </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 (но действие при этом на экране не появится):
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
jump 'loop'
<br/>act "Прыгнуть":
<br/>    :loop
<br/>    !... какой-то код...
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Аналогичным образом нельзя "выпрыгнуть" из кода гиперссылки и из кода, переданного оператору </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 или фyнкции </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\09_ne_rabotaet_uslovie_(mnogostrochnoe)_0083.txt-light">
<head anchor="faq_13_09" head-level="h2">
<p>
13.9. Не работает многострочное условие. Как исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Не работает многострочный код. Как исправить?
</p>
<p>
Пишу такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if mark_var=1: 'Первый текст.'
<br/>    'Второй текст.'
<br/>    'Третий текст.'
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Но даже если </tag>
<tag name="tt">
mark_var</tag>
<tag name="simple-string">
 равно нулю, второй и третий текст всё равно выводятся.
</tag>
</p>
<p>
О:
</p>
<p>
Необходимо различать однострочную и многострочную формы записи конструкции условия.
</p>
<p>
Вот так выглядит однострочная форма:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IF [#выражение]: [команды 1]
</code>
<segment>
<p>
<tag name="simple-string">
Как видите, за ключевым словом </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
 следует выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
, и если это выражение верно, тогда выполняется набор команд </tag>
<tag name="tt">
[команды 1]</tag>
<tag name="simple-string">
, который записан после двоеточия в той же строке, что и </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
. При этом команды перечисляются через амперсанд (</tag>
<tag name="tt">
&</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
Код из примера в однострочной форме должен будет выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if mark_var=1: 'Первый текст.' & 'Второй текст.' & 'Третий текст.'
</code>
<segment>
<p>
<tag name="simple-string">
Однострочную форму записи не требуется закрывать ключевым словом </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
, так как окончанием этой формы считается конец строки с </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
А вот так выглядит многострочная форма записи конструкции условия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IF [#выражение]:
<br/>    [команды 1]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
Здесь после двоеточия в той же строке, где находится и ключевое слово </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
, ничего не пишется. Именно так плеер понимает, что имеет дело с многострочной формой записи. И в этом случае, если выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 верно, плеер ищет соответствующие верному условию команды (</tag>
<tag name="tt">
[команды 1]</tag>
<tag name="simple-string">
) в следующей строке после двоеточия.
</tag>
</p>
<p>
<tag name="simple-string">
Многострочная форма записи всегда закрывается ключевым словом </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
. Только так плеер может понять, что последующие команды уже не относятся к конструкции условия.
</tag>
</p>
<p>
Код из примера в многострочной форме записи должен выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if mark_var=1:
<br/>    'Первый текст.'
<br/>    'Второй текст.'
<br/>    'Третий текст.'
<br/>end
</code>
<segment>
<p>
Или так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if mark_var=1:
<br/>    'Первый текст.' & 'Второй текст.' & 'Третий текст.'
<br/>end
</code>
<segment>
<p>
Оба варианта являются многострочной формой записи конструкции условия.
</p>
<p>
<tag name="simple-string">
Теперь нетрудно догадаться, почему даже когда </tag>
<tag name="tt">
mark_var</tag>
<tag name="simple-string">
 равно нулю в исходном примере второй и ттретий тексты всё равно выводились.
</tag>
</p>
<p>
Плеер встречает конструкцию:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if mark_var=1: 'Первый текст.'
</code>
<segment>
<p>
<tag name="simple-string">
и, поскольку за двоеточием в той же строке, где находится </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
, идёт команда </tag>
<tag name="tt">
'Первый текст.'</tag>
<tag name="simple-string">
, плеер понимает, что это однострочная форма записи, а значит окончанием конструкции условия можно считать конец строки. Таким образом команды, расположенные в нижеследующих строках, для плеера попросту не относятся к конструкции условия, и он выполняет их в любом случае. </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
 при этом игнорируется.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\10_ne_rabotaet_mnogostrochnyj_kod_0084.txt-light">
<head anchor="faq_13_10" head-level="h2">
<p>
13.10. Не работает многострочный код. Как исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Не работает многострочный код. Как исправить?
</p>
<p>
Пишу такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if яблоки_созрели=1:
<br/>    "На берёзе созрело несколько яблок."
<br/>    act "Сорвать яблоко":
<br/>        яблоко=яблоко+1
<br/>        "Я сорвал яблоко и положил в консервную банку."
<br/>    else яблоко>3:
<br/>        "Мне больше не нужны яблоки"
<br/>    end
<br/>end
</code>
<segment>
<p>
Плеер выдаёт ошибку.
</p>
<p>
О:
</p>
<p>
Перепутаны назначения ключевых слов, очевидно от того, что вы не понимаете порядка работы оператора условия и оператора, создающего действие.
</p>
<p>
Многострочная форма записи конструкции условия имеет три вида.
</p>
<p>
Первый вид, это "простое" условие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IF [#выражение]:
<br/>    [команда 1]
<br/>    [команда 2]
<br/>    [команда 3]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
За ключевым словом </tag>
<tag name="tt">
IF</tag>
<tag name="simple-string">
 следует выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
, и если это выражение верно, плеер выполняет команды в последующих строках после двоеточия до ключевого слова </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
. Если выражение не верно, эти команды просто игнорируются плеером.
</tag>
</p>
<p>
Второй вид, это "сложное" условие. Эта запись позволяет нам задать наборы команд на случай, если выражение верно, и на случай, если выражение неверно:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IF [#выражение]:
<br/>    [команда 1]
<br/>    [команда 2]
<br/>    [команда 3]
<br/>ELSE
<br/>    [команда 4]
<br/>    [команда 5]
<br/>    [команда 6]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
В этом случае, если выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 верно, выполняются команды, записанные в последующих строках после двоеточия и до ключевого слова </tag>
<tag name="tt">
ELSE</tag>
<tag name="simple-string">
. Т.е. команды </tag>
<tag name="tt">
[команда 1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 2]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[команда 3]</tag>
<tag name="simple-string">
. А если выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 не верно, выполняются команды, записанные в последующих строках после ключевого слова </tag>
<tag name="tt">
ELSE</tag>
<tag name="simple-string">
 и до ключевого слова </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
. Т.е. команды </tag>
<tag name="tt">
[команда 4]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 5]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[команда 6]</tag>
<tag name="simple-string">
. При этом после </tag>
<tag name="tt">
ELSE</tag>
<tag name="simple-string">
 не ставится двоеточие, и указать дополнительное условие проверки нельзя.
</tag>
</p>
<p>
Чтобы указать дополнительное условие, предусмотрен третий вид, это "расширенное" условие, и выглядит он так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
IF [#выражение 1]:
<br/>    [команда 1]
<br/>    [команда 2]
<br/>    [команда 3]
<br/>ELSEIF [#выражение 2]:
<br/>    [команда 4]
<br/>    [команда 5]
<br/>    [команда 6]
<br/>ELSE
<br/>    [команда 7]
<br/>    [команда 8]
<br/>    [команда 9]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
Теперь мы можем в одну конструкцию уместить несколько условий и для каждого написать свой набор команд. Если верно выражение </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
, плеер выполнит команды в последующих строках после двоеточия и до первого </tag>
<tag name="tt">
ELSEIF</tag>
<tag name="simple-string">
, т.е. команды </tag>
<tag name="tt">
[команда 1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 2]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[команда 3]</tag>
<tag name="simple-string">
. Все остальные команды в конструкции условия будет проигнорированы.
</tag>
</p>
<p>
<tag name="simple-string">
Однако, если выражение </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 неверно, тогда проверяется выражение </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
, и если оно верно, то выполняются команды в последующих строках до </tag>
<tag name="tt">
ELSE</tag>
<tag name="simple-string">
, т.е. комнады </tag>
<tag name="tt">
[команда 4]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 5]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[команда 6]</tag>
<tag name="simple-string">
. И так далее.
</tag>
</p>
<p>
<tag name="simple-string">
Как видно, когда мы пишем ключевое слово </tag>
<tag name="tt">
ELSEIF</tag>
<tag name="simple-string">
, к нему нужно указать и выражение, истинность которого следует проверить, и после выражения поставить двоеточие.
</tag>
</p>
<p>
Так выглядят три вида многострочной формы записи конструкции условий, но для многострочной записи действия предусмотрен только один вид.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ACT "Название действия":
<br/>    [команда 1]
<br/>    [команда 2]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
В многострочной форме записи действия нельзя использовать ключевое слово </tag>
<tag name="tt">
ELSE</tag>
<tag name="simple-string">
, или </tag>
<tag name="tt">
ELSEIF</tag>
<tag name="simple-string">
. Они относятся только к конструкциям условий.
</tag>
</p>
<p>
Тем не менее можно комбинировать различные конструкции, чтобы добиться правильной работы данного кода:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем общее условие
<br/>if яблоки_созрели=1:
<br/>! если значение переменной яблоки_созрели равно 1
<br/>    ! выводим на экран текст
<br/>    "На берёзе созрело несколько яблок."
<br/>    ! выводим на экран соответствующее действие
<br/>    act "Сорвать яблоко":
<br/>    ! далее следует код действия
<br/>        ! открываем внутри действия условие,
<br/>        ! проверяющее, сколько мы сорвали яблок
<br/>        if яблоко>3:
<br/>        ! если мы сорвали больше трёх яблок
<br/>            ! выводим текст, что нам больше не нужны яблоки
<br/>            "Мне больше не нужны яблоки"
<br/>        else
<br/>        ! иначе, если мы сорвали три или меньше яблок
<br/>            ! увеличиваем число сорванных яблок
<br/>            яблоко=яблоко+1
<br/>            ! выводим текст, что сорвали ещё яблоко
<br/>            "Я сорвал яблоко и положил в консервную банку."
<br/>        ! закрываем условие внутри действия
<br/>        end
<br/>    ! закрываем действие
<br/>    end
<br/>! закрываем общее условие
<br/>end
</code>
<segment>
<p>
От себя могу порекомендовать комментировать каждую строчку кода, если вы только начали изучать язык QSP. Это поможет более чётко и ясно понимать, как и что работает. Если вы не можете объяснить назначение той или иной строчки кода, то с ней следует разобраться. Она может быть банально лишней, а может вам ещё недостаёт знаний, чтобы правильно её применить.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\11_ne_rabotaet_end_0085.txt-light">
<head anchor="faq_13_11" head-level="h2">
<p>
13.11. Сколько END'ов нужно добавить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Сколько </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
ов нужно добавить?
</tag>
</p>
<p>
Пишу такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if силы>0:
<br/>    if энергия>9:
<br/>        act "Носить воду с колодца":
<br/>        ведро=ведро+2
<br/>        энергия=энергия-10
<br/>        "Я принёс воды с колодца."
<br/>    elseif энергия>3:
<br/>        act "Уныло лежать и ждать, когда восстановятся силы":
<br/>        энергия=энергия+1
<br/>        "Я немного полежал. Голова уже не кружится"
<br/>end
<br/>END
<br/>end
<br/>end
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Плеер говорит, что в многострочной форме оператора остуствует </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
. Но сколько бы </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
ов я ни добавлял, ошибка не пропадает.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Если понимаешь, зачем нужны </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
ы, то становится проще. </tag>
<tag name="tt">
END</tag>
<tag name="simple-string">
ом закрывается многострочная форма оператора.
</tag>
</p>
<p>
Так выглядит многострочная форма действия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! ОТКРЫВАЕМ ДЕЙСТВИЕ
<br/>act 'действие': 
<br/>    ! команда 1
<br/>    ! команда 2
<br/>    ! ...
<br/>    ! команда N
<br/>! ЗАКРЫВАЕМ ДЕЙСТВИЕ
<br/>end
</code>
<segment>
<p>
Так может выглядеть многострочная форма условия:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! ОТКРЫВАЕМ УСЛОВИЕ
<br/>if условие=1:
<br/>! если условие 1 сработало
<br/>    ! команда 1
<br/>    ! команда 2
<br/>    ! ...
<br/>elseif условие=2: 
<br/>! если условия 1 не сработало, но сработало условие 2
<br/>    ! команда 15
<br/>    ! команда 16
<br/>    ! ... 
<br/>else
<br/>! иначе, если ни одно условие не сработало
<br/>    ! команда 49
<br/>    ! команда 50
<br/>    ! ...
<br/>! ЗАКРЫВАЕМ УСЛОВИЕ
<br/>end
</code>
<segment>
<p>
Если действие лежит внутри условия, то и закрываться оно должно внутри условия: 
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! ОТКРЫВАЕМ УСЛОВИЕ
<br/>if условие=1:
<br/>! если условие 1 сработало
<br/>    ! ОТКРЫВАЕМ ДЕЙСТВИЕ
<br/>    act 'действие': 
<br/>        ! команда 102
<br/>        ! команда 103
<br/>        ! ...
<br/>    ! ЗАКРЫВАЕМ ДЕЙСТВИЕ
<br/>    end
<br/>    ! команда 1
<br/>    ! команда 2
<br/>    ! ...
<br/>elseif условие=2: 
<br/>! если условия 1 не сработало, но сработало условие 2
<br/>    ! команда 15
<br/>    ! команда 16
<br/>    ! ... 
<br/>else
<br/>! иначе, если ни одно условие не сработало
<br/>    ! команда 49
<br/>    ! команда 50
<br/>    ! ...
<br/>! ЗАКРЫВАЕМ УСЛОВИЕ
<br/>end
</code>
<segment>
<p>
Таким образом исходный пример можно исправить так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем общее условие
<br/>if сила>0:
<br/>    ! открываем вложенное условие
<br/>    if энергия>9:
<br/>        ! открываем действие
<br/>        act "Носить воду с колодца":
<br/>            ведро=ведро+2
<br/>            энергия=энергия-10
<br/>            "Я принёс воды с колодца."
<br/>        ! закрываем действие
<br/>        end
<br/>    ! если первое условие не сработало
<br/>    elseif энергия>3:
<br/>        ! открываем действие
<br/>        act "Уныло лежать и ждать, когда восстановятся силы":
<br/>            энергия=энергия+1
<br/>            "Я немного полежал. Голова уже не кружится"
<br/>        ! закрываем действие
<br/>        end
<br/>    ! закрываем вложенное условие
<br/>    end
<br/>! закрываем общее условие
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\12_ne_rabotaet_uslovie_0086.txt-light">
<head anchor="faq_13_12" head-level="h2">
<p>
13.12. Не работает условие. Как исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Не работает условие. Как исправить?
</p>
<p>
Пишу такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if skrom>10 and <15:
<br/>    ! какой-то код
<br/>    ! ...
<br/>end
</code>
<segment>
<p>
Но плеер выдаёт ошибку.
</p>
<p>
О:
</p>
<p>
Дело в том, что в этом условии не полностью задана одна часть выражения.
</p>
<p>
<tag name="simple-string">
Плеер проверяет </tag>
<tag name="tt">
skrom</tag>
<tag name="simple-string">
 больше 10. Затем идёт </tag>
<tag name="tt">
AND</tag>
<tag name="simple-string">
, и плееру предлагается что-то сравнить с числом пятнадцать, но не указано что.
</tag>
</p>
<p>
Правильно написать так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if skrom>10 and skrom<15:
<br/>    ! какой-то код
<br/>    ! ...
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\13_не работает\13_ne_rabotajut_drobnye_chisla_0087.txt-light">
<head anchor="faq_13_13" head-level="h2">
<p>
13.13. Не работают десятичные дроби, дробные числа, числа с запятыми!</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Не работают десятичные дроби, дробные числа, числа с запятыми!
</p>
<p>
О:
</p>
<p>
Да, всё верно. Об этом написано в справке:
</p>
</segment>
<quote>
<p>
QSP не поддерживает дробные числа, можно использовать только целые.</p>
</fquote>
<segment>
<p>
Однако, если очень уж хочется использовать дробные числа, есть выход.
</p>
<p>
Во-первых, все значения можно увеличить во столько раз, какая погрешность требуется.
</p>
<p>
Например, мне нужно считать с точностью до сотых долей. Я увеличиваю значение в 100 раз.
</p>
<p>
Было
</p>
</segment>
<code code-left-level="0" code-type="qsp">
здоровье=100
</code>
<segment>
<p>
, теперь
</p>
</segment>
<code code-left-level="0" code-type="qsp">
здоровье=10000
</code>
<segment>
<p>
Таким образом, если мне нужно вычесть пять сотых от этого значения, я просто вычитаю 5:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
здоровье=здоровье-5
</code>
<segment>
<p>
Однако, если мы попробуем вывести значение на экран как есть, это всё равно будет целое число, поэтому нам нужно "привести" его к требуемому виду. Это делается просто.
</p>
<p>
Целую часть получаем делением числа на 100:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
здоровье/100
</code>
<segment>
<p>
Дробную часть вычисляем, как остаток от деления на 100:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
здоровье mod 100
</code>
<segment>
<p>
Осталось показать на экране:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p "Здоровье: <<здоровье/100>>."+$iif((здоровье mod 100<10),"0<<здоровье mod 100>>",$str(здоровье mod 100))+"/100"
</code>
<segment>
<p>
<tag name="simple-string">
Во-вторых, если вам лень увеличивать числа и приводить их к нужной погрешности, воспользуйтесь уже готовой библиотечкой </tag>
<tag name="hyperlink" href="http://aleksversus.narod.ru/index/easy_math_qsp/0-56">
easy.math</tag>
<tag name="simple-string">
. Она научит QSP работать с дробными числами. Правда это повысит нагрузку на игру, и в случае больших вычислений игра будет притормаживать.
</tag>
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы">
<head anchor="faq_14" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\00.txt-light">
<p>
14. Вопросы о предметах</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\01_kak_dobavit__predmet_v_okno_predmetov_0088.txt-light">
<head anchor="faq_14_01" head-level="h2">
<p>
14.1. Как добавить предмет в окно предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как добавить предмет в окно предметов?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Всё очень просто. Для этого используется оператор </tag>
<tag name="tt">
addobj</tag>
<tag name="simple-string">
. В качестве аргумента оператору передаётся название предмета:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "Отвёртка"
</code>
<segment>
<p>
Если нужно добавить предмет с картинкой, то вторым аргументом указывается путь к файлу картинки.
</p>
<p>
Например, файл картинки нашего предмета называется "screw.png" и лежит в папке "img", вложенной в папку с игрой, тогда предмет с картинкой можно добавить так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "Отвёртка","img/screw.png"
</code>
<segment>
<p>
Ещё картинку можно вставлять прямо в название предмета, используя html. Для этого включаем поддержку html в плеере, прописав, например на самой первой локации в игре, команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
Далее добавляем предмет с картинкой, используя тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
. В атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 этого тега указываем путь к файлу картинки:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "<img scr='img/screw.png'> Отвёртка"
</code>
<segment>
<p>
Обратите внимание. Хотя при этом на экране мы будем видеть картинку и слово "Отвёртка", названием предмета будет вся строка "<img scr='img/screw.png'> Отвёртка".
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\02_kak_udalit__predmet_0089.txt-light">
<head anchor="faq_14_02" head-level="h2">
<p>
14.2. Как удалить предмет из окна предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как удалить предмет из окна предметов?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Для того, чтобы удалить предмет из окна предметов, необходимо воспользоваться оператором </tag>
<tag name="tt">
delobj</tag>
<tag name="simple-string">
. Оператор </tag>
<tag name="tt">
delobj</tag>
<tag name="simple-string">
 удаляет предмет по названию предмета, то есть в качестве аргумента этому оператору указываем название предмета:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
delobj "Отвёртка"
</code>
<segment>
<p>
<tag name="simple-string">
Если вы выводили картинку в названии предмета с помощью html, то частью названия предмета является и html-тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
, а значит удалять предмет нужно точно так же, полностью указывая название:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
delobj "<img scr='img/screw.png'> Отвёртка"
</code>
<segment>
<p>
<tag name="simple-string">
Существует оператор, который удаляет предмет по индексу. Это оператор </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
. В качестве аргумента указываем номер предмета в списке:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
killobj 3
</code>
<segment>
<p>
<tag name="simple-string">
Если не указывать аргумент оператору </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
, он удалит все предметы в списке:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
killobj
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\03_kak_udalit__vse_predmety_0090.txt-light">
<head anchor="faq_14_03" head-level="h2">
<p>
14.3. Как удалить все предметы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как удалить все предметы?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Используйте для этого оператор </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
killobj
</code>
<segment>
<p>
<tag name="simple-string">
Если указать оператору </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
 аргументом какой-то номер, он удалит только предмет в позиции, соответствующей этому номеру:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
killobj 3
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\04_kak_dobavit__predmet_v_opredelionnuju_pozitsiju_0091.txt-light">
<head anchor="faq_14_04" head-level="h2">
<p>
14.4. Как добавить предмет в определённую позицию в окне предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как добавить предмет в определённую позицию в окне предметов?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Вы можете указать номер позиции, в которую хотите добавить предмет, третим аргументом оператору </tag>
<tag name="tt">
addobj</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "Название предмета","Путь к файлу картинки/картинка.jpg",3
</code>
<segment>
<p>
Можно добавлять предметы только в уже существующие позиции, либо в позицию сразу за последним предметом. Если вы укажете большее число, предмет не добавится:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! исходный список предметов
<br/>addobj "Отвёртка"
<br/>addobj "Гаечный ключ"
<br/>addobj "Радиоактивный пепел"
<br/>! добавляем предмет без картинки в седьмую позицию, которой ещё нет
<br/>addobj "Апельсин","",7
</code>
<segment>
<p>
Обратите внимание, если вы добавляете предмет в уже существующую позицию, предмет, стоявший в этой позиции, а так же следующие за ним, будут смещены на позицию вниз. Т.е. замена предметов при добавлении в уже существующую позицию не происходит:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! предмет в первой позиции
<br/>addobj "Отвёртка"
<br/>! предмет во второй позиции
<br/>addobj "Гаечный ключ"
<br/>! предмет в третьей позиции
<br/>addobj "Радиоактивный пепел"
<br/>! добавляем предмет во вторую позицию, при этом
<br/>! гаечный ключ и радиоактивный пепел сместятся
<br/>! на позицию вниз
<br/>addobj "Апельсин","",2
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\05_kak_zamenit__odin_predmet_na_drugoj_0092.txt-light">
<head anchor="faq_14_05" head-level="h2">
<p>
14.5. Как заменить один предмет на другой?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как заменить один предмет на другой?
</p>
<p>
О:
</p>
<p>
Чтобы заменить один предмет на другой, нужно удалить старый предмет, а в позицию, которую он занимал, вписать новый предмет.
</p>
<p>
Если вы знаете позицию предмета, который собираетесь удалить, то код довольно простой:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! светящийся шар был помещён в третью позицию
<br/>
<br/>! удаляем светящийся шар
<br/>delobj "Светящийся шар"
<br/>! добавляем "Тёмный шар" в третью позицию
<br/>addobj "Тёмный шар","",3
</code>
<segment>
<p>
Если вы не знаете заранее, в какой позиции окажется тот или иной предмет, придётся написать алгоритм, который будет находить позицию нужного предмета перед удалением:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!ищем позицию предмета по имени 
<br/>loop local i=1 while no i > countobj step i+=1 :
<br/>    if $getobj(i)="Светящийся шар": 
<br/>        objnumber = i 
<br/>        jump 'end_cycle'
<br/>    end 
<br/>end
<br/>:end_cycle
<br/>! удаляем предмет по индексу 
<br/>killobj objnumber
<br/>! вставляем на его место новый предмет 
<br/>addobj "Тёмный шар","",objnumber
</code>
<segment>
<p>
<tag name="simple-string">
Функция </tag>
<tag name="tt">
countobj</tag>
<tag name="simple-string">
 возвращает число предметов в инвентаре. Функция </tag>
<tag name="tt">
$getobj</tag>
<tag name="simple-string">
 возвращает название предмета по его номеру.
</tag>
</p>
<p>
<tag name="simple-string">
То есть, данный алгоритм сравнивает названия всех предметов в инвентаре по очереди, и если встречает такое же название, как мы указали, записывает номер в переменную </tag>
<tag name="tt">
objnumber</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\06_kak_delat__schitaeye_predmety_0093.txt-light">
<head anchor="faq_14_06" head-level="h2">
<p>
14.6. Как делать динамические/считаемые предметы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как делать динамические/считаемые предметы?
</p>
<p>
В: Как делать стакающиеся предметы?
</p>
<p>
В: Как делать предметы, рядом с названиями которых выводится их количество?
</p>
<p>
О:
</p>
<p>
Допустим, на разных локациях мы можем подбирать одинаковые предметы с названием "Грибочек". Если мы просто пропишем везде команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "Грибочек"
</code>
<segment>
<p>
, то наш инвентарь окажется захламлён множеством одинаковых "Грибочков". Чтобы избежать этого, обычно заводят переменную, которая ведёт подсчёт числа предметов, и тогда код каждого подъёма грибочков слегка усложняется:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if грибочек=0:
<br/>! если мы ещё не собрали ни одного грибочка
<br/>    ! добавляем предмет
<br/>    addobj "Грибочек"
<br/>end
<br/>! увеличиваем число собранных грибочков на 1
<br/>грибочек=грибочек+1
</code>
<segment>
<p>
Затем можно выводить число грибочков на экран при щелчке по предмету "Грибочек".
</p>
<p>
Но как же сделать, чтобы в окне инвентаря отображалась актуальная информация о числе "Грибочков", и нам не приходилось щёлкать по предмету?
</p>
<p>
Мы можем добавить в окно инвентаря предмет, указав его количество прямо в названии:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! увеличиваем число грибочков
<br/>грибочек=грибочек+1
<br/>! добавляем предмет с указанным количеством
<br/>addobj "Грибочек (<<грибочек>> шт.)"
</code>
<segment>
<p>
<tag name="simple-string">
А чтобы с экрана пропадал предмет со старым названием, необходимо его предварительно удалить с помощью оператора </tag>
<tag name="tt">
delobj</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! удаляем старый предмет
<br/>delobj "Грибочек (<<грибочек>> шт.)"
<br/>! увеличиваем число грибочков
<br/>грибочек=грибочек+1
<br/>! добавляем предмет с новым количеством
<br/>addobj "Грибочек (<<грибочек>> шт.)"
</code>
<segment>
<p>
Иными словами, всякий раз, как мы изменяем количество, предмет со старым названием удаляется из инвентаря, а предмет с новым, актуальным названием добавляется в инвентарь.
</p>
<p>
При этом у вас могут возникнуть сложности со взаимодействием с этим предметом, например, в локации-обработчике выделения предмета, поскольку теперь нельзя будет точно предсказать, в какой момент игры, какое будет у предмета название. Условие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Грибочек":
</code>
<segment>
<p>
<tag name="simple-string">
не сработает. В этом случае нужно проверять только часть названия, например с помощью функции </tag>
<tag name="tt">
instr</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if instr($selobj,"Грибочек")<>0:
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\07_predmet_v_vide_kartinki_0094.txt-light">
<head anchor="faq_14_07" head-level="h2">
<p>
14.7. Как добавить предмет с картинкой но без названия?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как добавить предмет с картинкой но без названия?
</p>
<p>
О:
</p>
<p>
Первое, что приходит на ум, это поставить вместо названия пробел, а вторым аргументом указать путь к названию картинки:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj " ","img/screw.png"
</code>
<segment>
<p>
Однако этот способ не подходит, если необходимо как-то взаимодействовать с предметами, а их у вас несколько. В этом случае, нужно воспользоваться возможностями html. Для этого, например, в самой первой локации в игре включаем режим распознавания html командой:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
И добавляем предметы, названия которых целиком представляют собой тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
 со ссылкой на картинку в атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj '<img src="img/screw.png">'
</code>
<segment>
<p>
<tag name="simple-string">
Если по какой-либо причине вы не хотите в названии использовать тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
, а картинку добавляете с помощью второго аргумента к </tag>
<tag name="tt">
addobj</tag>
<tag name="simple-string">
, при включенном html можно заворачивать название предмета в угловые скобки:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "<Отвёртка>","img/screw.png"
</code>
<segment>
<p>
Этот способ не подходит для AeroQSP. Аэро очень не любит несуществующие теги, поэтому здесь код для добавления предмета может быть таким:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "<a title='Отвёртка'></a>","img/screw.png"
</code>
<segment>
<p>
<tag name="simple-string">
Хотя проще вставить картинку тегом </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
 прямо в название.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\08_vypolnenie_koda_pri_schelchke_po_predmetu_0095.txt-light">
<head anchor="faq_14_08" head-level="h2">
<p>
14.8. Как сделать, чтоб при щелчке по предмету выполнялся какой-либо код?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтоб при щелчке по предмету выполнялся какой-либо код?
</p>
<p>
О:
</p>
<p>
Для начала нужно завести локацию-обработчик выделения предмета. Для этого:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию и называем, например, "если_предмет_выбран". Название может быть любым.</p>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
в самой первой локации в игре указываем плееру, какую локацию он должен использовать, как обработчик выделения предмета. Для этого в системную переменную </tag>
<tag name="tt">
$onobjsel</tag>
<tag name="simple-string">
 вносим имя нашей новой локации:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$onobjsel="если_предмет_выбран"
</code>
</segment>
</list>
<segment>
<p>
Теперь код локации будет выполняться всякий раз, когда мы выделяем новый предмет.
</p>
<p>
<tag name="simple-string">
Функция </tag>
<tag name="tt">
$selobj</tag>
<tag name="simple-string">
 возвращает нам название выделенного предмета, поэтому на локации-обработчике мы можем проверять, какой предмет выделен, и выполнять соответствующий код.
</tag>
</p>
<p>
Например, можно выводить описание предмета в окно дополнительного описания при щелчке по предмету:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Отвёртка":
<br/>! если выделен предмет Отвёртка
<br/>    ! очищаем окно доп описания
<br/>    clr
<br/>    ! выводим описание предмета
<br/>    pl "Прекрасная крестовая отвёртка. Отлично подойдёт для регулирования уровня громкости"    
<br/>end
</code>
<segment>
<p>
Или совершать переход на локацию:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Камень телепортации":
<br/>! если выделен предмет Камень телепортации
<br/>    ! переходим на локацию
<br/>    goto "Эверест"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
В конце локации-обработчика не забывайте ставить команду </tag>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
, чтобы снять выделение и дать игроку возможность повторно воспользоваться предметом.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\09_kak_snjat__vydelenie_0096.txt-light">
<head anchor="faq_14_09" head-level="h2">
<p>
14.9. Как снять выделение предмета?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как снять выделение предмета?
</p>
<p>
В: Как сделать, чтобы выбранный предмет можно было кликнуть ещё раз?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Выделение с предмета снимается с помощью команды </tag>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
. Обычно её прописывают в конце локации-обработчика выделения предмета:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
unselect
</code>
<segment>
<p>
<tag name="simple-string">
Однако эта команда не успеет выполниться, если при щелчке по предмету происходит переход с помощью оператора </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
/</tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
. В этом случае можно воспользоваться таким решением:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! запоминаем название выделенного предмета
<br/>$object=$selobj
<br/>! снимаем выделение
<br/>unselect
<br/>
<br/>! далее работаем с сохранённым названием выделенного предмета
<br/>if $object="Камень телепортации":
<br/>! если был выделен Камень телепортации
<br/>    ! переходим на локацию Эверест
<br/>    goto "Эверест"
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\10_dva_spiska_predmetov_0097.txt-light">
<head anchor="faq_14_10" head-level="h2">
<p>
14.10. Как сделать два списка предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать два списка предметов? Например для игры за разных персонажей.
</p>
<p>
О:
</p>
<p>
Списки предметов можно хранить в разных массивах. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! список предметов персонажа Вася
<br/>$вася_предметы[0]="Отвёртка"
<br/>$вася_предметы[1]="Гаечный ключ"
<br/>$вася_предметы[2]="Ножовка"
<br/>! список предметов персонажа Петя
<br/>$петя_предметы[0]="Радиоактивный пепел"
<br/>$петя_предметы[1]="Хрустальный шар"
<br/>$петя_предметы[2]="Апельсин"
</code>
<segment>
<p>
Допустим, мы играем за персонаж Петя. Тогда добавление предметов должно выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! добавляем предмет в окно предметов
<br/>addobj "Бутылка кетчупа"
<br/>! запоминаем название предмета в массиве
<br/>$петя_предметы[]="Бутылка кетчупа"
</code>
<segment>
<p>
Пустые квадратные скобки после названия массива означают, что нужно записать значение в ячейку следующую за последней (в новую).
</p>
<p>
Удаление предмета соответственно будет выглядеть так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! удаляем предмет из окна предметов
<br/>delobj "Бутылка кетчупа"
<br/>! удаляем запись о предмете из массива
<br/>killvar "$петя_предметы",arrpos("$петя_предметы","Бутылка кетчупа")
</code>
<segment>
<p>
Когда нам нужно сменить персонаж, мы делаем следующее:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! очищаем список предметов в окне предметов
<br/>killobj
<br/>! выводим все предметы из списка другого персонажа
<br/>! с помощью цикла
<br/>i=0
<br/>loop local i=0 while i<arrsize("$вася_предметы") step i+=1:
<br/>! пока счётчик не превысил номер последней ячейки массива
<br/>    ! выводим в окно предметов предмет, записанный в массив
<br/>    addobj $вася_предметы[i]
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Можно написать универсальные локации для каждого из этих алгоритмов и использовать их, когда нужно. Для подробностей см. </tag>
<tag name="hyperlink" href="#faq_80_02_gosub">
<tag name="simple-string">
оператор </tag>
<tag name="tt">
gosub</tag>
</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Если вам нужно более двух списков предметов, то заводить отдельный массив на каждый неразумно. Проще завести два массива:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="simple-string">
в одном массиве прописывать сам предмет: </tag>
<tag name="tt">
$предмет_название[0]="Бутылка кетчупа"</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
во втором массиве прописывать, кому принадлежит предмет (или где лежит): </tag>
<tag name="tt">
$предмет_расположение[0]="Петя"</tag>
</p>
</segment>
</list>
<segment>
<p>
Добавление предмета немного усложнится:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! добавляем предмет в окно предметов
<br/>addobj "Бутылка кетчупа"
<br/>! добавляем название в список и указываем, кому принадлежит
<br/>$предмет_название[]="Бутылка кетчупа"
<br/>$предмет_расположение[]="Петя"
</code>
<segment>
<p>
Важно, чтобы предмет и его расположение прописывались в массивы под одним индексом. Тогда удаление:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! удаляем предмет из окна предметов
<br/>delobj "Бутылка кетчупа"
<br/>! удаляем и название предмета из списка и его расположение
<br/>i=arrpos("$предмет_название","Бутылка кетчупа")
<br/>killvar "$предмет_название",i
<br/>killvar "$предмет_расположение",i
</code>
<segment>
<p>
Вывести все предметы текущего персонажа можно так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! где-то ранее мы написали имя персонажа в переменную
<br/>$персонаж_имя="Петя"
<br/>
<br/>! очищаем окно предметов от предметов другого персонажа
<br/>killobj
<br/>! выводим предметы пети в окно предметов
<br/>loop local i=0 while i<arrsize("$предмет_название") step i+=1:
<br/>! пока счётчик не превысил номер последней ячейки массива
<br/>    if $предмет_расположение[i]=$персонаж_имя:
<br/>    ! если предмет находится у пети
<br/>        ! выводим в окно предметов предмет, записанный в массив
<br/>        addobj $предмет_название[i]
<br/>    end
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\11_avtomaticheskij_kod_pri_dobavlenii_predmeta_0098.txt-light">
<head anchor="faq_14_11" head-level="h2">
<p>
14.11. Как сделать, чтобы плеер выполнял определённый код при добавлении любого предмета?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы плеер выполнял определённый код при добавлении любого предмета?
</p>
<p>
О:
</p>
<p>
Для этого используйте локацию-обработчик события "добавление предмета". Чтобы сделать это, нужно:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создать локацию, например с названием "предмет_добавлен" (название может быть любым),</p>
</segment>
<segment>
<segment>
<p>
указать плееру, какую локацию он должен использовать, как локацию-обработчик события "добавление предмета":</p>
</segment>
<code code-left-level="4" code-type="qsp">
$onobjadd="предмет_добавлен"
</code>
</segment>
</list>
<segment>
<p>
Теперь на локации "предмет_добавлен" можно прописать нужный вам код.
</p>
<p>
<tag name="simple-string">
Локации-обработчику события "добавление предмета" передаются два значения, которые вы можете получить из массива </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
$args[0]</tag>
<tag name="simple-string">
 — название добавляемого предмета</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
$args[1]</tag>
<tag name="simple-string">
 — путь к файлу картинки добавляемого предмета</tag>
</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Код локации-обработчика события "добавление предмета" выполняется уже после того, как предмет добавлен в окно предметов. Учитывайте это, например, при использовании функции </tag>
<tag name="tt">
countobj</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\12_raznye_predmety_s_odinakovymi_nazvanijami_0099.txt-light">
<head anchor="faq_14_12" head-level="h2">
<p>
14.12. Как сделать два разных предмета с одинаковыми названиями?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать два разных предмета с одинаковыми названиями?
</p>
<p>
<tag name="simple-string">
Например, есть два старых меча. Но у одного параметр атаки </tag>
<tag name="tt">
+3</tag>
<tag name="simple-string">
, а у другого </tag>
<tag name="tt">
+5</tag>
<tag name="simple-string">
. Нужно, чтобы в окне предметов выводились одинаковые названия "Старый меч", но когда щёлкаешь по одному, выводились его параметры, а по другому — другие параметры.
</tag>
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
К сожалению, сделать два "разных" предмета с одинаковыми названиями не получится. В QSP можно получать только название выделенного предмета (с помощью функции </tag>
<tag name="tt">
$selobj</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
Однако, мы можем прописать в названии некие отличительные данные предмета и скрыть эти данные от игрока. Для этого:
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
включаем распознавание html, прописав, например, на самой первой локации в игре команду:</p>
</segment>
<code code-left-level="4" code-type="qsp">
usehtml=1
</code>
</segment>
<segment>
<segment>
<p>
в названиях предметов прописываем их отличительные особенности, используя несуществующие html-теги:</p>
</segment>
<code code-left-level="4" code-type="qsp">
addobj "Старый меч<atack:+3>"
<br/>addobj "Старый меч<atack:+5>"
</code>
</segment>
</list>
<segment>
<p>
На экране игрок увидит одинаковые названия "Старый меч", однако плеер будет работать с их полными названиями. Для примера, код локации-обработчика выделения предмета:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Старый меч<atack:+3>":
<br/>    clr
<br/>    pl "Старый меч"
<br/>    pl "Сила атаки: +3"
<br/>end
<br/>if $selobj="Старый меч<atack:+5>":
<br/>    clr
<br/>    pl "Старый меч (с зазубринами)"
<br/>    pl "Сила атаки: +5"
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\13_mnogourovnevyj_rjukzak_0100.txt-light">
<head anchor="faq_14_13" head-level="h2">
<p>
14.13. Как сделать многоуровневый рюкзак?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать многоуровневый рюкзак?
</p>
<p>
В: Как сделать предметы в предметах?
</p>
<p>
Например, щёлкаешь по предмету "Рюкзак", и в окне инвентаря появляется список предметов в рюкзаке.
</p>
<p>
О:
</p>
<p>
Списки предметов можно хранить в разных массивах. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! верхний уровень предметов
<br/>$ур0_предметы[0]="Дневник заданий"
<br/>$ур0_предметы[1]="Рюкзак"
<br/>$ур0_предметы[2]="Книга заклинаний"
<br/>$ур0_предметы[3]="Кошелёк"
<br/>! предметы в рюкзаке
<br/>$ур1_предметы[0]="Отвёртка"
<br/>$ур1_предметы[1]="Хрустальный шар"
<br/>$ур1_предметы[2]="Агар-Агар"
</code>
<segment>
<p>
С помощью цикла любой из этих списков можно вывести на экран.
</p>
<p>
На локации-обработчике выделения предмета можно прописать примерно такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $selobj="Рюкзак":
<br/>! если кликнули по предмету рюкзак
<br/>    ! удаляем список предметов верхнего уровня
<br/>    killobj
<br/>    ! выводим предмет, позволяющий вернуться обратно
<br/>    ! к списку предметов верхнего уровня
<br/>    addobj "...Назад..."
<br/>    ! выводим предметы в рюкзаке
<br/>    loop local i=0 while i<arrsize('$ур1_предметы') step i+=1:
<br/>        addobj $ур1_предметы[i]
<br/>    end
<br/>end
<br/>
<br/>if $selobj="...Назад...":
<br/>! если кликнули по предмету Назад
<br/>    ! удаляем старый список с экрана
<br/>    killobj
<br/>    ! выводим новый (предметы верхнего уровня)
<br/>    loop local i=0 while i<arrsize('$ур0_предметы') step i+=1:
<br/>        addobj $ур0_предметы[i]
<br/>    end    
<br/>end
</code>
<segment>
<p>
Если вам нужно более двух списков предметов, то заводить отдельный массив на каждый неразумно. Проще завести два массива:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="simple-string">
в одном массиве прописывать сам предмет: </tag>
<tag name="tt">
$предмет_название[0]="Бутылка кетчупа"</tag>
</p>
</segment>
<segment>
<p>
<tag name="simple-string">
во втором массиве прописывать, где этот предмет находится: </tag>
<tag name="tt">
$предмет_расположение[0]="Рюкзак"</tag>
</p>
</segment>
</list>
<segment>
<p>
Важно, чтобы индексы и предмета, и его расположения, в каждом массиве совпадали.
</p>
<p>
Вывести все предметы текущего уровня можно так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! где-то ранее мы написали, предметы какого уровня нам нужно вывести
<br/>$уровень_вложений="Рюкзак"
</code>
<code code-left-level="0" code-type="qsp">
! очищаем окно предметов от предметов другого уровня
<br/>killobj
<br/>! выводим предметы текущего уровня в окно предметов
<br/>loop local i=0 while i<arrsize("$предмет_название") step i+=1:
<br/>! пока счётчик не превысил номер последней ячейки массива
<br/>    if $предмет_расположение[i]=$уровень_вложений:
<br/>    ! если предмет находится на текущем уровне
<br/>        ! выводим в окно предметов предмет, записанный в массив
<br/>        addobj $предмет_название[i]
<br/>    end
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\14_предметы\14_predmety_ne_v_okne_predmetov_0101.txt-light">
<head anchor="faq_14_14" head-level="h2">
<p>
14.14. Можно ли выводить предметы не в окне предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно ли выводить предметы не в окне предметов?
</p>
<p>
О:
</p>
<p>
Да, конечно можно. Названия предметов можно записывать в отдельный массив, а выводить в окно основного описания в виде гиперссылок:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! предметы в массиве
<br/>$предметы[0]="Отвёртка"
<br/>$предметы[1]="Гаечный ключ"
<br/>$предметы[2]="Ножовка"
<br/>$предметы[3]="Радиоактивный пепел"
<br/>$предметы[4]="Хрустальный шар"
<br/>$предметы[5]="Апельсин"
<br/>
<br/>! вывод списка предметов на экран:
<br/>loop local i=0 while i<arrsize('$предметы') step i+=1:
<br/>! пока счётчик меньше размера массива
<br/>    ! выводим предмет в виде гиперссылки
<br/>    *pl "<a href=""EXEC:gosub 'objClick','<<$предметы[i]>>'""><<$предметы[i]>></a>"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Как видите, из гиперссылки идёт обращение к некоей локации "objClick". Эта локация будет заменять нам локацию-обработчик выделения предмета. И так же вы можете видеть, что название предмета на эту локацию передаётся в качестве аргумента. То есть искать его нужно в </tag>
<tag name="tt">
$args[0]</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! код локации objClick
<br/>! мало чем отличается от подобного кода в локации-обработчике выделения предмета
<br/>if $args[0]="Отвёртка":
<br/>! если щёлкнули по предмету "Отвёртка"
<br/>    ! очищаем окно доп описания
<br/>    clr
<br/>    ! выводим описание предмета
<br/>    pl "Прекрасная крестовая отвёртка. Отлично подойдёт для регулирования уровня громкости"    
<br/>end
<br/>
<br/>! и так далее для других предметов
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\15_строка ввода">
<head anchor="faq_15" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\15_строка ввода\00.txt-light">
<p>
15. Вопросы о строке ввода</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\15_строка ввода\01_zachem_nuzhna_stroka_vvoda_0102.txt-light">
<head anchor="faq_15_01" head-level="h2">
<p>
15.1. Зачем вообще нужна строка ввода (поле ввода)?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Зачем вообще нужна строка ввода (поле ввода)?
</p>
<p>
О:
</p>
<p>
Строка ввода — это наследие так называемых парсерных игр, то есть игр, где управление производится с помощью ввода текста игроком. Игрок вводит в поле ввода текст вроде "войти в здание" или "взять апельсин", а игра реагирует на введённый текст. Есть даже специальные платформы, ориентированные на парсерные игры.
</p>
<p>
Quest Soft Player — платформа ориентированная на "менюшные" игры. То есть игры, управление в которых осуществляется с помощью нажатия на кнопки, ссылки, пункты меню и т.д. В QSP нет собственного синтаксического анализатора — важнейшего механизма, который позволяет игре воспринимать и понимать текст, введённый игроком. Тем не менее парсерные игры на QSP писать можно:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="hyperlink" href="https://ifwiki.ru/Великая_Пустота_9">
Великая Пустота 9</tag>
</p>
</segment>
<segment>
<p>
<tag name="hyperlink" href="https://ifwiki.ru/Волшебный_экзамен">
Волшебный экзамен</tag>
</p>
</segment>
</list>
<segment>
<p>
Так же строку ввода можно использовать при организации собственного отладчика, или для расширения возможностей игрока внутри игры.
</p>
<p>
<tag name="simple-string">
Для ввода различных данных в процессе игры, например паролей от сейфов, ответов на вопросы, и — прочего, лучше использовать диалоговое окно, вызываемое функцией </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\15_строка ввода\02_kak_zadejstvovat__stroku_vvoda_0103.txt-light">
<head anchor="faq_15_02" head-level="h2">
<p>
15.2. Как задействовать строку ввода в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как задействовать строку ввода в игре?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Начать следует с того, что любой текст, введённый игроком, можно получить в любой момент с помощью функции </tag>
<tag name="tt">
$user_text</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Для примера попробуйте сделать следующее:
</p>
</segment>
<list list-type="ol-list">
<segment>
<segment>
<p>
Включите строку ввода:</p>
</segment>
<code code-left-level="4" code-type="qsp">
showinput 1
</code>
</segment>
<segment>
<segment>
<p>
Создайте действие:</p>
</segment>
<code code-left-level="4" code-type="qsp">
act "Вывести текст из строки ввода":
<br/>    *pl $user_text
<br/>end
</code>
</segment>
<segment>
<p>
Теперь запустите игру, пробуйте вводить текст в поле ввода, а затем нажимать на действие. Текст из поля ввода будет появляться на экране.</p>
</segment>
</list>
<segment>
<p>
Далее обратимся к локации-обработчику строки ввода. Несмотря на то, что предназначение локации "обработчик строки ввода", сама по себе эта локация строку ввода не обрабатывает. Код этой системной локации выполняется, если установить курсор в поле ввода, а затем нажать клавишу "Enter".
</p>
<p>
Для того, чтобы это проверить, проделайте следующее:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Создайте новую локацию. Имя может быть любым, но для примера назовём её "обработчик_ввода".</p>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
Чтобы плеер понял, какую локацию он должен использовать, как обработчик строки ввода, необходимо прописать название этой локации в переменной </tag>
<tag name="tt">
$usercom</tag>
<tag name="simple-string">
. Например, на самой первой локации в игре пишем:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$usercom="обработчик_ввода"
</code>
</segment>
<segment>
<segment>
<p>
На локации-обработчике строки ввода пишем такой код:</p>
</segment>
<code code-left-level="4" code-type="qsp">
! увеличиваем значение переменной на единицу
<br/>enter=enter+1
<br/>! выводим на экран
<br/>*pl enter
</code>
</segment>
<segment>
<p>
Теперь, когда вы запустите игру и установите курсор в поле ввода, а затем нажмёте клавишу "Enter", вы увидите, что на экране появится число. С каждым нажатием клавиши "Enter" на экране будет появляться новое число.</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
Объединив две эти возможности, можно задействовать строку ввода. Т.е. по нажатию клавиши "Enter", прямо на локации-обработчике строки ввода с помощью функции </tag>
<tag name="tt">
$user_text</tag>
<tag name="simple-string">
 получаем текст, введённый игроком, и производим действия, в зависимости от того, что нам нужно:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! локация "обработчик_ввода" (usercom)
<br/>if $user_text="войти в комнату":
<br/>! если введён текст "войти в комнату"
<br/>    ! отправляем игрока на локацию "комната"
<br/>    goto "комната"
<br/>! закрываем условие
<br/>end
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка">
<head anchor="faq_16" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\00.txt-light">
<p>
16. Вопросы по вёрстке</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\01_mozhno_li_pisat__poverh_vstavlennoj_kartinki_0104.txt-light">
<head anchor="faq_16_01" head-level="h2">
<p>
16.01. Можно ли писать текст поверх вставленной картинки (не бэкграунда)?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно ли писать текст поверх вставленной картинки (не бэкграунда)?
</p>
<p>
О:
</p>
<p>
Классический плеер не поддерживает работу со слоями, поэтому в нём нельзя накладывать картинку на картинку, или текст на картинку.
</p>
<p>
Однако работу со слоями поддерживает qSpider. Воспользуйтесь им, если вам нужны все возможности HTML.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\02_plavnyj_perehod_mezhdu_lokatsijami_0105.txt-light">
<head anchor="faq_16_02" head-level="h2">
<p>
16.02. Возможно ли сделать плавный переход между локациями?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Возможно ли сделать плавный переход между локациями?
</p>
<p>
О:
</p>
<p>
В классическом плеере можно реализовать плавное появление и затухание текста, однако, чтобы проделать такое с изображениями придётся создавать для каждого изображения несколько копий с разной прозрачностью, либо подготовить заранее gif-изображения.
</p>
<p>
В любом случае реализация подобного достаточно сложна на классическом плеере.
</p>
<p>
Чуть проще сделать плавные переходы на qSpider. Однако это потребует знания CSS и Java Script.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\03_kak_raspolozhit__kartinku_i_tekst_na_stranitse_0106.txt-light">
<head anchor="faq_16_03" head-level="h2">
<p>
16.03. Как расположить картинку справа, а текст слева?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как расположить картинку справа, а текст слева?
</p>
<p>
О:
</p>
<p>
В классическом плеере используйте таблицы для вёрстки страниц:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем таблицу
<br/>*p '<table width=100%>'
<br/>    ! открываем строку
<br/>    *p '<tr>'
<br/>        ! открываем ячейку для текста
<br/>        *p '<td width=50%>'
<br/>            ! помещаем в ячейку текст
<br/>            *p 'Текст, расположенный слева.'
<br/>        ! закрываем ячейку для текста
<br/>        *p '</td>'
<br/>        ! открываем ячейку с изображением
<br/>        *p '<td width=50%>'
<br/>            ! помещаем в ячейку изображение
<br/>            *p '<img src="pic/kartinka.jpg">'
<br/>        *p '</td>'
<br/>    ! закрываем строку
<br/>    *p '</tr>'
<br/>! закрываем таблицу
<br/>*p '</table>'
</code>
<segment>
<p>
<tag name="simple-string">
В qSpider можно использовать блоки </tag>
<tag name="tt">
<div></tag>
<tag name="simple-string">
, послойный вывод, флексы, гриды и прочее.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\04_kak_ogranichit__razmer_vyvodimogo_izobrazhenija_0107.txt-light">
<head anchor="faq_16_04" head-level="h2">
<p>
16.04. Как ограничить размер выводимого изображения?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как ограничить размер выводимого изображения?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Для того, чтобы ограничить размер изображения, используйте атрибуты </tag>
<tag name="tt">
width</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
height</tag>
<tag name="simple-string">
 для тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводит картинку шириной и высотой в 100 пикселей
<br/>*p '<img src="pic/cartinca.jpg" width="100" height="100">'
</code>
<segment>
<p>
Поддерживаются относительные размеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выводит картинку в половину ширины от родительского элемента
<br/>*p '<img src="pic/cartinca.jpg" width="50%">'
</code>
<segment>
<p>
Если указывать только ширину, или только высоту картинки, то второй размер вычисляется пропорционально.
</p>
<p>
В классическом плеере высоту изображения можно указывать только в абсолютном размере, то есть только в пикселях.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\05_kak_sdelat__ramku_okna_osnovnogo_opisanija_0108.txt-light">
<head anchor="faq_16_05" head-level="h2">
<p>
16.05. Как сделать рамку окна основного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать рамку окна основного описания?
</p>
<p>
	Как сделать, чтобы картинки шли по контуру основного окна?
</p>
<p>
О:
</p>
<p>
Пользуясь табличной вёрсткой в классическом плеере, можно добиться подобного эффекта. Для этого необходимо создать таблицу с шириной в 100% окна и в крайние левые, правые и верхние ячейки поместить нужные изображения. Можно так же поместить изображение в крайнюю нижнюю ячейку, но оно не будет "пристыковано" к нижнему краю основного окна, а окажется в пределах содержимого. Ещё крайние левые и крайние правые изображения нельзя растянуть по высоте на 100%, а значит добиться их поведения именно как границ рамки будет невозможно (они не будут растягиваться и сжиматься в зависимости от содержимого).
</p>
<p>
Более гибкие и простые настройки оформления есть в qSpider. Там можно добиться гораздо более изящного внешнего вида окна основного описания.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\06_vyvod_tovarov_v_vide_tablitsy_0109.txt-light">
<head anchor="faq_16_06" head-level="h2">
<p>
16.06. Как сделать вывод предметов магазина не длинным списком, а в виде таблицы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать вывод предметов магазина не длинным списком, а в виде таблицы?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Собственно, в вопросе уже заключён ответ. Необходимо использовать табличную вёрстку. Например, список предметов хранится в массиве </tag>
<tag name="tt">
$object</tag>
<tag name="simple-string">
, а мы хотим, чтобы они выводились на экран по четыре предмета в строке:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! вычисляем число необходимых строк, для этого
<br/>! получаем количество предметов, оно равно размеру массива $object
<br/>kolvo=arrsize('$object')
<br/>! задаём число предметов в строке
<br/>number_obj=4
<br/>! вычисляем остаток от деления на number_obj
<br/>! таким образом мы поймём, будет ли у нас неполная строка
<br/>! и сколько предметов в ней окажется
<br/>number_half=kolvo mod number_obj
<br/>if number_half>0:
<br/>! если число предметов не разделилось на строки поровну,
<br/>    ! значит у нас получится неполная строка
<br/>    ! вычисляем число строк так
<br/>    count_string=kolvo/number_obj+1
<br/>else
<br/>! в противном случае
<br/>    !число строк ровно укладывается в число предметов
<br/>    count_string=kolvo/number_obj
<br/>end
<br/>
<br/>! теперь, когда подсчёты готовы, выводим предметы в таблице с помощью цикла
<br/>! в переменной i будем вести номера выводимых предметов
<br/>! открываем таблицу
<br/>*p '<table border=1>'
<br/>    ! цикл строк. Счётчиком служит count_string
<br/>    loop while count_string>0 step count_string-=1:
<br/>    ! пока счётчик выше нуля
<br/>        ! открываем строку
<br/>        *p '<tr>'
<br/>            ! цикл ячеек. Счётчиком служит count_obj
<br/>            count_obj=0
<br/>            loop local count_obj, i = 0, 0 while count_obj<number_obj step count_obj+=1 & i+=1:
<br/>            ! пока счётчик меньше предельного числа ячеек в строке
<br/>            ! (счётчик идёт от нуля, поэтому используем "строго меньше")
<br/>                ! открываем ячейку
<br/>                *p '<td>'
<br/>                    ! проверяем не достиг ли номер предмета размера массива
<br/>                    if i<kolvo:
<br/>                    ! если не достиг
<br/>                        ! выводим предмет в ячейке
<br/>                        *p $object[i]
<br/>                    else
<br/>                    ! в противном случае
<br/>                        ! выводим в ячейке пробел
<br/>                        ! (пустая ячейка)
<br/>                        *p '&amp;nbsp;'
<br/>                    end
<br/>                ! закрываем ячейку
<br/>                *p '</td>'
<br/>            end                    
<br/>        ! закрываем строку
<br/>        *p '</tr>'
<br/>    end
<br/>! закрываем таблицу
<br/>*p '</table>'
</code>
<segment>
<p>
<tag name="simple-string">
В qSpider то же самое можно сделать, используя блоки </tag>
<tag name="tt">
<div></tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\07_mozhno_li_zerkal_no_otrazit__kartinku_0110.txt-light">
<head anchor="faq_16_07" head-level="h2">
<p>
16.7. Можно ли зеркально отразить картинку методами плеера?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:	Можно ли зеркально отразить картинку методами плеера?
</p>
<p>
	Можно ли задать максимальную или минимальную ширину элементу?
</p>
<p>
	Можно ли вычислить доступное место в основном окне?
</p>
<p>
О:
</p>
<p>
В классическом плеере таких возможностей нет. Используйте возможности qSpider.
</p>
<p>
Пример, как отразить картинку:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! отражаем картинку зеркально
<br/>*p "<img src='mygreatpic.png' /> "
<br/>*p "<img src='mygreatpic.png' style='transform: scaleX(-1);' />"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\08_pustye_stroki_posle_tablichki_0111.txt-light">
<head anchor="faq_16_08" head-level="h2">
<p>
16.8. Вывожу в окно табличку, а потом текст, но между текстом и табличкой возникают пустые строки. Что это и как этого избежать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Вывожу в окно табличку, а потом текст, но между текстом и табличкой возникают пустые строки. Что это и как этого избежать?
</p>
<p>
О:
</p>
<p>
Скорее всего вы столкнулись с особенностью плеера QSP. Например, вы вывели табличку вот так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p "<table width=50% border=1>
<br/>        <tr>
<br/>            <td>первая ячейка первой строки</td>
<br/>            <td> вторая ячейка первой строки</td>
<br/>        </tr>
<br/>        <tr>
<br/>            <td>первая ячейка второй строки</td>
<br/>            <td> вторая ячейка второй строки</td>
<br/>        </tr>
<br/>    </table>"
</code>
<segment>
<p>
Дело в том, что плеер не игнорирует переводы строк между тегами таблицы, как HTML-браузер, и отрисовав табличку, воспроизводит эти пустые строки уже после неё. Поэтому между табличкой и последующим текстом возникают пустые строки.
</p>
<p>
Везде, где используете HTML, будьте аккуратны с переводами строк. В данном случае проблема решается так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p "<table width=50% border=1>"
<br/>    *p "<tr>"
<br/>        *p "<td>первая ячейка первой строки</td>"
<br/>        *p "<td> вторая ячейка первой строки</td>"
<br/>    *p "</tr>"
<br/>    *p "<tr>"
<br/>        *p "<td>первая ячейка второй строки</td>"
<br/>        *p "<td> вторая ячейка второй строки</td>"
<br/>    *p "</tr>"
<br/>*p "</table>"
</code>
<segment>
<p>
В редких случаях, когда HTML выводится одной строкой, но в самой таблице или после неё наблюдаются "артефакты", необходимо проверить правильно ли закрыты HTML-теги.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\09_tekst_v_dva_stolbika_0112.txt-light">
<head anchor="faq_16_09" head-level="h2">
<p>
16.9. Можно как-нибудь вывести текст в два столбца в классике?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Можно как-нибудь вывести текст в два столбца в классике? К примеру характеристики персонажей.
</p>
<p>
О:
</p>
<p>
	Да, можно. Используйте табличную вёрстку. Более того, с помощью таблиц в классике можно довольно гибко располагать элементы в окнах:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p "<table width=100%>"
<br/>*p "<tr>"
<br/>    *p "<td align=left><img src='путь к файлу картинки'></td>"
<br/>    *p "<td align=right>"
<br/>        *p "<table width=640>"
<br/>            *p "<tr><td width=75%>Сила</td><td>23</td></tr>"
<br/>            *p "<tr><td width=75%>Здоровье</td><td>300</td></tr>"
<br/>            *p "<tr><td width=75%>Ловкость</td><td>25</td></tr>"
<br/>        *p "</table>"
<br/>    *p "</td>"
<br/>*p "</tr>"
<br/>*p "</table>"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\16_вёрстка\10_map_area_0113.txt-light">
<head anchor="faq_16_10" head-level="h2">
<p>
16.10. Как работать с тегами MAP и AREA?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:	 Как разметить картинку на кликабельные зоны?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Чтобы выводить на экран изображение (тег </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
) и его разметку (теги </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
<area></tag>
<tag name="simple-string">
), необходимо в первую очередь включить распознавание HTML:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
</code>
<segment>
<p>
<tag name="simple-string">
Далее с помощью тега </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
 выводим на экран изображение:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
*p "<img src='путь к файлу изображения/картинка.jpg' usemap='#groundit'>"
</code>
<segment>
<p>
<tag name="simple-string">
В атрибуте </tag>
<tag name="tt">
src</tag>
<tag name="simple-string">
 тега указываем путь к файлу изображения, а в атрибуте </tag>
<tag name="tt">
usemap</tag>
<tag name="simple-string">
 прописываем символ </tag>
<tag name="tt">
#</tag>
<tag name="simple-string">
 (решётка) и значение, вписанное в атрибут </tag>
<tag name="tt">
name</tag>
<tag name="simple-string">
 тега </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
, о котором далее. Атрибут </tag>
<tag name="tt">
usemap</tag>
<tag name="simple-string">
 — это своего рода ссылка на соответствующий тег </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
. Таким образом вы можете разметить несколько изображений, ссылаясь из тегов </tag>
<tag name="tt">
<img></tag>
<tag name="simple-string">
 на соответстующие контейнеры </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
 с помощью атрибута </tag>
<tag name="tt">
usemap</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Теги </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
<area></tag>
<tag name="simple-string">
 используются для разметки кликабельных областей на изображении. Тег </tag>
<tag name="tt">
<map></tag>
<tag name="simple-string">
 является контейнером, объединяющим кликабельные области, каждая из которых описывается отдельным тегом </tag>
<tag name="tt">
<area></tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем контейнер MAP, не забывая указать значение атрибуту name
<br/>*p "<map name='groundit'>"
<br/>    ! перечисляем кликабельные области в тегах AREA
<br/>
<br/>    ! размечаем прямоугольную область:
<br/>    *p "<area shape='rect' coords='50,50,350,200' href='EXEC:pl ""Вы кликнули по прямоугольнику.""'>"
<br/>    ! размечаем круглую область:
<br/>    *p "<area shape='circle' coords='475,325,75' href='EXEC:pl ""Вы кликнули по круглой области.""'>"
<br/>    ! размечаем область в форме звезды
<br/>    *p "<area shape='poly' coords='100,420,139,333,80,285,160,285,180,240,197,285,260,285,211,327,245,420,171,360' href='EXEC:pl ""Вы кликнули по полигону в форму звезды.""'>"
<br/>    ! размечаем область в форме стрелки
<br/>    *p "<area shape='poly' coords='401,84,506,84,506,52,611,117,506,181,506,149,401,149' href='EXEC:pl ""Вы кликнули по полигону в форму стрелки.""'>"
<br/>! закрываем контейнер MAP
<br/>*p "</map>"
</code>
<segment>
<p>
<tag name="simple-string">
Итак, каждый тег </tag>
<tag name="tt">
<area></tag>
<tag name="simple-string">
 используется, чтобы описать отдельную кликабельную область изображения. Здесь мы используем следующие атрибуты:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
<tag name="tt">
shape</tag>
<tag name="simple-string">
 — в этом атрибуте указываем форму кликабельной области. Можно указать такие значения:</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<segment>
<p>
<tag name="tt">
rect</tag>
<tag name="simple-string">
 — задаём прямоугольную кликабельную область. При выборе такого значения для </tag>
<tag name="tt">
shape</tag>
<tag name="simple-string">
, в атрибуте </tag>
<tag name="tt">
coords</tag>
<tag name="simple-string">
 перечисляются координаты левого верхнего угла прямоугольника (X1,Y1) и координаты нижнего правого угла (X2,Y2):</tag>
</p>
</segment>
<code code-left-level="12" code-type="None">
coords='X1,Y1,X2,Y2'
</code>
</segment>
<segment>
<segment>
<p>
<tag name="tt">
circle</tag>
<tag name="simple-string">
 — задаём круглую кликабельную область. При выборе этого значения, в атрибуте </tag>
<tag name="tt">
coords</tag>
<tag name="simple-string">
 перечисляются значения: X1,Y1 — координаты центра круга; R1 — радиус в пикселях:</tag>
</p>
</segment>
<code code-left-level="12" code-type="None">
coords='X1,Y1,R1'
</code>
</segment>
<segment>
<segment>
<p>
<tag name="tt">
poly</tag>
<tag name="simple-string">
 — задаём полигональную кликабельную область, то есть многоугольник. При выборе этого значения, в атрибуте </tag>
<tag name="tt">
coords</tag>
<tag name="simple-string">
 можно прописывать довольно много значений точек, которые являются вершинами углов многоугольника, указывая координаты: X1, Y1, X2, Y2 и т.д.:</tag>
</p>
</segment>
<code code-left-level="12" code-type="None">
coords="X1,Y1,X2,Y2,X3,Y3,...,XN,YN"
</code>
</segment>
</list>
</segment>
<segment>
<p>
<tag name="tt">
coords</tag>
<tag name="simple-string">
 — в этом атрибуте перечисляются координаты областей. Выше подробно описано, какие значения, для каких форм областей следует указывать. Координаты высчитываются в пикселях от верхнего левого угла изображения (0,0). Ось X — это горизонтальная ось координат (абсцисса), ось Y — вертикальная ось координат (ордината).</tag>
</p>
</segment>
<segment>
<segment>
<p>
<tag name="tt">
href</tag>
<tag name="simple-string">
 — в данном атрибуте в обыкновенном HTML-документе как правило прописывается адрес страницы в интернете (url), однако в QSP мы можем поместить сюда строку кода, который будет выполнен при клике на области. Для этого вписываем в начале значения атрибута ключевое слово </tag>
<tag name="tt">
EXEC:</tag>
<tag name="simple-string">
 (двоеточие обязательно), а после двоеточия пишем строку кода:</tag>
</p>
</segment>
<code code-left-level="12" code-type="qsp">
href="EXEC:*pl 'Выводим текст при клике по области.' & ! строка кода"
</code>
</segment>
</list>
<segment>
<p>
Если кликабельные области пересекаются, накладываются друг на друга, реагировать на клик будет та область, которая находится выше в HTML-коде.
</p>
<p>
Обратите внимание, что в классическом QSP при наведении на кликабельную область курсор не будет менять свой вид.
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения">
<head anchor="faq_17" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения\00.txt-light">
<p>
17. Вопросы о сохранениях</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения\01_zapret_sohranenij_0114.txt-light">
<head anchor="faq_17_01" head-level="h2">
<p>
17.1. Как запретить игроку самостоятельно сохранять игру?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как запретить игроку самостоятельно сохранять игру?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
За это отвечает системная переменная </tag>
<tag name="tt">
nosave</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Если значение этой переменной отлично от нуля, игрок не может самостоятельно сохранять игру. Данный пункт в меню плеера будет не активен:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
nosave=1
</code>
<segment>
<p>
<tag name="simple-string">
При этом продолжают работать операторы </tag>
<tag name="tt">
savegame</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
opengame</tag>
<tag name="simple-string">
. Вы можете повесить данные операторы на отдельные предметы или действия внутри игры, или использовать их в ключевых точках (чекпоинты), и т.д.
</tag>
</p>
<p>
<tag name="simple-string">
Если вновь присвоить переменной </tag>
<tag name="tt">
nosave</tag>
<tag name="simple-string">
 значение 0, для игрока опять станет доступен пункт меню плеера "сохранить состояние игры":
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
nosave=0
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения\02_ne_zagruzhajutsja_sohranenija_0115.txt-light">
<head anchor="faq_17_02" head-level="h2">
<p>
17.2.  Во время теста игры делал сохранения, затем внёс в игру несколько правок, но сохранения перестали загружаться. Почему так происходит, и что теперь делать?</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
В: Во время теста игры делал сохранения, затем внёс в игру несколько правок, но сохранения перестали загружаться. Почему так происходит, и что теперь делать?
</p>
<p>
О:
</p>
<p>
Поскольку для всех игр QSP файлы сохранений создаются одинаковым образом, нельзя допустить, чтобы игроки могли загружать сохранения от одной игры в другой игре. Игрок может легко запутаться, если играет в несколько игр.
</p>
<p>
Чтобы не допустить загрузки "неправильного" файла сохранения, в QSP предусмотрен простой механизм.
</p>
<p>
Каждый раз при сохранении игры, в файл сохранения записывается хэш-сумма игры, а когда игрок пытается загрузить файл сохранения, хэш-сумма, записанная в файл, сравнивается с хэш-суммой текущей игры. Если они не совпадают, плеер указывает игроку, что он загружает неправильное сохранение.
</p>
<p>
<tag name="simple-string">
Чтобы плеер не сравнивал хэш-суммы текущей игры и записанную в файле сохранения, в QSP предусмотрен специальный режим. Этот режим включается изменением значения переменной </tag>
<tag name="tt">
debug</tag>
<tag name="simple-string">
 на значение, отличное от нуля:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
debug=1
</code>
<segment>
<p>
<tag name="simple-string">
В момент, когда значение переменной </tag>
<tag name="tt">
debug</tag>
<tag name="simple-string">
 отлично от нуля, можно загружать в свою игру любое сохранение от любой игры.
</tag>
</p>
<p>
<tag name="simple-string">
Таким образом, когда Вы занимаетесь отладкой игры, в ней обязательно нужно прописывать </tag>
<tag name="tt">
debug=1</tag>
<tag name="simple-string">
, если Вы хотите загружать сохранения, сделанные до момента правки.
</tag>
</p>
<p>
<tag name="simple-string">
Однако, если Вы сделали сохранение до того, как внесли в код строку </tag>
<tag name="tt">
debug=1</tag>
<tag name="simple-string">
, при дальнейшей загрузке этого сохранения значение переменной </tag>
<tag name="tt">
debug</tag>
<tag name="simple-string">
 вновь будет сбрасываться на ноль, и Вы не сможете вновь загрузить даже то же самое сохранение. Заранее пропишите строку </tag>
<tag name="tt">
debug=1</tag>
<tag name="simple-string">
 в своей игре уже в самом начале разработки.
</tag>
</p>
</segment>
</segment>
<head head-level="h6" anchor="launcher">
<p>
Лаунчер</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
При </tag>
<tag name="tt">
debug=1</tag>
<tag name="simple-string">
 есть опасность того, что вы сами загрузите сохранение от другой игры, это сохранение покажет вам неправильные данные, вы решите, что допустили в коде ошибку, и много времени потратите на поиск несуществующей ошибки (у меня такое бывало). Хорошо бы иметь возможность проверять игру, изменяя её файлы, и при этом не допускать загрузки сохранений от других игр.
</tag>
</p>
<p>
Такая возможность есть.
</p>
<p>
Необходимо написать игру-лаунчер — небольшой файл qsp, из которого подключаются остальные компоненты игры, в том числе и основной файл игры.
</p>
<p>
Теоретически лаунчер - это отдельная игра и хэш высчитывается только на его основе без учёта подключаемых модулей. Поэтому мы спокойно можем править модули, и сэйвы игры всё-равно будут загружаться. А вот сэйвы чужих игр - нет.
</p>
</segment>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения\03_chekpojnty_0116.txt-light">
<head anchor="faq_17_03" head-level="h2">
<p>
17.3. Как сделать чекпойнты в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать чекпойнты в игре?
</p>
<p>
	Как сделать так, чтобы игру можно было начинать с последнего сохранения?
</p>
<p>
О:
</p>
<p>
Прежде всего "последнее" сохранение мы всегда будем записывать в файл "autosave.sav". Делается это просто. Там, где нужно сохраниться пишем такую команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
savegame "autosave.sav"
</code>
<segment>
<p>
Вот и всё. Теперь у нас есть файл сохранения, к которому можно обратиться в самом начале игры, чтобы загрузить последнюю сохранённую точку. Для этого на самой первой локации в игре (например, она называется "начало") создаём действие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Продолжить игру":
<br/>    opengame "autosave.sav"
<br/>end
</code>
<segment>
<p>
Да, но мы хотим, чтобы данное действие появлялось лишь тогда, когда файл "autosave.sav" создан. То есть если игрок уже добрался до одной из контрольных точек. В противном случае, если игрок первый раз открыл игру, такое действие появляться не должно.
</p>
<p>
<tag name="simple-string">
Что ж, нам нужна некая переменная, которая будет означать наличие сохранения. Назовём эту переменную </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 и обернём действие в условие:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if savetrue=1:
<br/>    act "Продолжить игру":
<br/>        opengame "autosave.sav"
<br/>    end
<br/>end
</code>
<segment>
<p>
Значение этой переменной на момент начала игры будет равно нулю, и должно измениться на 1 в момент сохранения. Но мы не можем загрузить сохранение, если не можем получить значение переменной, такое условие мы прописали. Что же делать?
</p>
<p>
Ввести ещё один файл сохранения, назовём его "system.sav". Таким образом в момент сохранения игры мы будем писать два файла:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выставляем значение переменной-маркера на единицу
<br/>savetrue=1
<br/>! сохраняем игру в системный файл сохранения
<br/>savegame "system.sav"
<br/>! выставляем значение переменной-маркера на ноль
<br/>savetrue=0
<br/>! сохраняем состояние чекпоинта
<br/>savegame "autosave.sav"
</code>
<segment>
<p>
<tag name="simple-string">
Таким образом в момент сохранения игры мы создаём два файла сохранения: системный и непосредственно файл для продолжения игры с чекпоинта. Лучше оформить этот код на отдельной локации, назвать её например "checkpoint", а затем в нужном месте просто вызывать, используя </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
gosub "checkpoint"
</code>
<segment>
<p>
Теперь мы можем загрузить сохранение "system.sav" и при этом получим значение переменной-маркера, равное единице, но так же при этом игрок окажется на той локации, где это сохранение было сделано, а нам нужно вернуть его к стартовой локации. Как сделать это?
</p>
<p>
<tag name="simple-string">
Нужно завести локацию-обработчик события "загрузка состояния игры". Создаём новую локацию и называем её, например, "при_загрузке". Далее указываем плееру, какую именно локацию ему нужно использовать, как локацию-обработчик загрузки состояния игры. Для этого в системную переменную </tag>
<tag name="tt">
$ongload</tag>
<tag name="simple-string">
 вносим название нашей вновь созданной локации (пишем на самой первой локации в игре):
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$ongload="при_загрузке"
</code>
<segment>
<p>
На локации "при_загрузке" пишем такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! если значение переменной-маркера равно единице
<br/>if savetrue=1:
<br/>    ! выставляем ещё одну переменную маркер
<br/>    lock_resave=1
<br/>    ! возвращаемся на стартовую локацию
<br/>    goto "начало"
<br/>end
</code>
<segment>
<p>
А код на локации "начало" (самой первой локации в игре, стартовой локации) правим так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! если значение переменной проверки сохранения равно 1
<br/>if savetrue=1:
<br/>    ! сохранение есть, выводим действие
<br/>    act "Продолжить игру":
<br/>        opengame "autosave.sav"
<br/>    end
<br/>elseif lock_resave=0:
<br/>! иначе если проверка сохранения не заблокирована
<br/>    ! пытаемся открыть системное сохранение
<br/>    opengame "system.sav"
<br/>end
</code>
<segment>
<p>
Итак, что будет происходить при этом. Когда игрок первый раз запустит игру, обе переменные-маркеры будут равны нулю. Плеер попытается загрузить состояние "system.sav", но поскольку этот файл ещё не создан, плеер просто проигнорирует команду:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
opengame "system.sav"
</code>
<segment>
<p>
<tag name="simple-string">
По мере прохождения, игрок будет посещать "контрольные точки", где игра будет сохранять состояние автоматически, используя написанную нами процедуру "checkpoint". При этом перед сохранением состояния в условно-системный файл "system.sav" переменной-маркеру </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 будет присваиваться значение </tag>
<tag name="tt">
1</tag>
<tag name="simple-string">
, а перед сохранением состояния, которое мы будем использовать для загрузки "контрольной точки" ("autosave.sav"), этой переменной будет присваиваться значение </tag>
<tag name="tt">
0</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Теперь, если игрок повторно откроет игру, обе переменные-маркеры будут равны нулю. Плеер попытается загрузить состояние "system.sav", и поскольку оно теперь создано, загрузит его. Переменной-маркеру </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 будет присвоено значение </tag>
<tag name="tt">
1</tag>
<tag name="simple-string">
, так как это значение ей было присвоено перед сохранением "system.sav". Далее произойдёт автоматическое посещение локации-обработчика "при_загрузке".
</tag>
</p>
<p>
<tag name="simple-string">
На этой локации произойдёт проверка условия, правда ли переменной </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 присвоена единица, и это окажется правдой. Переменной-маркеру </tag>
<tag name="tt">
lock_resave</tag>
<tag name="simple-string">
 будет так же присвоена единица и команда </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 отправит игрока на стартовую локацию.
</tag>
</p>
<p>
<tag name="simple-string">
Теперь сработает условие, проверяющее, правда ли переменной </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 присвоена единица, и игрок увидит на экране действие "Продолжить игру".
</tag>
</p>
<p>
<tag name="simple-string">
А когда игрок выберет это действие, произойдёт загрузка состояния "autosave.sav", но поскольку в этом состоянии переменной-маркеру </tag>
<tag name="tt">
savetrue</tag>
<tag name="simple-string">
 присвоен ноль, при обращении к локации "при_загрузке" условие не сработает и перезаход на стартовую локацию повторно не произойдёт.
</tag>
</p>
<p>
Используя условно-системный файл сохранения, Вы можете не только организовать систему чекпоинтов, но и упростить для игрока различные вступительные части игры и кат-сцены при повторном входе, восстанавливать различные параметры игры частично, а не полностью, и т.д.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\17_сохранения\04_dva_fajla_0117.txt-light">
<head anchor="faq_17_04" head-level="h2">
<p>
17.4. Как написать действие, которое при каждом клике сохраняло бы игру в файлы "1.sav" и "2.sav" поочерёдно?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:	Как написать действие, которое при каждом клике сохраняло бы игру в файлы "1.sav" и "2.sav" поочерёдно?
</p>
<p>
О:
</p>
<p>
Это решается довольно просто, с помощью переменной-счётчика:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! где-то заранее устанавливаем переменную счётчик
<br/>savecount=1
<br/>
<br/>! в нужном месте пишем действие
<br/>act "Сохранить":
<br/>    if savecount=1:
<br/>        savecount=2
<br/>        savegame "1.sav"
<br/>    else
<br/>        savecount=1
<br/>        savegame "2.sav"
<br/>    end
<br/>end
</code>
<segment>
<p>
В данном случае в файле сохранения "1.sav" значение переменной-счётчика будет равно 2, а в файле "2.sav" — 1. Это позволит при загрузке игры из одного файла нажатием действия "Сохранить" записать сохранение в следующий файл.
</p>
<p>
Например, мы нажали действие "Сохранить" и сохранили игру в файл "1.sav", после чего нажатие на действие "Сохранить" должно записывать состояние в файл "2.sav". Не важно, нажмём мы действие ещё раз, или нет, при загрузке состояния из файла "1.sav" мы снова получим ситуацию, когда действие "Сохранить" должно будет записать очередное состояние в файл "2.sav".
</p>
<p>
Чтобы загружать игру из последнего сохранения, нам нужно такое действие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Загрузить последнее":
<br/>    if savecount=1:
<br/>        opengame "2.sav"
<br/>    else
<br/>        opengame "1.sav"
<br/>    end
<br/>end
</code>
<segment>
<p>
В этом случае, если мы сохранили состояние в файл "1.sav", то даже если мы загрузим состояние из этого файла, в следующий раз при выборе "Загрузить последнее" мы вновь загрузим состояние из "1.sav".
</p>
<p>
Однако если нам нужно загружать состояния из предыдущего файла, нужно создать такое действие:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Загрузить предыдущее":
<br/>    opengame "<<savecount>>.save"
<br/>end
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули">
<head anchor="faq_18" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\00.txt-light">
<p>
18. Вопросы о файлах и модулях</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\01_addqst_i_openqst_0118.txt-light">
<head anchor="faq_18_01" head-level="h2">
<p>
<tag name="simple-string">
18.1. Чем отличаются команды </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
openqst</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Чем отличаются команды </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
openqst</tag>
<tag name="simple-string">
?
</tag>
</p>
<p>
О:
</p>
<p>
Итак. У нас есть основная игра "start.qsp" и есть дополнительная игра (модуль) "mod.qsp".
</p>
<p>
Если в основной игре мы напишем:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
openqst "mod.qsp"
</code>
<segment>
<p>
То при выполнении этой команды произойдёт следующее:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Значения всех переменных не изменятся</p>
</segment>
<segment>
<p>
Если проигрываются звуковые файлы, они продолжат проигрываться</p>
</segment>
<segment>
<p>
Все предметы в окне предметов останутся.</p>
</segment>
<segment>
<p>
Текст в окне дополнительного описания останется</p>
</segment>
</list>
<segment>
<p>
Но, плеер будет работать уже с новой игрой. Т.е. все локации "start.qsp" будут удалены, а все локации "mod.qsp" буду добавлены к текущему списку локаций в плеере. Мы действительно фактически закрываем одну игру, а открываем другую, и переходим на самую первую локацию этой новой открытой игры.
</p>
<p>
Зачем это может понадобиться. Например, для разработки дополнительных миниигр в виде независимых игр. Либо, если у нас очень большая игра со множеством локаций (типа масштабной RPG), можно разбить её на части по областям, и это облегчит нам разработку, поскольку гораздо легче ориентироваться в коротком списке локаций.
</p>
<p>
Если же в основной игре мы напишем:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
inclib "mod.qsp"
</code>
<segment>
<p>
То при выполнении этой команды мы останемся в той же самой игре "start.qsp", и значения переменных не изменятся, и воспроизведение звуковых файлов продолжится, останутся и текущие действия и основное описание и так далее, и мы даже останемся на той же самой локации, из которой вызывали эту команду. Единственное, что произойдёт, это все локации из игры "mod.qsp" добавятся к списку локаций игры "start.qsp". Если же в списке локаций игры "mod.qsp" есть локации с названиями как у локаций игры "start.qsp", локации игры "mod.qsp" с идентичными названиями попросту не добавятся.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\02_launcher_0119.txt-light">
<head anchor="faq_18_02" head-level="h2">
<p>
18.2. Как сделать лаунчер?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать лаунчер?
</p>
<p>
Мне нужно, чтобы у игрока был выбор загрузить одну из двух игр, и когда он выбирает игру, она загружалась. Как это сделать?
</p>
<p>
О:
</p>
<p>
Наиболее простым и очевидным решением является написание игры-лаунчера, то есть модуля, который будет отвечать исключительно за отображение вступительной части, и предложит игроку на выбор одну из игр.
</p>
<p>
Пишем лаунчер с одной единственной локацией:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# launcher
<br/>*pl "Выберите игру:"
<br/>act "Выбрать игру №1":
<br/>    openqst 'game_1.qsp'
<br/>end
<br/>act "Выбрать игру №2":
<br/>    openqst 'game_2.qsp'
<br/>end
<br/>-- launcher
</code>
<segment>
<p>
Обратите внимание, несмотря на то, что при использовании оператора openqst не происходит удаления переменных, удаления предметов инвентаря, очистки дополнительного описания и строки ввода, а также остановки проигрываемых файлов, он открывает именно новую игру. То есть ни одна из локаций лаунчера во вновь открытой игре использоваться не будет.
</p>
<p>
<tag name="simple-string">
Если вам нужно именно подключить игру к уже текущей (к лаунчеру), используйте оператор </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# launcher
<br/>*pl "Выберите игру:"
<br/>act "Выбрать игру №1":
<br/>    inclib 'game_1.qsp'
<br/>    goto 'start_1'
<br/>end
<br/>act "Выбрать игру №2":
<br/>    inclib 'game_2.qsp'
<br/>    goto 'start_2'
<br/>end
<br/>-- launcher
</code>
<segment>
<p>
<tag name="simple-string">
Если вы аботаете с Quest Navigator, то вместо </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 нужно использовать оператор </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\03_est__li_fajl_0120.txt-light">
<head anchor="faq_18_03" head-level="h2">
<p>
18.3. Мне нужно узнать, есть ли в папке файл (картинка, музыка и т.д.). Как это сделать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Мне нужно узнать, есть ли в папке файл (картинка, музыка и т.д.). Как это сделать?
</p>
<p>
О:
</p>
<p>
К сожалению, в QSP нет специальной функции, позволяющей проверять наличие файлов в папках. Если файл отсутствует, плеер, в зависимости от типа файла, либо проигнорирует его отсутствие, либо покажет на экране ошибку.
</p>
<p>
<tag name="simple-string">
Например, если плеер не найдёт файл музыки, он просто проигнорирует команду </tag>
<tag name="tt">
play</tag>
<tag name="simple-string">
. Если плеер не найдёт файл изображения, на экран будет выведена "битая картинка". Если плеер не найдёт файл модуля, он выведет ошибку 104: "указанный файл недоступен или не найден!".
</tag>
</p>
<p>
<tag name="simple-string">
Определённо можно проверить наличие звукового файла, если сразу после запуска мелодии воспользоваться функцией </tag>
<tag name="tt">
isplay</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
play 'audio/coolmusic.mp3'
<br/>if isplay('audio/coolmusic.mp3')=-1:
<br/>    'Файл существует'
<br/>else
<br/>    'Файл не существует'
<br/>end
</code>
<segment>
<p>
Поскольку воспроизведение отсутствующих звуковых файлов не вызывает ошибки, а команда попросту игнорируется плеером, мы можем использовать этот способ для определения наличия других файлов. Да, это будет костыль, но если вы боитесь забыть, скинули вы в папку нужный файл или нет, способ вам подойдёт.
</p>
<p>
Смысл в чём.
</p>
<p>
<tag name="simple-string">
Параллельно определённому файлу храним звуковой файл без звука длительностью 1 секунда хотя бы. Этот файл у нас имеет точно то же название, что и файл, наличие которого мы хотим проверить. Сама проверка выглядит следующим образом: запускаем звуковой файл и проверяем его воспроизведение через </tag>
<tag name="tt">
isplay</tag>
<tag name="simple-string">
. Если файл отсутствует, то он просто не будет воспроизводиться и </tag>
<tag name="tt">
isplay</tag>
<tag name="simple-string">
 выдаст 0. Из чего мы твёрдо делаем вывод, что и нужного нам файла нет.
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
<br/>play 'img/picture_000345.MP3'
<br/>if isplay('img/picture_000345.MP3')=-1:
<br/>    '<img src="img/picture_000345.PNG">'
<br/>else
<br/>    'Художник забыл нарисовать картинку.'
<br/>end
</code>
<segment>
<p>
<tag name="hyperlink" href="https://mega.nz/file/2W5wgbJL#E1rCFrBpwVonlTlWHIC7xVdBWoFUoF5SFOpWcz2J2Xo">
Пример можно скачать отсюда</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Так же вы можете организовать генерацию модуля со списком файлов в указанной папке. Вот метод, предложенный </tag>
<tag name="tt">
evp</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<quote>
<segment>
<p>
	Некий исполняемый файл (это может быть даже bat-файл):
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
составляет список файлов в указанной папке/папках;</p>
</segment>
<segment>
<p>
сохраняет результаты своей работы в текстовый документ, используя синтаксис txt2gam для формирования нужных переменных или массивов;</p>
</segment>
<segment>
<p>
конвертирует этот файл в .qsp, используя txt2gam.exe;</p>
</segment>
<segment>
<p>
запускает игру.</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
	В самой игре используется функция </tag>
<tag name="tt">
INCLIB</tag>
<tag name="simple-string">
 для присоединения получившегося модуля.
</tag>
</p>
</segment>
</fquote>
<segment>
<p>
<tag name="simple-string">
Если вы используете </tag>
<tag name="hyperlink" href="https://github.com/AleksVersus/JAD_for_QSP">
JAD_QBST</tag>
<tag name="simple-string">
, у вас есть возможность прописать в файле проекта специальный параметр "scans", и тогда локация для проверки существования файла будет генерироваться автоматически на основе содержимого указанной папки.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\04_fajl_proekta_0121.txt-light">
<head anchor="faq_18_04" head-level="h2">
<p>
18.4. Перенёс файл игры из одной папки в другую. В Quest Generator пропали все папки. Почему так происходит, и как этого избежать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Перенёс файл игры из одной папки в другую. В Quest Generator пропали все папки. Почему так происходит, и как этого избежать?
</p>
<p>
О:
</p>
<p>
Если вы завели папки в проекте своей игры, то рядом с файлом игры появляется ещё один файл — файл проекта (расширение ".qproj"). Именно в нём отмечаются папки, и какие локации в каких папках расположены. Оба файла должны лежать рядом, и называться одинаково, только тогда Quest Generator покажет папки вашего проекта:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
<tag name="tt">
avs.game.qproj</tag>
</p>
</segment>
<segment>
<p>
<tag name="tt">
avs.game.qsp</tag>
</p>
</segment>
</list>
<segment>
<p>
При релизе файл проекта можно не включать в архив с игрой, игра будет работать точно так же.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\18_файлы и модули\05_fajly_tmp_0122.txt-light">
<head anchor="faq_18_05" head-level="h2">
<p>
<tag name="simple-string">
18.5. В папке с игрой стали появляться файлы с расширением </tag>
<tag name="tt">
.tmp</tag>
<tag name="simple-string">
. Что это за файлы, нужны они, и как избавиться от их появления?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: В папке с игрой стали появляться файлы с расширением </tag>
<tag name="tt">
.tmp</tag>
<tag name="simple-string">
. Что это за файлы, нужны они, и как избавиться от их появления?
</tag>
</p>
<p>
О:
</p>
<p>
Данные файлы появляются, если в папке с игрой присутствует файл "qspgui.cfg", на котором установлен атрибут "только чтение". Это файлы, которые создаются под временные нужды. Чтобы избежать размножения этих файлов, нужно снять атрибут "только чтение" с файла "qspgui.cfg".
</p>
<p>
Так же, есть мнение, что можно избежать появления этих файлов, если установить данный атрибут на всю папку с плеером.
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски">
<head anchor="faq_19" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\00.txt-light">
<p>
19. Изыски</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\01_ascii_grafika_0123.txt-light">
<head anchor="faq_19_01" head-level="h2">
<p>
19.1. Как использовать ASCII-графику в QSP?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как использовать ASCII-графику в QSP?
</p>
<p>
О:
</p>
<p>
	Вывод ASCII-графики задача довольно простая. Нужно включить любой моноширинный шрифт, и ASCII графика будет выводиться правильно. Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$fname="Courier New"
<br/>*pl "
<br/>               ..
<br/>             .':'':..
<br/>          .''  :    '':..
<br/>        .'     :        '':..
<br/>      .'       :            '':..
<br/>   ..'         :                '':..
<br/> .'            :                    '':.
<br/>:''.....       :              ....'''' :
<br/>:       '''''..:..    ....''''         :
<br/>:              :  '':'                 :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :    :                  :
<br/>:              :  ..:.                 :
<br/>:       .....'':''    ''''....         :
<br/>:..'''''       :              ''''.... :
<br/> '.            :                     .:'
<br/>   ''.         :                 ..''
<br/>      '.       :             ..''
<br/>        '.     :         ..''
<br/>          '..  :     ..''
<br/>             '.: ..''
<br/>               ''
<br/>"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\02_kak_vstavit__video_v_igru_0124.txt-light">
<head anchor="faq_19_02" head-level="h2">
<p>
19.2. Как вставить в игру видео?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как вставить в игру видео?
</p>
<p>
О:
</p>
<p>
В классическом плеере воспроизведение видео не поддерживается, поэтому единственное, что вы можете сделать — это вставить GIF-анимацию.
</p>
<p>
Видео воспроизводятся в qSpider, для этого пользуемся специальным тегом:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl '<video loop src="video/clip.WebM" width="800" height="400" autoplay />'
</code>
<segment>
<p>
Так же есть плеер с поддержкой webm от Sonnix`а.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\03_tekst_pobukvenno_0125.txt-light">
<head anchor="faq_19_03" head-level="h2">
<p>
19.3. Как сделать так, чтобы текст появлялся на экране постепенно? По буквам?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать так, чтобы текст появлялся на экране постепенно? По буквам?
</p>
<p>
О:
</p>
<p>
В самом простом виде это можно реализовать через цикл с задержкой:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! вносим текст в переменную
<br/>$stroka='А можно ли сделать так, чтобы текст появлялся постепенно?'
<br/>! выставляем счётчик
<br/>i=1
<br/>loop local i=1 while i<len($stroka)+1 step i+=1:
<br/>! пока значение счётчика не превысило длину строки
<br/>    ! задержка 250 мс
<br/>    wait 250
<br/>    ! выводим следущую букву из нашей строки
<br/>    *p $mid($stroka,i,1)
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Однако оператор </tag>
<tag name="tt">
wait</tag>
<tag name="simple-string">
 "подвешивает" игру на время задержки, в результате чего игрок не может ничего сделать, пока текст не будет выведен полностью. Если нужно вывести текст побуквенно, но при этом сохранить для игрока возможность взаимодействовать с игрой, необходимо использовать локацию-счётчик.
</tag>
</p>
<p>
Для начала нужно создать локацию-счётчик (если ещё не создана):
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
создаём локацию, название может быть любым, например "реалтайм".</p>
</segment>
<segment>
<segment>
<p>
указываем плееру, какую локацию ему нужно использовать, как локацию-счётчик. Пишем, например, на самой первой локации в игре:</p>
</segment>
<code code-left-level="8" code-type="qsp">
$counter="реалтайм"
</code>
</segment>
</list>
<segment>
<p>
На локации-счётчик можно написать вот такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $stroka<>'':
<br/>! если в переменной строка есть какое либо значение
<br/>    ! выставляем контрольную переменную (она же значение таймера)
<br/>    control=50
<br/>    ! выставляем период обращения к локации-счётчику
<br/>    settimer control
<br/>    ! выводим первую букву из оставшейся строки
<br/>    *p $mid($stroka,1,1)
<br/>    ! если длина строки больше 1
<br/>    if len($stroka)>1:
<br/>        ! вырезаем из неё все буквы, начиная со второй
<br/>        ! и присваиваем той же переменной
<br/>        $stroka=$mid($stroka,2)
<br/>    else
<br/>        ! иначе
<br/>        ! выводим перевод строки
<br/>        *pl
<br/>        ! присваиваем пустое значение
<br/>        $stroka=''
<br/>    end
<br/>elseif control=50:
<br/>! иначе если в контрольной переменной стоит значение 50
<br/>    ! меняем значение контрольной переменной
<br/>    control=500
<br/>    ! выставляем период обращения к локации-счётчику
<br/>    settimer control
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Теперь, чтобы строка вывелась побуквенно, достаточно присвоить текст переменной </tag>
<tag name="tt">
$stroka</tag>
<tag name="simple-string">
 на любой локации:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$stroka="А можно ли сделать так, чтобы текст появлялся постепенно, но игрок продолжал взаимодействовать с игрой?" 
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\04_zaschitit__ot_chita_0126.txt-light">
<head anchor="faq_19_04" head-level="h2">
<p>
19.4. Как защитить игру от чита?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как защитить игру от чита?
</p>
<p>
О:
</p>
<p>
Файлы игр QSP — это обычные текстовые файлы, символы в которых просто особым образом зашифрованы. Шифр этот довольно простой, поэтому легко ломается любой пароль, какой бы вы ни повесили на игру.	
</p>
<p>
Есть более тонкий способ защитить игру от открытия Quest Generator`ом. Его применял в своих модулях Olegus. Но и этот метод неэффективен, и при наличии мозгов в голове читера игра легко ломается.
</p>
<p>
Невозможно защитить игру от недобросовестного игрока. Единственное, что вы можете, — это написать максимально интересную игру без багов и рутины. Лезть в код такой игры, чтобы взломать или облегчить себе прохождение, не захочется.
</p>
<p>
К тому же, если игрок лезет в код Вашей игры, это его проблемы, а не Ваши. Он сам себе спойлерит и лишает себя впечатлений.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\05_kak_zadejstvovat__klaviaturu_v_igre_0127.txt-light">
<head anchor="faq_19_05" head-level="h2">
<p>
19.5. Как задействовать клавиатуру в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как задействовать клавиатуру в игре?
</p>
<p>
О:
</p>
<p>
Первые девять действий привязываются к кнопкам на цифровой клавиатуре. То есть нажать любое из этих действий по факту можно, нажав по одному из чисел на цифровой клавиатуре.
</p>
<p>
<tag name="simple-string">
Таким образом, например, в игре "Серафим" от </tag>
<tag name="tt">
Mioirel</tag>
<tag name="simple-string">
 организовано перемещение по карте. Перемещение на Север, Юг, Запад, Восток привязано соответственно к клавишам "8", "2", "4", "6".
</tag>
</p>
<p>
<tag name="simple-string">
В qSpider вы можете привязывать </tag>
<tag name="hyperlink" href="wiki.qsp.org/help:qspider_gamecfg#naznachenie_gorjachix_klavish_gamehotkeys">
к действиям вообще любые клавиши</tag>
<tag name="simple-string">
 на клавиатуре. В классическом плеере подобное тоже можно реализовать, но через костыль:
</tag>
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Игрок должен будет установить курсор в поле ввода</p>
</segment>
<segment>
<p>
<tag name="simple-string">
При нажатии игроком клавиши с буквой, на локации-счётчик будет возвращаться значение из строки ввода с помощью функции </tag>
<tag name="tt">
$user_text</tag>
<tag name="simple-string">
. По этому значению выполняется некий код.</tag>
</p>
</segment>
<segment>
<p>
Далее прямо с локации счётчик поле ввода очищается командой cmdclear, и игрок снова может вводить букву.</p>
</segment>
</list>
<segment>
<p>
Естественно у этого метода есть масса недостатков и применять его можно в случае крайней нужды.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\06_propustit__glavy_0128.txt-light">
<head anchor="faq_19_06" head-level="h2">
<p>
19.6. Как пропустить прохождение нескольких глав, чтобы протестировать вновь написанную главу и только её?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как пропустить прохождение нескольких глав, чтобы протестировать вновь написанную главу и только её?
</p>
<p>
О:
</p>
<p>
Проще всего написать в самом начале игры действие с переходом к нужной главе:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Тест 15 главы":
<br/>    goto "глава 15"
<br/>end
</code>
<segment>
<p>
Естественно, если в этой главе необходимы какие-то конкретные значения конкретных переменных, нужно в том же действии прописать значения всех этих переменных.
</p>
<p>
Другой, более универсальный вариант: создать отладчик, или воспользоваться готовым решением. См. вопрос "Как из под плеера выполнить произвольную строку кода".
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\07_otladchik_0129.txt-light">
<head anchor="faq_19_07" head-level="h2">
<p>
19.7. Как из под плеера выполнить произвольную строку кода?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как из под плеера выполнить произвольную строку кода?
</p>
<p>
О:
</p>
<p>
В этом плане самое удобное — использовать строку ввода. Поскольку в неё можно ввести любой текст, соответственно и любой код можно будет выполнить из под неё. Для этого нам потребуется простейший отладчик.
</p>
<p>
Простейший отладчик можно сделать самому. Для этого в самой первой локации игры делаем следующее:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! включаем отображение строки ввода:
<br/>showinput 1
<br/>! задаём локацию-обработчик строки ввода:
<br/>$usercom = "userCom"
</code>
<segment>
<p>
<tag name="simple-string">
Название локации, которую используем в качестве локации-обработчика строки ввода, может быть любым, но его необходимо обязательно присвоить переменной </tag>
<tag name="tt">
$usercom</tag>
<tag name="simple-string">
, чтобы игра поняла, какую именно локацию использовать в качестве локации-обработчика строки ввода.
</tag>
</p>
<p>
<tag name="simple-string">
Создаём локацию с именем "userCom" (либо с тем именем, что вы указали в </tag>
<tag name="tt">
$usercom</tag>
<tag name="simple-string">
), где пишем следующее:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
dynamic $user_text
</code>
<segment>
<p>
Вот и всё. Теперь любая команда, введённая в строку ввода, будет выполнена, как обычный код. Например, если вам потребуется увидеть значение переменной, вы просто вводите название этой переменной в строку ввода и нажимаете "enter". Если необходимо срочно попасть на другую локацию во время теста игры, просто вводите в строку ввода
</p>
</segment>
<code code-left-level="0" code-type="qsp">
goto "название_локации_на_которую_хотите_попасть"
</code>
<segment>
<p>
и нажимаете клавишу "enter".
</p>
<p>
<tag name="simple-string">
Если вы хотите самостоятельно написать отладчик с более широкими возможностями, ознакомьтесь с видеоуроком от Aleks Versus </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=dVtRAlhLY2E&t=1967s">
"Отладчик"</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Так же можете воспользоваться уже готовым решением и скачать </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&id=71&Itemid=56">
отладчик от WEREWOLF</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\08_na_kakom_ustrojstve_0130.txt-light">
<head anchor="faq_19_08" head-level="h2">
<p>
19.8. Как узнать, на каком устройстве запущена игра? Телефон, компьютер, планшет?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как узнать, на каком устройстве запущена игра? Телефон, компьютер, планшет?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В классической версии плеера это сделать невозможно. Существует только функция проверки номера базовой версии плеера </tag>
<tag name="tt">
$QSPVER</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
/* В Quest Navigator введена функция проверки платформы:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$GETPLAYER('platform')
</code>
<segment>
<p>
<tag name="simple-string">
Эта функция так же обладает рядом других возможностей, например, она может подсказать, в каком именно плеере запущена игра, однако пока что ею нельзя воспользоваться для адаптации игры одновременно к Навигатору и классическому плееру, так как и в Навигаторе с новой библиотекой, где есть эта функция, и в классическом плеере, где этой функции нет, </tag>
<tag name="tt">
$QSPVER</tag>
<tag name="simple-string">
 вернёт вам версию плеера "5.7.0". */
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\09_obnovlenie_peremennyh_na_akrane_0131.txt-light">
<head anchor="faq_19_09" head-level="h2">
<p>
19.9. Как обновлять переменные на экране?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как обновлять переменные на экране?
</p>
<p>
О:
</p>
<p>
Очень частый вопрос, который происходит от непонимания того, в каком порядке плеер выполняет код.
</p>
<p>
Например, автор пишет вывод здоровья в окне дополнительного описания так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
pl "Ваше здоровье <<health>>/100"
</code>
<segment>
<p>
<tag name="simple-string">
Переменная </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 в данном случае показывает уровень здоровья главного героя. Далее автор меняет значение переменной
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
health=health+20
</code>
<segment>
<p>
И ожидает, что и на экране значение изменится, но в окне дополнительного описания изменения не происходят.
</p>
<p>
А всё дело в том, что плеер выполняет команды последовательно, а кроме выполнения команд ничего иного делать не умеет.
</p>
<p>
Когда плеер выполняет команду
</p>
</segment>
<code code-left-level="0" code-type="qsp">
pl "Ваше здоровье <<health>>/100"
</code>
<segment>
<p>
Происходит следующее:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
<tag name="simple-string">
Плеер видит оператор </tag>
<tag name="tt">
pl</tag>
<tag name="simple-string">
 и понимает, что ему нужно вывести некий текст в окно дополнительного описания. Данный текст плееру передан в виде конкретного значения, однако в этом значении присутствует подвыражение "<<health>>" (так же оно называется вложенным выражением).</tag>
</p>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
Плеер "раскрывает" подвыражение. То есть вычисляет его значение и подставляет это значение вместо подвыражения в строку. Например, если значение переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 в этот момент было равно 50, плеер подставит число 50 вместо подвыражения, и теперь команда будет для него выглядеть так:</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
pl "Ваше здоровье 50/100"
</code>
</segment>
<segment>
<p>
<tag name="simple-string">
Строка передаётся оператору </tag>
<tag name="tt">
pl</tag>
<tag name="simple-string">
, и оператор </tag>
<tag name="tt">
pl</tag>
<tag name="simple-string">
 выводит строку в окно дополнительного описания, что собственно и видит игрок.</tag>
</p>
</segment>
</list>
<segment>
<p>
Что же происходит, когда выполняется команда
</p>
</segment>
<code code-left-level="4" code-type="qsp">
health=health+20
</code>
<segment>
<p>
<tag name="simple-string">
А вот что. Плеер вычисляет значение выражения </tag>
<tag name="tt">
health+20</tag>
<tag name="simple-string">
, подставляя значение переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 (равно 50), и получает конкретное значение (50+20 равно 70), и уже это конкретное значение возвращает переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 (теперь в переменной </tag>
<tag name="tt">
health</tag>
<tag name="simple-string">
 значение 70). И всё. Здесь нет указания плееру "обновить" значение на экране. Только вычислить.
</tag>
</p>
<p>
Чтобы значение в окне дополнительного описания "обновилось", нужно:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Стереть старое значение в окне дополнительного описания</p>
</segment>
<segment>
<p>
Вывести новое значение в окне дополнительного описания</p>
</segment>
</list>
<segment>
<p>
Простой код для этого:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! меняем значение переменной
<br/>health=health+20
<br/>! стираем весь текст из окна доп.описания
<br/>clr
<br/>! выводим новый текст на экран
<br/>pl "Ваше здоровье <<health>>/100"
</code>
<segment>
<p>
Таким образом всякий раз, изменив значение переменной, вам нужно повторно вывести его на экран, чтобы игрок увидел "обновление" этого значения.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\19_изыски\10_tekst_snizu_vverh_0132.txt-light">
<head anchor="faq_19_10" head-level="h2">
<p>
19.10. Как сделать, чтобы текст выводился снизу вверх?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
/</tag>
<tag name="italic">
 Перенести данный вопрос в раздел изыски </tag>
<tag name="simple-string">
/
</tag>
</p>
<p>
В: Как сделать, чтобы текст выводился снизу вверх? Пробовал решить через выравнивание внутри ячейки таблицы, но ничего не получается.
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
В классическом плеере нет поддержки атрибута вертикального выравнивания </tag>
<tag name="tt">
valign</tag>
<tag name="simple-string">
 для ячеек таблиц. Поэтому такой метод не сработает. К тому же атрибут </tag>
<tag name="tt">
height</tag>
<tag name="simple-string">
 в классическом плеере так же не работает, и невозможно стилизовать ячейку, не говоря о блоке </tag>
<tag name="tt">
<div></tag>
<tag name="simple-string">
. Поэтому в классическом плеере приходится использовать костыль: добивать пустые строки перед строкой, которая должна выводиться снизу.
</tag>
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи">
<head anchor="faq_20" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\00.txt-light">
<p>
20. Конкретные задачи</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\01_vozvrat_na_predyduschuju_lokatsiju_0133.txt-light">
<head anchor="faq_20_01" head-level="h2">
<p>
20.1. Как сделать возврат на предыдущую локацию?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать возврат на предыдущую локацию?
</p>
<p>
О:
</p>
<p>
В общем виде это делается так:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
"Запоминаем" название текущей локации в какой-нибудь переменной.</p>
</segment>
<segment>
<p>
При переходе на новую локацию создаём действие, гиперссылку или предмет, по нажатию на которые произойдёт переход на предыдущую локацию (которую мы "запомнили").</p>
</segment>
</list>
<segment>
<p>
Для примера рассмотрим пару частных случаев.
</p>
<p>
Сделаем действие, которое будет появляться в каждой локации, и по нажатию на которое можно будет вернуться на предыдущую посещённую локацию.
</p>
<p>
Для начала создадим локацию-обработчик перехода на новую локацию. Назвать её можно как угодно, например "при_переходе".
</p>
<p>
<tag name="simple-string">
Теперь нужно указать плееру, какую локацию он должен использовать как локацию-обработчик перехода на новую локацию. Для этого в переменную </tag>
<tag name="tt">
$onnewloc</tag>
<tag name="simple-string">
 помещаем название нашей новой созданной локации. Пишем, например, на самой первой локации в игре:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$onnewloc="при_переходе"
</code>
<segment>
<p>
<tag name="simple-string">
Теперь всякий раз при переходе на локацию по </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 автоматически будет выполняться код локации "при_переходе". Вот на ней мы и пишем следующий код:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!#при_переходе
<br/>! сохраняем название предыдущей посещённой локации
<br/>$back_loc=$now_loc
<br/>! запоминаем название текущей локации
<br/>$now_loc=$curloc
<br/>
<br/>! теперь если нам есть куда вернуться
<br/>if $back_loc<>"":
<br/>    ! создаём действие возврата
<br/>    act "Вернуться":
<br/>        goto $back_loc
<br/>    ! закрываем действие
<br/>    end
<br/>! закрываем условие
<br/>end
</code>
<segment>
<p>
Вот такой короткий код позволит нам возвращаться на предыдущую локацию.
</p>
<p>
<tag name="simple-string">
К примеру, если игрок посетил сначала локацию "коридор", в </tag>
<tag name="tt">
$now_loc</tag>
<tag name="simple-string">
 записалось название "коридор". Затем он перешёл на локацию "спальня", в </tag>
<tag name="tt">
$back_loc</tag>
<tag name="simple-string">
 записалось значение из </tag>
<tag name="tt">
$now_loc</tag>
<tag name="simple-string">
, то есть "коридор", а в </tag>
<tag name="tt">
$now_loc</tag>
<tag name="simple-string">
 — "спальня". Если нажать действие "Вернуться", игрок вернётся на локацию "коридор".
</tag>
</p>
<p>
У этого кода есть ряд недостатков. Например, здесь не учтён случай, когда игрок совершает переход на текущую локацию. Так же, если игрок уже вернулся на локацию "коридор", то при нажатии действия "Вернуться", он вновь попадёт на локацию "спальня", и так это действие будет перекидывать его между двумя локациями.
</p>
<p>
Если есть необходимость "пролистывать" локации в порядке обратном прохождению, можно немного модифицировать код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!#при_переходе
<br/>if $back_loc[]<>$curloc:
<br/>! если в последней ячейке массива
<br/>! ещё не записано название текущей локации
<br/>    ! вписываем
<br/>    $back_loc[]=$curloc
<br/>end
<br/>
<br/>! создаём действие возврата
<br/>act "Вернуться":
<br/>    ! получаем размер массива
<br/>    local array_size=arrsize('$back_loc')
<br/>    ! удаляем последнюю ячейку
<br/>    killvar '$back_loc',array_size-1
<br/>    ! переходим на предыдущую локацию
<br/>    goto $back_loc[]
<br/>! закрываем действие возврата
<br/>end
</code>
<segment>
<p>
Данный код лишён недостатков предыдущего и удобен там, где может потребоваться возвращаться на несколько локаций назад. Например, в книгах-играх.
</p>
<p>
Если нам нужен предмет, который будет работать, как действие "Вернуться", снова изменим код.
</p>
<p>
Во-первых, нам понадобится ещё одна служебная локация — локация-обработчик выделения предмета. Опять же, название может быть любым, например, "предмет_выделен". И как и с локацией-обработчиком перехода на новую локацию, необходимо указать плееру, какую локацию ему следует использовать как локацию-обработчик выделения предмета. Пишем, например на самой первой локации в игре:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$onobjsel="предмет_выделен"
</code>
<segment>
<p>
И добавляем в окно предметов предмет для возврата. Можно так же на самой первой локации:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
addobj "Вернуться"
</code>
<segment>
<p>
На локации "при_переходе" оставляем только эту часть:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
!#при_переходе
<br/>if $back_loc[]<>$curloc:
<br/>    $back_loc[]=$curloc
<br/>end
</code>
<segment>
<p>
На локации "предмет_выделен" пишем следующее:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if $selobj="Вернуться":
<br/>! если выделен предмет "Вернуться"
<br/>    local array_size=arrsize('$back_loc')
<br/>    killvar '$back_loc',array_size-1
<br/>    goto $back_loc[]
<br/>end
</code>
<segment>
<p>
Модифицируя и комбинируя эти способы, вы можете добиться нужного поведения кнопок для возврата на предыдущие локации.
</p>
<p>
Так же почитайте тему "Как сделать?", там не раз задавлись подобные вопросы, наверняка вы найдёте подходящий вариант для себя.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\02_proverka_chiotnosti_0134.txt-light">
<head anchor="faq_20_02" head-level="h2">
<p>
20.2. Как проверить число на чётность?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как проверить число на чётность?
</p>
<p>
О:
</p>
<p>
Задача довольно простая. В QSP есть функция, которая позволяет получить остаток от деления любого числа на любое.
</p>
<p>
Чётные числа делятся на 2 нацело, это значит, что остаток от деления таких чисел на 2 равен 0. Поэтому код проверки чётности можно записать так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if m mod 2 = 0:
<br/>! если число делится на 2 без остатка, оно чётное
<br/>    "Чётное число"
<br/>else
<br/>! если число не делится на 2 без остатка, оно нечётное
<br/>    "Нечётное число"
<br/>end
</code>
<segment>
<p>
Можно и покороче:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$iif((m mod 2)=0,"Чётное число","Нечётное число")
</code>
<segment>
<p>
Таким образом можно проверять делимость любого числа на любое. Например, проверить, делится ли число на 3:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$iif((m mod 3)=0,"Делимое на 3","Неделимое на 3")
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\03_shans_vypadenija_0135.txt-light">
<head anchor="faq_20_03" head-level="h2">
<p>
20.3. Как сделать шанс на выпадение определённой вещи?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать шанс на выпадение определённой вещи? Например 25 процентный шанс на то, что в сундуке окажется золотая чаша?
</p>
<p>
О:
</p>
<p>
В самом простом виде, когда мы имеем дело с одним конкретным предметом и приблизительно знаем шансы его выпадения, можно сделать весьма простой алгоритм:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! задаём шанс выпадения предмета (якобы в процентах) — предел от 1 до ...
<br/>chance=25
<br/>! теперь выбрасываем случайное число от 1 до 100
<br/>bones=rand(1,100)
<br/>! проверяем попало ли выпавшее число в заданный нами предел
<br/>if bones<=chance:
<br/>! если выпавшее число меньше либо равно заданному
<br/>    ! получаем предмет
<br/>    addobj "Золотая чаша"
<br/>    "Вы нашли в сундуке золотую чашу."
<br/>else
<br/>! в противном случае ничего не получаем
<br/>    "Вы ничего не нашли в сундуке."
<br/>end
</code>
<segment>
<p>
Чуть более сложной задачей становится выбор из нескольких вариантов предметов. Эта задача осложняется тем, что начинающие авторы продолжают применять подход с процентным значением шансов к большому набору предметов:
</p>
</segment>
<code code-left-level="4" code-type="None">
Золотая чаша - 25%
<br/>Кувшин - 25%
<br/>Вострый меч — 50%
<br/>Убольшающее зелье — 25%
</code>
<segment>
<p>
Если сложить все процентные значения в этом случае, мы получаем 125% на все предметы, но такого не может быть.
</p>
<p>
На самом деле данная запись означает вот что: золотая чаша, кувшин и убольшающее зелье имеют равные шансы для выпадения, но по сравнению с любым из них вострый меч должен выпадать чаще (приблизительно в два раза). Однако шанс выпадения вострого меча в этом случае на треть меньше, чем шанс выпадения золотой чаши, либо кувшина, либо убольшающего зелья.
</p>
<p>
Всё это говорит нам о том, что мы имеем дело уже не с процентными соотношениями, а с коэффициентами соотношений. Начнём разбор этой ситуации с двух предметов:
</p>
</segment>
<code code-left-level="4" code-type="None">
Вострый меч — 50
<br/>Убольшающее зелье — 25
</code>
<segment>
<p>
Теперь мы знаем, что это не проценты, а коэффициенты соотношений шанса выпадения. Делим 50 на 25, и понимаем, что Вострый меч должен выпадать вдвое чаще, чем Убольшающее зелье. При условии, что хоть один предмет должен выпасть обязательно, составляем следующий алгоритм:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! максимальное значение случайного числа (складывается из коэффициентов)
<br/>bones_max=50+25
<br/>! определяем отрезок для меча (от 1 до 50)
<br/>chance_sword=50
<br/>! определяем отрезок для зелья (от 51 до 75)
<br/>chance_potion=75
<br/>! выбрасываем случайное число от 1 до bones_max
<br/>bones=rand(1,bones_max)
<br/>! теперь используя сложное условие проверяем отрезки
<br/>if bones<=chance_sword:
<br/>! если мы уложились в отрезок для меча
<br/>    ! получаем меч
<br/>    addobj "Вострый меч"
<br/>elseif bones<=chance_potion:
<br/>! иначе если мы уложились в отрезок для зелья
<br/>    ! получаем зелье
<br/>    addobj "Убольшающее зелье"
<br/>end
</code>
<segment>
<p>
Теперь можно составить алгоритм для случая с четырьмя предметами. Он не будет сильно отличаться от предыдущего:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! максимальное значение числа
<br/>bones_max=50+25+25+25
<br/>! отрезок меча (1-50)
<br/>chance_sword=50
<br/>! отрезок зелья (51-75)
<br/>chance_potion=75
<br/>! отрезок кувшина (76-100)
<br/>chance_jug=100
<br/>! отрезок чаши (101-125)
<br/>chance_cup=125
<br/>! выбрасываем число
<br/>bones=rand(1,bones_max)
<br/>! получаем выпавший предмет
<br/>if bones<=chance_sword:
<br/>    addobj "Вострый меч"
<br/>elseif bones<=chance_potion:
<br/>    addobj "Убольшающее зелье"
<br/>elseif bones<=chance_jug:
<br/>    addobj "Кувшин"
<br/>elseif bones<=chance_cup:
<br/>    addobj "Золотая чаша"
<br/>end
</code>
<segment>
<p>
Что если мы хотим, чтобы в принципе предмет мог выпасть с 50% вероятностью, но между собой они делили шансы выпадения по-прежнему? Просто увеличиваем максимальное значение числа вдвое:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! максимальное значение числа
<br/>bones_max=(50+25+25+25)*2
<br/>! отрезок меча (1-50)
<br/>chance_sword=50
<br/>! отрезок зелья (51-75)
<br/>chance_potion=75
<br/>! отрезок кувшина (76-100)
<br/>chance_jug=100
<br/>! отрезок чаши (101-125)
<br/>chance_cup=125
<br/>! выбрасываем число
<br/>bones=rand(1,bones_max)
<br/>! получаем выпавший предмет
<br/>if bones<=chance_sword:
<br/>    addobj "Вострый меч"
<br/>elseif bones<=chance_potion:
<br/>    addobj "Убольшающее зелье"
<br/>elseif bones<=chance_jug:
<br/>    addobj "Кувшин"
<br/>elseif bones<=chance_cup:
<br/>    addobj "Золотая чаша"
<br/>else
<br/>! или ничего не получаем
<br/>    "Вы ничего не нашли"
<br/>end
</code>
<segment>
<p>
Конечно же данное решение не является универсальным, и для более универсального решения рамок обычного F.A.Q не хватит, но в большинстве случаев для написания сносной системы случайного выпадения предметов хватает и данного решения. Главное помнить, что выбирая между разными предметами мы уже работаем не с чистой вероятностью выпадения, а с тем, насколько чаще один предмет выпадает по отношению к другим предметам.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\04_vyvod_teksta_sverhu_0136.txt-light">
<head anchor="faq_20_04" head-level="h2">
<p>
20.4. Как сделать, чтобы текст выводился не внизу окна основного описания, а сверху?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать, чтобы текст выводился не внизу окна основного описания, а сверху?
</p>
<p>
О:
</p>
<p>
Проще всего написать отдельную локацию, и потом вызывать её всякий раз, когда понадобится добавить текст вверху окна основного описания. Локация будет называться "p.top":
</p>
</segment>
<code code-left-level="4" code-type="qsp">
!#p.top
<br/>local $top_text = $args[0] & ! текст, который надо вывести сверху
<br/>!запоминаем текст в окне основного описания
<br/>local $main_txt = $maintxt
<br/>! очищаем окно основного описания
<br/>*clr
<br/>! выводим строку
<br/>*pl $top_text
<br/>! выводим текст, который был ранее
<br/>*p $main_txt
</code>
<segment>
<p>
Теперь, чтобы добавить текст сверху, в нужном месте:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
gs 'p.top','Строка, которая выведется над основным описанием!'
</code>
<segment>
<p>
Этот пример можно развить:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
local $top_text = $args[0] & ! текст, выводимый сверху
<br/>local $command = $iif($args[1]<>"", $args[1], "*pl") & ! команда, с помощью которой нужно вывести текст
<br/>local $screen = $mid($args[1],1,1) & ! получаем первый символ из команды
<br/>local $text = ""
<br/>if $screen="*":
<br/>! если первый символ команды выведения текста *
<br/>    ! значит нам нужен текст из окна основного описания
<br/>    $text=$maintxt
<br/>else
<br/>! в противном случае
<br/>    ! нам нужен текст из окна дополнительного описания
<br/>    $text=$stattxt
<br/>end
<br/>! теперь с помощью dynamic повторяем действия из предыдущего примера:
<br/>dynamic "
<br/>    <<$screen>>clr
<br/>    <<$command>> $args[0]
<br/>    <<$screen>>p $args[1]
<br/>",$top_text,$text
</code>
<segment>
<p>
Теперь можно выводить текст в окне основного и дополнительного описаний сверху разными способами:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
gs 'p.top','Строка плюс переход на новую строку в окне основного описания'
<br/>gs 'p.top','Строка плюс переход на новую строку в окне дополнительного описания','pl'
<br/>gs 'p.top','Переход на новую строку плюс строка в окне доп описания','nl'
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\05_udalit__chast__teksta_0137.txt-light">
<head anchor="faq_20_05" head-level="h2">
<p>
20.5. Как можно удалить часть текста из описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как можно удалить часть текста из описания?
</p>
<p>
О:
</p>
<p>
Если вы точно знаете, какую часть описания вам нужно удалить, и она не повторяется несколько раз, можно использовать простой алгоритм:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! запоминаем описание
<br/>local $description=$maintxt
<br/>! С помощью функции $replace заменяем полученное значение на значение с удалённой строкой
<br/>$description=$replace($description,"строка, которую хотим удалить")
<br/>! стираем основное описание
<br/>*clr
<br/>! выводим новое
<br/>*p $description
</code>
<segment>
<p>
Возможно вам понадобится удалить часть описания, которая несколько раз повторяется в тексте. Тогда придётся воспользоваться более сложным алгоритмом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! строка,которую хотим удалить
<br/>$killstr="#F92672"
<br/>! запоминаем описание
<br/>$description=$maintxt
<br/>! с помощью цикла и функции instr, определяем, с какого символа начинается вхождение
<br/>local iNum=3 & ! номер вхождения, которое хотим удалить
<br/>local i=0 & ! счётчик
<br/>local fromPos=0 & ! с какого символа начинать поиск вхождения
<br/>local in_str=0 & ! с какого символа начинается вхождение
<br/>loop while 1 step i+=1:
<br/>    in_str=instr($description,$killstr,fromPos+1)
<br/>    if i<iNum and in_str<>fromPos:
<br/>        fromPos=in_str
<br/>    else
<br/>        ! вырезаем первую часть до вхождения
<br/>        $part_1=$mid($description,1,fromPos-1)
<br/>        ! вырезаем часть после вхождения
<br/>        $part_2=$mid($description,fromPos+len($killstr))
<br/>        ! собираем новое описание
<br/>        $description=$part_1+$part_2
<br/>        jump 'end_cycle' & ! прерываем цикл
<br/>    end
<br/>end
<br/>:end_cycle
<br/>! стираем основное описание
<br/>*clr
<br/>! выводим новое
<br/>*p $description
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\06_html_bez_otkljuchenija_html_0138.txt-light">
<head anchor="faq_20_06" head-level="h2">
<p>
<tag name="simple-string">
20.6. Как вывести на экран HTML-разметку, не отключая режим распознавания HTML? То есть при </tag>
<tag name="tt">
usehtml=1</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
В: Как вывести на экран HTML-разметку, не отключая режим распознавания HTML? То есть при </tag>
<tag name="tt">
usehtml=1</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
О:
</p>
<p>
На самом деле сделать это довольно просто. Достаточно заменить в исходном тексте угловые скобки на соответствующие коды спец-символов HTML.
</p>
<p>
Для примера, выведем размеченный с помощью HTML текст из окна основного описания в окно дополнительного описания:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! фиксируем содержимое окна основного описания в переменной
<br/>$description=$maintxt
<br/>! с помощью функции replace заменяем левую угловую скобку на код &lt;
<br/>$description=$replace($description,'<','&lt;')
<br/>! с помощью функции replace заменяем правую угловую скобку на код &gt;
<br/>$description=$replace($description,'>','&gt;')
<br/>! выводим получившийся результат в окно доп.описания
<br/>p $description
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\07_maksimal_naja_peremennaja_0139.txt-light">
<head anchor="faq_20_07" head-level="h2">
<p>
20.7. Есть несколько переменных с разными значениями. Как получить имя переменной, в которой находится наибольшее значение?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Есть несколько переменных с разными значениями. Как получить имя переменной, в которой находится наибольшее значение?
</p>
<p>
О:
</p>
<p>
Для примера возьмём несколько переменных и значений:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
VariableA=1
<br/>VariableB=2
<br/>VariableC=3
<br/>VariableD=4
</code>
<list list-type="ol-list">
<segment>
<segment>
<p>
Вносим названия этих переменных и их значения в два разных массива под одним индексом:</p>
</segment>
<code code-left-level="4" code-type="qsp">
$varname[0]="VariableA" & varvalue[0]=VariableA
<br/>$varname[1]="VariableB" & varvalue[1]=VariableB
<br/>$varname[2]="VariableC" & varvalue[2]=VariableC
<br/>$varname[3]="VariableD" & varvalue[3]=VariableВ
</code>
</segment>
<segment>
<segment>
<p>
Теперь определяем максимальное значение в массиве varvalue:</p>
</segment>
<code code-left-level="4" code-type="qsp">
varmax=max('varvalue')
</code>
</segment>
<segment>
<segment>
<p>
Осталось определить индекс элемента с этим значением:</p>
</segment>
<code code-left-level="4" code-type="qsp">
indexMax=arrpos('varvalue',varmax)
</code>
</segment>
<segment>
<segment>
<p>
Имя переменной получить уже несложно:</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "Максимальное значение в переменной "+$varname[indexMax]
</code>
</segment>
</list>
<segment>
<p>
Можно написать функцию, которая будет возвращать название переменной с максимальным значением:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!#maxVar
<br/>! $args[0] — $args[8] — названия переменных
<br/>! массивы для временного хранения названий переменных и их значений:
<br/>local $varname, varvalue
<br/>! 1
<br/>loop local i=0 while $args[i]<>'' step i+=1:
<br/>    dynamic "$varname[]='<<$args[i]>>' & varvalue[]=<<$args[i]>>"
<br/>end
<br/>! 2
<br/>local max_=max('varvalue')
<br/>! 3
<br/>local index_=arrpos('varvalue',max_)
<br/>! 4
<br/>$result=$varname[index_]
</code>
<segment>
<p>
Вызов функции:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
@maxVar('VariableA','VariableB','VariableC','VariableD')
</code>
<segment>
<p>
Поскольку для работы данной функции в любом случае требуется цикл, можно несколько изменить алгоритм:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!#varMax
<br/>local $max_='args[19]'
<br/>loop local i=0 while $args[i]<>'' step i+=1:
<br/>    $max_=$dyneval("if <<$args[i]>> > <<$max_>>:
<br/>        $result='<<$args[i]>>'
<br/>    else
<br/>        $result='<<$max_>>'
<br/>    end")
<br/>end
<br/>$result=$max_
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\08_sravnenie_massivov_0140.txt-light">
<head anchor="faq_20_08" head-level="h2">
<p>
20.8. Как в QSP сравнить два массива?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как в QSP сравнить два массива?
</p>
<p>
О:
</p>
<p>
На первый взгляд вопрос кажется довольно простым, однако сравнение сравнению рознь. И если мы зададим вопрос: как именно мы хотим сравнить два массива? — возникают совершенно разные решения для различных вариантов сравнения.
</p>
<p>
Мы можем сравнить массивы по числу элементов:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if arrsize('mass_1')=arrsize('mass_2'):
<br/>    *pl 'Число элементов в массивах одинаковое.'
<br/>else
<br/>    *pl 'Число элементов в массивах разное.'
<br/>end
</code>
<segment>
<p>
Довольно простая задача.
</p>
<p>
Возьмём задачу посложнее: проверить массивы на идентичность. То есть значение каждого элемента одного массива должно совпадать со значением элемента другого массива под тем же индексом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i, size = 0, arrsize('mass_1') while i<size and $text='' step i+=1:
<br/>    if mass_1[i]<>mass_2[i]:
<br/>        $text='Массивы не идентичны'
<br/>    end
<br/>end
<br/>if $text='': $text='Массивы идентичны'
</code>
<segment>
<p>
Само собой проверять на идентичность массивы разного размера нет смысла.
</p>
<p>
Третья задача ещё сложнее. Нужно проверить, присутствуют ли в массивах одни и те же значения, но при этом не важно, совпадают ли индексы элементов с этими значениями.
</p>
<p>
Кажется, что она решается относительно просто:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i,size = 0,arrsize('mass_1') while i<size and $text='' step i+=1:
<br/>    if arrpos('mass_2',mass_1[i])=-1:
<br/>        $text='Массивы разнятся по содержимому'
<br/>    end
<br/>end
<br/>if $text='': $text='Массивы состоят из одинаковых элементов'
</code>
<segment>
<p>
Это решение может сработать, если в массивах, например, вот такое содержимое:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
mass_1[0]=1 & mass_2[0]=4
<br/>mass_1[1]=2 & mass_2[1]=3
<br/>mass_1[2]=3 & mass_2[2]=2
<br/>mass_1[3]=4 & mass_2[3]=1
</code>
<segment>
<p>
Но как быть, если в массивах вот такое содержимое
</p>
</segment>
<code code-left-level="0" code-type="qsp">
mass_1[0]=1 & mass_2[0]=4
<br/>mass_1[1]=1 & mass_2[1]=4
<br/>mass_1[2]=1 & mass_2[2]=1
<br/>mass_1[3]=4 & mass_2[3]=1
</code>
<segment>
<p>
Да, в них содержатся одинаковые значения, но встречаются они разное количество раз. А если при сравнении нам нужно учесть и количество?
</p>
<p>
Задача становится чуть более сложной. И теперь её решение будет включать в себя несколько этапов:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Сравнение массивов по размеру. Если размеры разные, то массивы в любом случае не равны.</p>
</segment>
<segment>
<p>
Копирование массивов во временные.</p>
</segment>
<segment>
<p>
Сортировка значений во временных массивах</p>
</segment>
<segment>
<p>
Сравнение временных массивов на идентичность</p>
</segment>
</list>
<segment>
<p>
Сортировка значений в массивах — это отдельный вопрос, и он представлен в смежном разделе (см. 20.10).
</p>
<p>
<tag name="simple-string">
Готовое решение для сравнения массивов на идентичность, на подобие (значения одинаковы но расположены в разном порядке), на совпадение хотя бы одного элемента есть в библиотеке </tag>
<tag name="hyperlink" href="https://github.com/AleksVersus/easy.math">
easy.math</tag>
<tag name="simple-string">
, см. функцию </tag>
<tag name="hyperlink" href="http://aleksversus.narod.ru/index/operacii_nad_massivami/0-72#arraysimp">
#array.simp#</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\09_tjanem_kartu_iz_kolody_0141.txt-light">
<head anchor="faq_20_09" head-level="h2">
<p>
20.9. Как сделать вытягивание случайных карт из колоды?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать вытягивание случайных карт из колоды? Карты вытягиваются несколько раз, но они не должны повторяться.
</p>
<p>
О:
</p>
<p>
В общем виде эта задача решается так:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
Записываем данные в массив</p>
</segment>
<segment>
<p>
Тем или иным способом (например, случайным образом) получаем номер ячейки этого массива</p>
</segment>
<segment>
<p>
Используем данные из этой ячейки (например, выводим на экран, или помещаем в другой массив/переменную)</p>
</segment>
<segment>
<p>
Уничтожаем ячейку, чтобы больше не получать из неё данные</p>
</segment>
<segment>
<p>
При необходимости повторяем.</p>
</segment>
</list>
<segment>
<p>
На основе этого общего алгоритма составим алгоритм под конкретную задачу. Будем вытягивать по шесть карт из колоды, пока карты не кончатся.
</p>
<p>
Поскольку все карты в колоде разные, можно присвоить каждой из них номер, и записать эти номера в массив:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
deck[0]=1
<br/>deck[1]=2
<br/>deck[2]=3
<br/>!...
<br/>deck[51]=52
<br/>deck[52]=53
<br/>deck[53]=54
</code>
<segment>
<p>
Можно описать каждую карту строкой текста:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$deck[0]='двойка треф'
<br/>$deck[1]='тройка треф'
<br/>$deck[2]='четвёрка треф'
<br/>!...
<br/>$deck[51]="туз бубей"
<br/>$deck[52]="джокер красный"
<br/>$deck[53]="джокер чёрный"
</code>
<segment>
<p>
Выбирайте способ, который вам будет удобен.
</p>
<p>
Алгоритм, который мы будем использовать далее, необходимо изменить под ваши конкретные нужды. В данном случае мы напишем действие, которое будет сдавать по шесть карт:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! открываем действие
<br/>act "Сдать шесть карт":
<br/>    ! Если колоду ещё не разобрали (условие 1)
<br/>    if arrsize('deck')>0:
<br/>        ! организуем цикл
<br/>        loop local i=0 while i<6 step i+=1:
<br/>        ! пока счётчик не достиг 6
<br/>            ! выбираем случайное число от 0
<br/>            ! до индекса последнего элемента массива deck
<br/>            index=rand(0,arrsize('deck')-1)
<br/>            ! запоминаем карту в очередном элементе массива hand
<br/>            hand[]=deck[index]
<br/>            ! можем вывести на экран
<br/>            *p $str(deck[index])+','
<br/>            ! удаляем карту из колоды
<br/>            ! (элемент из массива)
<br/>            killvar 'deck',index
<br/>        end
<br/>        ! добавляем перевод строки
<br/>        *pl
<br/>    else
<br/>    ! если колоду уже разобрали
<br/>        *pl "Колода разобрана"
<br/>    ! закрываем условие 1
<br/>    end
<br/>! закрываем действие
<br/>end
</code>
<segment>
<p>
Данное решение можно применять для других задач. Например, в массиве есть несколько чисел, и их необходимо вывести в порядке от большего к меньшему:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! массив
<br/>deck[0]=4
<br/>deck[1]=3
<br/>deck[2]=2
<br/>deck[3]=3
<br/>deck[4]=1
<br/>deck[5]=4
<br/>! чтобы не затирать исходный массив,
<br/>! копируем значения в другой, временный, массив
<br/>copyarr 'deck_temp','deck'
<br/>! вновь организуем цикл
<br/>loop while arrsize('deck_temp')>0: 
<br/>! если размер временного массива больше нуля
<br/>    ! получаем максимальное значение
<br/>    maxVar=max('deck_temp')
<br/>    ! определяем, в какой ячейке находится это значение
<br/>    index=arrpos('deck_temp',maxVar)
<br/>    ! можно вывести на экран
<br/>    *pl deck_temp[index]
<br/>    ! теперь удаляем элемент из массива
<br/>    killvar 'deck_temp',index
<br/>! закрываем цикла
<br/>end
</code>
<segment>
<p>
В упрощённом виде алгоритм, выбрасывающий случайные карты из колоды (с первой по последнюю) можно записать так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!$deck[0]='двойка треф'
<br/>!$deck[1]='тройка треф'
<br/>!$deck[2]='четвёрка треф'
<br/>loop local i=0 while arrsize('$deck')>0:
<br/>    i=rand(0,arrsize('$deck')-1)
<br/>    *pl $deck[i]
<br/>    killvar '$deck',i
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Посмотрите так же предложенные решения по </tag>
<tag name="hyperlink" href="#link_20_09">
ссылкам</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\10_sortirovka_dannyh_0142.txt-light">
<head anchor="faq_20_10" head-level="h2">
<p>
20.10. Как отсортировать данные?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как отсортировать данные? Например, список персонажей по алфавиту, или набор чисел от меньшего к большему.
</p>
<p>
О:
</p>
<p>
Прежде всего такие данные должны лежать в одном массиве. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$personage[0]='Петя'
<br/>$personage[1]='Ваня'
<br/>$personage[2]='Сева'
<br/>$personage[3]='Саша'
<br/>$personage[4]='Лёня'
</code>
<segment>
<p>
Или:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
number[0]=345
<br/>number[1]=798
<br/>number[2]=930
<br/>number[3]=121
<br/>number[4]=474
</code>
<segment>
<p>
Далее можно воспользоваться простым алгоритмом:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! объявляем локальные переменные
<br/>local $varMax, index, $personage_temp
<br/>! копируем данные во временный массив,
<br/>! чтоб не затереть исходный
<br/>copyarr '$personage_temp','$personage'
<br/>! с помощью цикла выбираем элементы по одному
<br/>! из временного массива, имеющие минимальное значение
<br/>loop while arrsize('$personage_temp')>0:
<br/>! цикл будет работать, пока размер временного массива
<br/>! больше нуля
<br/>    ! получаем минимальное значение
<br/>    $varMax=$min('$personage_temp')
<br/>    ! определяем, в каком элементе лежит это значение
<br/>    index=arrpos('$personage_temp',$varMax)
<br/>    ! выводим на экран
<br/>    *pl $varMax
<br/>    ! или запоминаем в другом массиве
<br/>    $personage_sort[]=$varMax
<br/>    ! удаляем элемент из временного массива
<br/>    killvar '$personage_temp',index
<br/>end
</code>
<segment>
<p>
Обратите внимание, при работе с текстовыми значениями меньшим считается то, которое идёт раньше согласно алфавитного порядка.
</p>
<p>
Сортировка чисел ничем практически не отличается:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
local varMax, index, number_temp
<br/>copyarr 'number_temp','number'
<br/>loop while arrsize('number_temp')>0:
<br/>    varMax=max('number_temp')
<br/>    index=arrpos('number_temp',varMax)
<br/>    *pl varMax
<br/>    number_sort[]=varMax
<br/>    killvar 'number_temp',index
<br/>end
</code>
<segment>
<p>
Этот алгоритм достаточно быстр и прост для решения большинства задач. Он требует нескольких переменных и дополнительный массив для временного хранения данных. Если необходимо отсортировать данные сразу внутри массива, не прибегая к помощи дополнительного массива, можно воспользоваться методом сортировки "пузырьком":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
проходы=0
<br/>loop local проходы=0 while проходы<arrsize("сортируемый_массив") step проходы+=1:
<br/>    loop local всплытия=проходы while всплытия<arrsize("сортируемый_массив") step всплытия+=1:
<br/>        if сортируемый_массив[проходы] < сортируемый_массив[всплытия]: 
<br/>            ! или, если нужен другой порядок: 
<br/>            !if сортируемый_массив[проходы] > сортируемый_массив[всплытия]: 
<br/>            запоминальная_переменная = сортируемый_массив[проходы] 
<br/>            сортируемый_массив[проходы] = сортируемый_массив[всплытия] 
<br/>            сортируемый_массив[всплытия] = запоминальная_переменная 
<br/>        end
<br/>    end
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Операции сравнения прекрасно работают с текстовыми значениями по тому же принципу, что и функции </tag>
<tag name="tt">
$max</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$min</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
Готовое решение по методу сортировки пузырьком есть в библиотеке "easy.math" с различными дополнительными возможностями. Смотрите функцию </tag>
<tag name="hyperlink" href="https://github.com/AleksVersus/easy.math.3">
em.arr.sort</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\11_protsenty_0143.txt-light">
<head anchor="faq_20_11" head-level="h2">
<p>
20.11. Как сделать проценты?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать проценты?
</p>
<p>
О:
</p>
<p>
Как таковые процентные вычисления в QSP не поддерживаются, равно как не поддерживаются дробные числа, однако выход из данной ситуации есть.
</p>
<p>
Поскольку процент является сотой частью от исходного числа, можно составлять простые формулы для различных вычислений:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! двадцать процентов от числа
<br/>percent=N*20/100
</code>
<segment>
<p>
Обратите внимание, сначала производим операцию умножения, а лишь затем — деления. Это сделано потому, что QSP не поддерживает дробные числа. И если мы, например, захотим вычислить двадцать процентов от числа 80, то деление 80 на 100 даст в результате ноль, а значит и при умножении результата на 20 получится ноль. Но в нашем случае мы сначала умножаем 80 на 20, и получаем 1600, а затем делим на 100 и получаем 16. Число 16 — это 20 процентов от числа 80.
</p>
<p>
Уменьшаем число на 25%:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
N=N-N*25/100
</code>
<segment>
<p>
Увеличиваем число на 37%
</p>
</segment>
<code code-left-level="0" code-type="qsp">
N=N+N*37/100
</code>
<segment>
<p>
Естественно при делении на 100 число теряет дробную часть и данное решение не даст нужной точности для маленьких чисел:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
N=25
<br/>N=N-N*50/100
<br/>*pl N
</code>
<segment>
<p>
Для больших чисел неточность будет скрадываться.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
N=2500
<br/>N=N-N*37/100
<br/>*pl N
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\12_razlozhenie_na_slagaemye_0144.txt-light">
<head anchor="faq_20_12" head-level="h2">
<p>
20.12. Как решить задачу по поиску случайного набора слагаемых?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как решить задачу по поиску случайного набора слагаемых?
</p>
<p>
	Например, есть набор чисел 2,3,5 и 9, и нужно случайным образом выбрать из них несколько чисел (можно одинаковых), которые в сумме составляют 9. Как это реализовать?
</p>
<p>
О:
</p>
<p>
Для начала разберём алгоритм для этого конкретного случая, а затем попытаемся написать более универсальную процедуру.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! заполняем массив числами (они определены) - исходный массив
<br/>mass[0]=2
<br/>mass[1]=3
<br/>mass[2]=5
<br/>mass[3]=9
<br/>! задаём "сумму" выброшенных чисел = 9
<br/>summ = 9
<br/>
<br/>! далее начинается цикл.
<br/>loop while 1:
<br/>    ! выкидываем число
<br/>    ! получаем индекс
<br/>    index = rand(0,arrsize('mass')-1)
<br/>    ! фиксируем число
<br/>    number=mass[index]
<br/>    ! проверяем, возможно ли вычитание
<br/>    if summ - number = 0:
<br/>        ! если при вычитании числа из summ получается 0, значит мы нашли последнее число
<br/>        ! записываем его
<br/>        search[]=number
<br/>        jump 'cycle_end' & ! прерываем цикл
<br/>    elseif summ - number < min('mass'):
<br/>        ! если разность summ и числа - меньше минимального значения в массиве, значит
<br/>        ! число, которое мы вытянули, нам не подходит
<br/>        ! и не подойдёт, его можно убрать из исходного массива
<br/>        killvar 'mass',index
<br/>        ! записывать его не нужно
<br/>    else
<br/>        ! во всех остальных случаях число нам подходит:
<br/>        ! запоминаем его в конечный массив
<br/>        search[]=number
<br/>        ! уменьшаем summ на это число
<br/>        summ -= number
<br/>    end
<br/>end
<br/>:cycle_end
</code>
<segment>
<p>
Как видим, алгоритм генерации случайного набора слагаемых довольно прост. Однако он предполагает, что нам изначально известны слагаемые, на которые может быть разложена исходная сумма.
</p>
<p>
Можно написать универсальную процедуру для подобных случаев (назовём её "summ.break"):
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!#summ.break
<br/>local summ = args[0] & ! Сумма, для которой мы получаем набор слагаемых
<br/>local $addiction = $args[1]+',' & ! набор слагаемых через запятую
<br/>local mass & ! локальный массив, в который мы будем помещать слагаемые
<br/>! предварительно вытаскиваем в массив mass[] наши слагаемые
<br/>loop while len($addiction)>0:
<br/>    ! запоминаем число
<br/>    mass[]=val($mid($addiction,1,instr($addiction,",")-1))
<br/>    ! удаляем его из строки
<br/>    if instr($addiction,",")<>len($addiction):
<br/>        $addiction=$mid($addiction,instr($addiction,",")+1)
<br/>    else
<br/>        $addiction=''
<br/>    end
<br/>end
<br/>
<br/>! Теперь выполняем тот же алгоритм, что мы уже писали,
<br/>! только исключая лишние глобальные переменные
<br/>local index_, number_
<br/>! начинается цикл.
<br/>loop while 1:
<br/>    ! получаем число (слагаемое) из массива
<br/>    ! получаем индекс
<br/>    index_ = rand(0,arrsize('mass')-1)
<br/>    ! фиксируем число
<br/>    number_=mass[index_]
<br/>
<br/>    ! проверяем, возможно ли вычитание
<br/>    if summ - number_ = 0:
<br/>        ! если при вычитании числа из summ получается 0, значит мы нашли последнее число
<br/>        ! записываем его
<br/>        search[]=number_
<br/>        jump 'endandexit'
<br/>    elseif summ - number_ < min('mass'):
<br/>        ! если разность summ и числа - меньше минимального значения в массиве, значит
<br/>        ! число, которое мы вытянули, нам не подходит
<br/>        ! и не подойдёт, его можно убрать из исходного массива
<br/>        killvar 'mass',index_
<br/>        ! записывать его не нужно
<br/>    elseif arrsize('mass')<1:
<br/>        ! защита от дурака. Если размер массива mass упал до нуля, значит мы перебрали все
<br/>        ! возможные варианты и значит изначальное условие задано неверно или
<br/>        ! решение, которое начал подбирать алгоритм изначально неверно подбиралось
<br/>        ! *pl 'неверное решение'
<br/>        ! $result = 'false'
<br/>        jump 'endandexit'
<br/>    else
<br/>        ! во всех остальных случаях число нам подходит:
<br/>        ! запоминаем его в конечный массив
<br/>        search[]=number_
<br/>        ! уменьшаем summ на это число
<br/>        summ -= number_
<br/>    end
<br/>end
<br/>! результат прописывается в массив search
<br/>! массив mass удаляем, он был временным
<br/>:endandexit
</code>
<segment>
<p>
Вариант вызова для исходной задачи:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
@summ.break(9,'2,3,5,9')
</code>
<segment>
<p>
Данный алгоритм не включает в себя защиту от некоторых ошибок. Две очевидные:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Вы не знаете изначально можно ли получить для данного числа хоть один набор слагаемых из тех, что даны.</p>
</segment>
<segment>
<p>
Перечень слагаемых включает числа, из которых можно получить набор слагаемых, но не во всех случаях.</p>
</segment>
</list>
<segment>
<p>
Обе эти ошибки не должны приводить к зацикливанию, но их всё равно стоит избегать.
</p>
<p>
<tag name="simple-string">
См. так же: </tag>
<tag name="hyperlink" href="#faq_20_09">
тянем карту из колоды</tag>
<tag name="simple-string">
, </tag>
<tag name="hyperlink" href="#faq_20_10">
сортировка данных</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\13_razrezhenie_teksta_0145.txt-light">
<head anchor="faq_20_13" head-level="h2">
<p>
20.13. Как разредить текст пробелами?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как разредить текст пробелами?
</p>
<p>
	Например, сделать разрежение текста через каждые три символа.
</p>
<p>
О:
</p>
<p>
Для того, чтобы сделать подобное, понадобятся функции для работы с текстом и цикл.
</p>
<p>
Простой алгоритм для разрежения текста (отсчёт начинается от первого символа в строке)
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!$text - здесь лежит текст
<br/>loop while len($text)>0:
<br/>    !вырезаем первые три символа
<br/>    $t=$mid($text,1,3)
<br/>    !убираем первые три символа из строки
<br/>    $text=$mid($text,4)
<br/>    ! составляем новую строку
<br/>    $print_text=$print_text+$t+' '
<br/>end
</code>
<segment>
<p>
Если разрежение необходимо производить через каждые три символа, начиная с последнего, немного меняем алгоритм:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop while len($text)>0:
<br/>    !вырезаем последние три символа
<br/>    $t=$mid($text,len($text)-2)
<br/>    !убираем последние три символа из строки
<br/>    $text=$mid($text,1,len($text)-3)
<br/>    ! составляем новую строку
<br/>    $print_text=' '+$t+$print_text
<br/>end
</code>
<segment>
<p>
Легко заметить, что данные алгоритмы будут добавлять лишний символ пробела в конце или в начале строки. Но этот недостаток так же легко исправить:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop while len($text)>0:
<br/>    $t=$mid($text,1,3)
<br/>    $text=$mid($text,4)
<br/>    if len($text)>0:
<br/>        $print_text=$print_text+$t+' '
<br/>    else
<br/>        $print_text=$print_text+$t
<br/>    end
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
В библиотеке "easy.math" присутствует готовая функция, разрежающая текст, с дополнительными возможностями и различными настройками. См. функцию </tag>
<tag name="hyperlink" href="https://github.com/AleksVersus/easy.math.3">
em.str.thin</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\14_zapisnaja_knizhka_0146.txt-light">
<head anchor="faq_20_14" head-level="h2">
<p>
20.14. Как сделать записную книжку в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать записную книжку в игре?
</p>
<p>
	То есть чтобы игрок мог делать записи, а когда нужно, мог их просматривать.
</p>
<p>
О:
</p>
<p>
Хранить записи для записной книжки можно в массиве, саму же записную книжку можно сделать в виде предмета:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
addobj "Записная книжка"
</code>
<segment>
<p>
Работу с предметом "Записная книжка" удобнее всего орагнизовать через всплывающее меню. Для всплывающего меню создаём две локации. Назовём их, например, "note.add" и "note.read". Первая будет служить для добавления записи в записную книжку, вторая — для воспроизведения записей из записной книжки.
</p>
<p>
Код локации "note.add" достаточно прост:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! предлагаем пользователю добавить запись
<br/>$new_note=$input('Введите текст записи.')
<br/>! если введён какой-либо текст, добавляем его в очередную ячейку массива note[]
<br/>if $new_note<>'':
<br/>    $note[]=$new_note
<br/>end
<br/>! для верности удаляем пременную
<br/>killvar 'new_note'
</code>
<segment>
<p>
Код локации "note.read":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! очищаем окно доп описания
<br/>clr
<br/>! счётчик
<br/>i=0
<br/>loop local i=0 while i<arrsize('$note') step i+=1:
<br/>! пока счётчик не достиг размера массива note
<br/>    ! выводим запись
<br/>    pl $note[i]
<br/>end
</code>
<segment>
<p>
Непосредственно при добавлении предмета, либо где-то ранее, прописываем пункты меню для записной книжки в массив:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$меню_записная_книжка[0]="Добавить запись:note.add"
<br/>$меню_записная_книжка[1]="Прочитать записи:note.read"
</code>
<segment>
<p>
На локации-обработчике выделения предмета добавляем такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! если выделен предмет "Записная книжка"
<br/>if $selobj='Записная книжка':
<br/>    ! вызываем меню
<br/>    menu '$меню_записная_книжка'
<br/>end
<br/>
<br/>! не забываем снять выделение в конце локации
<br/>unselect
</code>
<segment>
<p>
Вот и всё. Теперь у нас есть предмет "Записная книжка", щелчок по которому вызовет всплывающее меню с двумя пунктами "Добавить запись" и "Прочитать записи".
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\15_odnorazovaja_lokatsija_0147.txt-light">
<head anchor="faq_20_15" head-level="h2">
<p>
20.15. Как сделать так, чтобы на локацию можно было зайти только один раз?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать так, чтобы на локацию можно было зайти только один раз?
</p>
<p>
О:
</p>
<p>
Наиболее очевидный вариант: отмечать посещение локации в какой-нибудь переменной, а в действиях, которые ведут на эту локацию, проверять была ли эта локация посещена.
</p>
<p>
Например, у нас есть две локации "Древний храм" и "Джунгли":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
# Джунгли
<br/>"Я стою посреди диких джунглей, а передо мной в гуще зарослей высится древний храм."
<br/>! действие входа в храм
<br/>act "Войти в древний храм":
<br/>    if храм_посещён=1:
<br/>        "Вход в храм завален камнями."
<br/>    else
<br/>        goto "Древний храм"
<br/>    end
<br/>end
<br/>- Джунгли
<br/>
<br/># Древний храм
<br/>"Я вхожу под своды древнего храма. Заросшая паутиной зала встречает глухой тишиной. Что-то щёлкает под ногами, и храм начинает рушиться"
<br/>! отмечаем в переменной, что храм посещён
<br/>храм_посещён=1
<br/>! действие выхода из храма
<br/>act "Сбежать из разрушающегося храма":
<br/>    goto "Джунгли"
<br/>end
<br/>- Древний храм
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\16_porjadok_dejstvij_0148.txt-light">
<head anchor="faq_20_16" head-level="h2">
<p>
20.16. Как заставить действия выводиться в нужном мне порядке?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как заставить действия выводиться в нужном мне порядке?
</p>
<p>
О:
</p>
<p>
Чтобы действия появлялись в нужном порядке, необходимо чётко понимать, как именно выводятся действия в QSP.
</p>
<p>
В первую очередь выводятся базовые действия локации. Это те действия, которые мы добавляем при помощи специального окна в Quest Generator. Они выводятся в том порядке, в котором прописаны в этом окне.
</p>
<p>
<tag name="simple-string">
Во вторую очередь выводятся действия, прописанные в поле "выполнить при посещении" в Quest Generator с помощью оператора </tag>
<tag name="tt">
act</tag>
<tag name="simple-string">
. Точно так же они выводятся в том порядке, в каком вы их прописываете, то есть в порядке чтения кода плеером.
</tag>
</p>
<p>
Таким образом, чтобы действия выводились в нужном вам порядке, необходимо прямо в окне базовых действий и поле "выполнить при посещении" расположить их так, как вы хотите, чтобы они выводились.
</p>
<p>
Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Первое действие":
<br/>    *pl "Действие вверху списка"
<br/>end
<br/>act "Второе действие":
<br/>    *pl "Действие в середине списка"
<br/>end
<br/>act "Третье действие":
<br/>    *pl "Действие внизу списка"
<br/>end
</code>
<segment>
<p>
Если же вам нужно, чтобы порядок действий менялся динамически, например, выбранное игроком действие добавлялось в конец списка, то действия можно поместить в виде текстовых значений в переменные, или массив.
</p>
<p>
Пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
usehtml=1
<br/>! записываем действия в массив
<br/>if arrsize('$act_array')=0:
<br/>    ! непосредственно действие
<br/>    $act_array[0]={
<br/>        act "Первое действие":
<br/>            $text+="Теперь порядок действий меняется.<br>"
<br/>            ! в самом действии есть код замены
<br/>            i=arrpos('$id_array',"первое")
<br/>            $act_array[]=$act_array[i]
<br/>            $id_array[]=$id_array[i]
<br/>            killvar '$act_array',i
<br/>            killvar '$id_array',i
<br/>            ! чтобы список обновился на экране
<br/>            goto $curloc
<br/>        end
<br/>    }
<br/>    ! а здесь лежит идентификатор действия
<br/>    $id_array[0]="первое"
<br/>    $act_array[1]={
<br/>        act "Второе действие":
<br/>            $text+="Раньше это действие было в середине списка.<br>"
<br/>            i=arrpos('$id_array',"второе")
<br/>            $act_array[]=$act_array[i]
<br/>            $id_array[]=$id_array[i]
<br/>            killvar '$act_array',i
<br/>            killvar '$id_array',i
<br/>            goto $curloc
<br/>        end
<br/>    }
<br/>    $id_array[1]="второе"
<br/>    $act_array[2]={
<br/>        act "Третье действие":
<br/>            $text+="Теперь действия меняются местами.<br>"
<br/>            i=arrpos('$id_array',"третье")
<br/>            $act_array[]=$act_array[i]
<br/>            $id_array[]=$id_array[i]
<br/>            killvar '$act_array',i
<br/>            killvar '$id_array',i
<br/>            goto $curloc
<br/>        end
<br/>    }
<br/>    $id_array[2]="третье"
<br/>end
<br/>! выводим действия
<br/>loop local i=0 while i<arrsize('$act_array') step i+=1:
<br/>    dynamic $act_array[i]
<br/>end
<br/>*pl $text
</code>
<segment>
<p>
<tag name="simple-string">
Работает всё очень просто. Сами действия в виде кода вписаны в массив, и воспроизводятся циклом через </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
. Параллельно с каждым действием в массив </tag>
<tag name="tt">
$id_array</tag>
<tag name="simple-string">
 вписывается идентификатор действия. Именно по нему мы узнаём, в какой ячейке массива </tag>
<tag name="tt">
$act_array</tag>
<tag name="simple-string">
 лежит действие.
</tag>
</p>
<p>
<tag name="simple-string">
Например, второе действие вписано в ячейку </tag>
<tag name="tt">
[1]</tag>
<tag name="simple-string">
 массива </tag>
<tag name="tt">
$act_array</tag>
<tag name="simple-string">
, идентификатор "второе" вписан в ячейку </tag>
<tag name="tt">
[1]</tag>
<tag name="simple-string">
 массива </tag>
<tag name="tt">
$id_array</tag>
<tag name="simple-string">
. Когда мы щёлкаем по действию, выполняется код действия:
</tag>
</p>
</segment>
<list list-type="ol-list">
<segment>
<segment>
<p>
Добавляем очередную строку к переменной для вывода на экран</p>
</segment>
<code code-left-level="8" code-type="qsp">
$text+="Раньше это действие было в середине списка.<br>"
</code>
</segment>
<segment>
<segment>
<p>
Вычисляем, в какую ячейку вписан идентификатор данного действия:</p>
</segment>
<code code-left-level="8" code-type="qsp">
i=arrpos('$id_array',"второе")
</code>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
Поскольку идентификатор вписан в ячейку </tag>
<tag name="tt">
[1]</tag>
<tag name="simple-string">
 массива </tag>
<tag name="tt">
$id_array</tag>
<tag name="simple-string">
, значит и действие вписано в ячейку </tag>
<tag name="tt">
[1]</tag>
<tag name="simple-string">
 массива </tag>
<tag name="tt">
$act_array</tag>
<tag name="simple-string">
. Это значит, что теперь мы можем скопировать и действие и идентификатор в ячейки </tag>
<tag name="tt">
[3]</tag>
<tag name="simple-string">
 массивов </tag>
<tag name="tt">
$act_arry</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$id_array</tag>
<tag name="simple-string">
 соответственно:</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$act_array[]=$act_array[i]
<br/>$id_array[]=$id_array[i]
</code>
</segment>
<segment>
<segment>
<p>
<tag name="simple-string">
Остаётся удалить ячейки </tag>
<tag name="tt">
[1]</tag>
<tag name="simple-string">
 из обоих массивов, чтоб действий не получилось </tag>
<tag name="tt">
4</tag>
<tag name="simple-string">
:</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
killvar '$act_array',i
<br/>killvar '$id_array',i
</code>
</segment>
<segment>
<segment>
<p>
Ну и чтобы список обновился, а текст обновился на экране, перезаходим на локацию:</p>
</segment>
<code code-left-level="8" code-type="qsp">
goto $curloc
</code>
</segment>
</list>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\17_kak_sdelat__knigu_v_igre_0149.txt-light">
<head anchor="faq_20_17" head-level="h2">
<p>
20.17. Как сделать в игре книгу? Чтобы её можно было взять и потом прочитать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать в игре книгу? Чтобы её можно было взять и потом прочитать?
</p>
<p>
О:
</p>
<p>
На самом деле это частный случай работы с предметами в игре.
</p>
<p>
Подъём любого предмета пишется с помощью действий. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if книгу_поднял=0:
<br/>    act "Взять книгу":
<br/>        addobj "Старая книга"
<br/>        книгу_поднял=1
<br/>        goto $curloc
<br/>    end
<br/>end
</code>
<segment>
<p>
Теперь, чтобы игрок имел возможность читать эту книгу, нужно завести локацию-обработчик выделения предмета, если у вас её ещё нет. Название может быть любым, но для примера я назову эту локацию "если_предмет_выделен".
</p>
<p>
Чтобы плеер понял, какую локацию ему нужно использовать, как локацию-обработчик выделения предмета, необходимо прописать название этой локации в системную переменную $onobjsel, например на самой первой локации в игре:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$onobjsel="если_предмет_выделен"
</code>
<segment>
<p>
На самой вновь созданной локации пишем код для книги:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! если выбран предмет "Старая книга"
<br/>if $selobj="Старая книга":
<br/>    ! очищаем окно дополнительного описания
<br/>    clr
<br/>    ! выводим текст книги в окно дополнительного описания
<br/>    pl "Жил на юге человек, еще задолго до того времени, когда Тангбранд сын Вильбальдуса стал проповедовать Христа в Исландии. Звали этого человека Эйрик Светлоокий, сын Торгримура, и в те дни не было человека, равного ему по силе, красоте и смелости, во всем он был первый. Там же, на юге, жили две женщины, неподалеку от того места, где западные острова всплыли над морем. Одну звали Гудруда Прекрасная, другую — Сванхильда, прозванная Незнающей Отца. Они были сводные сестры, и не было равных им женщин в те дни: они были прекраснее всех. Однако между ними не было ничего общего, кроме крови и ненависти."
<br/>end
<br/>! снимаем выделение предмета
<br/>unselect
</code>
<segment>
<p>
Так же посмотрите раздел вопросов о создании меню, если хотите добавить больше действий с книгой для игрока.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\18_kak_sdelat__sklad_sunduk_tajnik_0150.txt-light">
<head anchor="faq_20_18" head-level="h2">
<p>
20.18. Как сделать склад, сундук, тайник, место, в котором можно выкладывать и хранить предметы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать склад, сундук, тайник, место, в котором можно выкладывать и хранить предметы?
</p>
<p>
О:
</p>
<p>
Решение данного вопроса состоит из двух частей.
</p>
<p>
Первая часть — это непосредственно создание тайника. Тайник можно реализовать на отдельной локации.
</p>
<p>
Создаём новую локацию и называем её "тайник". Затем, на локации, где мы располагаем тайник, нужно добавить действие или гиперссылку, которая ведёт на локацию тайник:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Открыть сейф":
<br/>    goto "тайник"
<br/>end
</code>
<segment>
<p>
Само собой на локации "тайник" необходимо создать гиперссылку или действие, ведущие на предыдущую локацию.
</p>
<p>
На этом первая часть решения нашего вопроса окончена. Переходим ко второй части. Непосредственно сброс предметов на локации.
</p>
<p>
Для того, чтобы игрок мог взаимодействовать с предметами, необходимо завести локацию-обработчик выделения предмета (более подробно об этом прочитайте в разделе "Предметы") и на этой локации прописать код взаимодействия. Тут тоже есть варианты. Вы можете организовать меню предметов, одним из пунктов которого может быть пункт "Выбросить", можете добавить в окно действий действие "Выбросить" на каждый предмет (если их не много), либо (если на локации "тайник" можно только сбрасывать предметы) воспользоваться нижеследующим решением, которое позволяет сбрасывать предметы по клику на них.
</p>
<p>
Для того, чтобы каждый предмет на локации "тайник" сбрасывался по клику, на локации-обработчике выделения предмета необходимо прописать следующий код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
if $curloc="тайник":
<br/>! если текущая локация — "тайник"
<br/>    ! записываем текущий предмет в новую ячейку массива $secretbox
<br/>    $secretbox[]=$selobj
<br/>    ! удаляем предмет из списка
<br/>    delobj $selobj
<br/>    ! перезаходим на локацию тайник
<br/>    goto $curloc
<br/>end
</code>
<segment>
<p>
Чтобы сброшенные предметы воспроизводились на локации "тайник" в виде действий, нужно на локации "тайник" прописать такой код:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop local i=0 while i<arrsize('$secretbox') step i+=1:
<br/>! пока значение счётчика не превысило номер последней ячейки массива
<br/>    ! с помощью команды dynamic генерируем действие
<br/>    dynamic "
<br/>        act 'Поднять <<$secretbox[i]>>:
<br/>            addobj '<<$secretbox[i]>>'
<br/>            killvar '$secretbox',<<i>>
<br/>            goto $curloc
<br/>        end'
<br/>    "
<br/>end
</code>
<segment>
<p>
Это универсальный код, позволяющий сбрасывать и поднимать любые предметы, если не требуется учитывать их количество.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\19_sluchajnoe_dejstvie_na_lokatsii_0151.txt-light">
<head anchor="faq_20_19" head-level="h2">
<p>
20.19. Как сделать выпадение случайного действия на локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать выпадение случайного действия на локации?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Нужно воспользоваться "действием по условию", но включить в код и функцию </tag>
<tag name="tt">
rand</tag>
<tag name="simple-string">
. В самом простом виде это делается так:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! выбрасываем случайное число от одного до пяти
<br/>i=rand(1,5)
<br/>! в зависимости от того, какое число выпало, выводим действие
<br/>if i=1:
<br/>    act "Сплясать Джигу":
<br/>        *pl "Ноги сами пустились в пляс, голова завертелась волчком. Джигадрыгай и в профиль и в фас. Всё пучком!"
<br/>    end
<br/>elseif i=2:
<br/>    act "Вальсировать":
<br/>        *pl "Раз, два, три... Раз, два, три..."
<br/>    end
<br/>elseif i=3:
<br/>    act "Твист":
<br/>        *pl "Первый окурок давим правым ботинком, второй окурок давим левым ботинком. А теперь оба окурка давим вместе."
<br/>    end
<br/>elseif i=4:
<br/>    act "Танцевать Пого":
<br/>        "Пели песни до утра, пого танцевали..."
<br/>    end
<br/>elseif i=5:
<br/>    act "Капуэйро":
<br/>        "Вжух-вжух!.."
<br/>    end
<br/>end
</code>
<segment>
<p>
Есть другой способ:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! вносим действия в массив
<br/>$i_act[0]={
<br/>    act "Сплясать Джигу":
<br/>        *pl "Ноги сами пустились в пляс, голова завертелась волчком. Джигадрыгай и в профиль и в фас. Всё пучком!"
<br/>    end
<br/>}
<br/>$i_act[1]={
<br/>    act "Вальсировать":
<br/>        *pl "Раз, два, три... Раз, два, три..."
<br/>    end
<br/>}
<br/>$i_act[2]={
<br/>    act "Твист":
<br/>        *pl "Первый окурок давим правым ботинком, второй окурок давим левым ботинком. А теперь оба окурка давим вместе."
<br/>    end
<br/>}
<br/>$i_act[3]={
<br/>    act "Танцевать Пого":
<br/>        "Пели песни до утра, пого танцевали..."
<br/>    end
<br/>}
<br/>$i_act[4]={
<br/>    act "Капуэйро":
<br/>        "Вжух-вжух!.."
<br/>    end
<br/>}
<br/>! выбрасываем случайное
<br/>dynamic $i_act[rand(0,4)]
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\20_perehod_na_sluchajnuju_lokatsiju_0152.txt-light">
<head anchor="faq_20_20" head-level="h2">
<p>
20.20. Как сделать перемещение на случайную локацию?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать перемещение на случайную локацию?
</p>
<p>
	Например, чтобы портал переносил случайным образом на одну из локаций.
</p>
<p>
О:
</p>
<p>
Можно прописать выбор из случайного варианта прямо в действии:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
act "Войти в портал":
<br/>    i=rand(1,5)
<br/>    if i=1:
<br/>        goto "Мир вечного полдня"
<br/>    elseif i=2:
<br/>        goto "Плоский мир"
<br/>    elseif i=3:
<br/>        goto "Земля-616"
<br/>    elseif i=4:
<br/>        goto "Трансметрополитен"
<br/>    elseif i=5:
<br/>        goto "Атлантида"
<br/>    end
<br/>end
</code>
<segment>
<p>
Можно заранее внести названия локаций в массив (создаём список):
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$portal[0]="Мир вечного полдня"
<br/>$portal[1]="Плоский мир"
<br/>$portal[2]="Земля-616"
<br/>$portal[3]="Трансметрополитен"
<br/>$portal[4]="Атлантида"
<br/>
<br/>act "Войти в портал":
<br/>    goto $portal[rand(0,4)]
<br/>end
</code>
<segment>
<p>
Последний вариант удобен тем, что посещённые места можно убирать из массива, и таким образом игрок не сможет посетить одно место дважды, но всё равно будет посещать их в случайном порядке:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! если значение переменной-флага равно нулю
<br/>if portal_flag=0:
<br/>    ! вписываем названия локаций в массив (создаём список)
<br/>    $portal[0]="Мир вечного полдня"
<br/>    $portal[1]="Плоский мир"
<br/>    $portal[2]="Земля-616"
<br/>    $portal[3]="Трансметрополитен"
<br/>    $portal[4]="Атлантида"
<br/>    ! выставляем переменной-флагу значение 1
<br/>    portal_flag=1
<br/>end
<br/>! действие
<br/>act "Войти в портал":
<br/>    ! получаем текущий размер массива
<br/>    local size=arrsize('$portal')
<br/>    ! если размер массива больше нуля
<br/>    if size>0:
<br/>        ! выбрасываем случайное число от нуля до номера последней ячейки массива
<br/>        local i=rand(0,size-1)
<br/>        ! запоминаем текущее название выбранной локации
<br/>        local $i_act=$portal[i]
<br/>        ! убираем это название из списка
<br/>        killvar '$portal',i
<br/>        ! переходим на эту локацию
<br/>        goto $i_act
<br/>    else
<br/>    ! если размер массива 0
<br/>        ! портал не работает
<br/>        *pl "Портал больше не работает."
<br/>    end
<br/>end
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\21_sluchajnyj_predmet_0153.txt-light">
<head anchor="faq_20_21" head-level="h2">
<p>
20.21. Как сделать случайный предмет?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как сделать случайный предмет?
</p>
<p>
О:
</p>
<p>
<tag name="simple-string">
Если вам нужно, чтобы на локации случайным образом появлялся какой-либо предмет, необходимо использовать "действие по условию" и функцию </tag>
<tag name="tt">
rand</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
В самом простом виде можно сделать так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
i=rand(1,5)
<br/>if i=1:
<br/>    act "Взять отвёртку":
<br/>        addobj "Отвёртка"
<br/>        ! другой код
<br/>    end
<br/>elseif i=2:
<br/>    act "Взять кость":
<br/>        addobj "Кость"
<br/>        ! другой код
<br/>    end
<br/>elseif i=3:
<br/>    act "Взять ржавую монету":
<br/>        addobj "Ржавая монета"
<br/>        ! другой код
<br/>    end
<br/>elseif i=4:
<br/>    act "Взять шкуру тролля":
<br/>        addobj "Шкура Тролля"
<br/>        ! другой код
<br/>    end
<br/>elseif i=5:
<br/>    act "Взять пачку масла":
<br/>        addobj "Пачка масла"
<br/>        ! другой код
<br/>    end
<br/>end
</code>
<segment>
<p>
Так же можно внести список возможных предметов в массив, а затем выбросить случайный:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$objects[0]='Отвёртка' 
<br/>$objects[1]='Кость' 
<br/>$objects[2]='Гаечный ключ' 
<br/>$objects[3]='Человеческий череп' 
<br/>$objects[4]='Перфоратор' 
<br/>$objects[5]='Шкура тролля' 
<br/>$objects[6]='Пачка масла' 
<br/>$objects[7]='Яблоко' 
<br/>$objects[8]='Ржавая монета' 
<br/>$objects[9]='Упавшая звезда' 
<br/>$object_rand = $objects[rand(0,9)] 
<br/>dynamic "
<br/>    act 'Взять предмет <<$object_rand>>': 
<br/>        addobj '<<$object_rand>>'
<br/>        ! ... другой код ... 
<br/>    end
<br/>"
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\22_skol_ko_peremennyh_0154.txt-light">
<head anchor="faq_20_22" head-level="h2">
<p>
20.22. Как узнать, какие переменные есть в игре? Может для этого есть специальная команда?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
/</tag>
<tag name="italic">
 переместить данный вопрос в раздел изыски и тонкости </tag>
<tag name="simple-string">
/
</tag>
</p>
<p>
В:	
</p>
<p>
О:
</p>
<p>
Специальной команды для этого нет. Названия всех явно заданных переменных можно просмотреть, если воспользоваться специальным Анализатором кода QSP.
</p>
<p>
<tag name="simple-string">
	</tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=365&Itemid=57">
Страница анализатора кода на qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Для того, чтобы получить список переменных, нужно сначала сконвертировать игру в формат TXT2GAM. TXT2GAM — это обычные текстовые файлы, в которых код игры прописан в незашифрованном виде по особым правилам. Пример можно посмотреть </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:txt2gam">
в справке</tag>
<tag name="simple-string">
, а научиться писать игры в формате TXT2GAM можно, используя вот эти уроки: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=91&Itemid=56">
страница на qsp.su</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
Чтобы сконвертировать игру в формат TXT2GAM необходимо открыть её в редакторе Quest Generator и выбрать в меню "Игра" пункты "Экспорт — Текстовый файл формата TXT2GAM...".
</p>
<p>
Затем нужно открыть Анализатор, в специальном поле указать путь к полученному файлу (можно воспользоваться кнопкой "..."), и нажать кнопку "Перечитать".
</p>
<p>
На вкладке "Анализ" есть кнопка "Переменные", нажав на которую вы увидите список всех явно заданных в игре переменных.
</p>
<p>
<tag name="simple-string">
К сожалению, это не позволит вам просмотреть список переменных, которые должны генерироваться в процессе игры, например, с помощью оператора </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\23_kak_ubrat__preformatirovanie_0155.txt-light">
<head anchor="faq_20_23" head-level="h2">
<p>
20.23. Как убрать преформатирование из разметки HTML?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:
</p>
<p>
<tag name="simple-string">
	При работе с HTML-разметкой приходится выводить теги отдельными командами </tag>
<tag name="tt">
*p</tag>
<tag name="simple-string">
, чтобы разметка выводилась в одну строку, но это очень неудобно. Нет ли способа упростить работу с HTML-кодом? 
</tag>
</p>
<p>
О:
</p>
<p>
На самом деле у вас в руках уже есть инструмент, позволяющий как угодно упрощать работу с любыми текстовыми данными. В том числе и с HTML-кодом.
</p>
<p>
Удобнее всего было бы писать HTML-код в том виде, в каком мы его обычно пишем для браузера, т.е. преформатируя, а выводить на экран все HTML-теги в одну строку, чтобы HTML-рендер плеера QSP правильно этот HTML-код интерпретировал.
</p>
<p>
<tag name="simple-string">
Решение тут весьма и весьма простое: нужно написать функцию, которая будет обрабатывать наш текст с HTML-разметкой и убирать оттуда символы преформатирования. Наша функция будет называться </tag>
<tag name="tt">
delPref</tag>
<tag name="simple-string">
, и мы оформим её на отдельной локации:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!@ delPref
<br/>local $html=$args[0]    & ! помещаем переданный в функцию текст в локальную переменную
<br/>local $prevtag, $aftertag    & ! задаём дополнительные локальные переменные для удобства
<br/>loop local run=1 while run:
<br/>    ! цикл будет выполняться, пока переменной run присвоена единица
<br/>    $prevtag=$strfind($html,'[\s\r\n]+<')    & ! получаем символы преформатирования до начала тега и левую угловую скобку
<br/>    $aftertag=$strfind($html,'>[\s\r\n]+')    & ! получаем правую угловую скобку и символы преформатирования после тега
<br/>    if $prevtag<>'':
<br/>        ! если символы до тега получены
<br/>        $html=$replace($html,$prevtag,'<')
<br/>    elseif $aftertag<>'':
<br/>        ! если получены символы после тега
<br/>        $html=$replace($html,$aftertag,'>')
<br/>    else
<br/>        ! если символы преформатирования около тега не найдены
<br/>        run=0
<br/>    end
<br/>end
<br/>$result=$trim($html)
</code>
<segment>
<p>
Теперь, когда нам нужно вывести на экран HTML, мы просто прогоняем его через функцию:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$html={<qhtml>
<br/><table border=1>
<br/>    <tr>
<br/>        <td width=25% bgcolor=#ffffee>
<br/>            Некий текст
<br/>        </td>
<br/>        <td>Ещё текст</td>
<br/>    </tr>
<br/>    <tr>
<br/>        <td width=25% bgcolor=#ffffee>
<br/>            Вторая строка
<br/>        </td>
<br/>        <td>12345677 &lt; &gt;</td>
<br/>    </tr>
<br/></table>
<br/></qhtml>}
<br/>
<br/>@delPref($html)
</code>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\20_конкретные задачи\24_kak_proshe_zapolniat_massiv_0182.txt-light">
<head anchor="faq_20_23" head-level="h2">
<p>
20.24. Как проще заполнять массив?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В:
</p>
<p>
	Нет ли способа упростить внесение первоначальных данных в массив? Чтобы не писать
</p>
</segment>
<code code-left-level="4" code-type="qsp">
mass[0]=123
<br/>mass[1]=234
<br/>mass[2]=345
<br/>! и т.д.
</code>
<segment>
<p>
	а вместо этого написать что-то типа
</p>
</segment>
<code code-left-level="4" code-type="qsp">
mass = [123, 234, 345]
</code>
<segment>
<p>
О:
</p>
<p>
QSP предоставляет возможность самостоятельно писать любые функции, которые вам необходимы, в том числе и такие, которые будут упрощать ввод данных.
</p>
<p>
В данном случае мы можем написать функцию, которая будет принимать в качестве аргумента имя массива и кортеж значений, которые мы в этот массив хотим поместить, и с помощью цикла внутри функции извлечь из кортежа все значения в подряд идущие ячейки массива.
</p>
<p>
Вот как может выглядеть такая функция:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!# full_array
<br/>$args[0] = $args[0] & ! название массива
<br/>$args[1] = $args[1]+"" & ! переданный кортеж (см. примечание)
<br/>if instr($args[0],'$')=1: $args[0]=$mid($args[0],2) & ! убираем из имени массива символ $
<br/>local instring, $cut & ! объявляем локальные переменные
<br/>loop while len($args[1])>0:
<br/>    ! циклом перебираем строку значений (кортеж)
<br/>    instring=instr($args[1],"")
<br/>    $cut=$mid($args[1],1,instring-1)
<br/>    $args[1]=$mid($args[1],instring+1)
<br/>    ! dynamic "$<<$args[0]>>[]=$args[0]",$cut & ! так мы будем помещать в массив строковые значения
<br/>    dynamic "<<$args[0]>>[]=args[0]",val($cut) & ! а так числовые
<br/>end
</code>
<segment>
<p>
Теперь, когда нам нужно быстро записать в массив много значений, не расписывая на множество строчек присвоение каждой ячейке, мы просто вызываем функцию "full_array":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! вносим в массив значения
<br/>@full_array('mass',(123,234,345))
<br/>
<br/>! для проверки внесённых значений используем цикл
<br/>loop local i=0 while i<arrsize('mass') step i+=1:
<br/>    *pl mass[i]
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Примечание: чтобы понимать, каким образом мы вытаскиваем данные из кортежа, нужно понимать, в каком виде в QSP представлен кортеж. Кортеж — это строка значений. Фактически это обычная строка, в которой все значения разделяются символом "</tag>
<tag name="tt">
</tag>
<tag name="simple-string">
". Этот символ имеет код 0x1f. Именно эту особенность хранения данных мы и используем, чтобы извлечь значения из кортежа. Мы определяем, в какой позиции находится разделяющий символ, затем вырезаем строку до этого символа и помещаем в новую ячейку массива. Дальше работаем уже с оставшейся строкой.
</tag>
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\21_quest generator">
<head anchor="faq_21" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\21_quest generator\00.txt-light">
<p>
21. Вопросы о Quest Generator (v.4.0.0 beta)</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\21_quest generator\01_sochetanie_klavish_0156.txt-light">
<head anchor="faq_21_01" head-level="h2">
<p>
21.1. Мне часто приходится вставлять одинаковые или почти одинаковые кусочки кода. Как автоматизировать этот процесс?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Мне часто приходится вставлять одинаковые или почти одинаковые кусочки кода. Как автоматизировать этот процесс?
</p>
<p>
О:
</p>
<p>
Можно забить кусочки кода на комбинации клавиш. Для этого:
</p>
</segment>
<list list-type="ol-list">
<segment>
<p>
В меню "Утилиты" выберите пункт "Настройки..."</p>
</segment>
<segment>
<p>
Откройте вкладку "Комбинации клавиш" и нажмите кнопку "Добавить". </p>
</segment>
<segment>
<p>
Введите комбинацию клавиш в поле "Комбинация клавиш"</p>
</segment>
<segment>
<p>
Введите кусочек кода в поле "Текст"</p>
</segment>
<segment>
<p>
Нажмите "Ок", и в предыдущем диалоговом окне тоже.</p>
</segment>
</list>
<segment>
<p>
Теперь при нажатии указанного сочетания клавиш в код будет вставляться привязанный фрагмент кода.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\21_quest generator\02_sochetanie_klavish_0157.txt-light">
<head anchor="faq_21_02" head-level="h2">
<p>
21.2. Делаю преформатирование пробелами, чтобы появлялась вертикальная полоска, так нагляднее. Нет ли какой-то комбинации клавиш, чтобы не тыкать пробел по пять раз?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Делаю преформатирование пробелами, чтобы появлялась вертикальная полоска, так нагляднее. Нет ли какой-то комбинации клавиш, чтобы не тыкать пробел по пять раз?
</p>
<p>
О:
</p>
<p>
Можно нажимать, например, один раз клавишу "Tab", один раз пробел.
</p>
<p>
А ещё можно забить кусочки кода на комбинации клавиш. Для этого в меню "Утилиты" выберите пункт "Настройки...", откройте вкладку "Комбинации клавиш" и нажмите кнопку "Добавить". Остаётся только ввести комбинацию клавиш и кусочек кода, который будет вставляться при нажатии на эту комбинацию, например указать сочетание "Alt+5", а как кусочек кода прописать пять пробелов. Тогда при нажатии "Alt+5" у вас будет вставляться пять пробелов.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\21_quest generator\03_svorachivanie_koda_0158.txt-light">
<head anchor="faq_21_03" head-level="h2">
<p>
21.3. Как свернуть кусочек кода, написанный под комментарием?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Как свернуть кусочек кода, написанный под комментарием? В идеале, чтоб остался один только комментарий.
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! комментарий, до которого нужно свернуть код
<br/>    "Строчка кода"
<br/>    "Ещё строчка кода"
<br/>    a=b
</code>
<segment>
<p>
О:
</p>
<p>
К сожалению Quest Generator не учитывает комментарии, когда высчитывает сворачиваемые участки кода, поэтому нельзя свернуть код до комментария. Можно использовать подобный костыль:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$args['свернём код до этой переменной']=$args['свернём код до этой переменной']
<br/>    ! комментарий
<br/>    "Строчка кода"
<br/>    "Ещё строчка кода"
<br/>    a=b
<br/>$args['свернём код до этой переменной']=$args['свернём код до этой переменной']
<br/>
<br/>com=com & ! комментарий, до которого сворачиваем блок кода
<br/>    ! комментарий
<br/>    "Строчка кода"
<br/>    "Ещё строчка кода"
<br/>    a=b
<br/>com=com & ! комментарий, до которого сворачиваем блок кода
<br/>
<br/>local com & ! комментарий, до которого сворачиваем блок кода
<br/>    ! комментарий
<br/>    "Строчка кода"
<br/>    "Ещё строчка кода"
<br/>    a=b
<br/>local com & ! комментарий, до которого сворачиваем блок кода 
</code>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\23_ограничения">
<head anchor="faq_23" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\23_ограничения\00.txt-light">
<p>
23. Ограничения</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\23_ограничения\01_podkljuchaemye_fajly_0170.txt-light">
<head anchor="faq_23_01" head-level="h2">
<p>
23.1. Видел в справке ограничение на 100 подключаемых файлов. Это что, я не смогу использовать более ста файлов картинок и музыки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Видел в справке ограничение на 100 подключаемых файлов. Это что, я не смогу использовать более ста файлов картинок и музыки?
</p>
<p>
О:
</p>
<p>
Нет, в данном случае имеется ввиду совсем не это. Вы можете использовать в игре сколь угодно большое количество звуков и картинок, всё ограничено лишь мощностями компьютера и объёмом выделяемых для плеера ресурсов.
</p>
<p>
<tag name="simple-string">
Под сотней подключаемых файлов имеются ввиду модули в виде файлов ".qsp", которые вы подключаете с помощью оператора </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
inclib "easy.math.qsp"
</code>
<segment>
<p>
Таких файлов можно одновременно подключать не более ста.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\23_ограничения\02_vyvodimye_dejstvija_0171.txt-light">
<head anchor="faq_23_02" head-level="h2">
<p>
23.2. Хочу разместить на локации около 100 действий. Это вообще возможно?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Хочу разместить на локации около 100 действий. Это вообще возможно?
</p>
<p>
О:
</p>
<p>
Нет. QSP поддерживает одновременный вывод только 50 действий. Однако, если у тебя на локации получается так много действий, то скорее всего ты неправильно подходишь к дизайну своей игры. Игроку будет тяжело ориентироваться одновременно более чем в десяти-пятнадцати действиях на локации. Лучше распределить такой объём действий по блокам.
</p>
<p>
Например, если действия служат для обозначения предметов, лежащих на складе, можно выводить предметы наборами по типам, по весу, или другим характеристикам.
</p>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\23_ограничения\03_imena_peremennyh_0172.txt-light">
<head anchor="faq_23_03" head-level="h2">
<p>
23.3. Генерирую переменные с помощью оператора dynamic, и вдруг выходит ошибка 123. Что это, и как с этим бороться?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
В: Генерирую переменные с помощью оператора dynamic, и вдруг выходит ошибка 123. Что это, и как с этим бороться?
</p>
<p>
О:
</p>
<p>
Бороться с этим нельзя, можно только стараться не использовать такое большое количество переменных. QSP не позволяет работать более, чем с пятью десятками переменных с одинаковым хэшем имени. При этом массив считается за одну переменную. Всего можно использовать 12800 различных переменных в игре. Поэтому, когда вы превышаете это число, плеер ругается.
</p>
</segment>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\24_вопросы по работе с плеерами">
<head anchor="faq_24" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\01_Основной раздел\24_вопросы по работе с плеерами\00.txt-light">
<p>
24. Вопросы по работе с плеерами</p>
</head>
</folder>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова">
<head anchor="faq_80" head-level="h1" path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\00.txt-light">
<p>
Зарезервированные слова, системные переменные и спецсимволы</p>
</head>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\01_qsp-keyword_0175.txt-light">
<head anchor="faq_80_01" head-level="h2">
<p>
Операции</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
[:faq_80_01_00]Список операций для плеера версии 5.7.0 в порядке возрастания приоритета:
</p>
<p>
<tag name="tt">
&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
OR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
AND</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
OBJ</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
LOC</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
NO</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
=</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
<</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
></tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
!</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
<></tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
<=</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
>=</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
=<</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
=></tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
+</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
-</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
MOD</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
*</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
/</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="tt">
+</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
-</tag>
<tag name="simple-string">
 (унарные)
</tag>
</p>
<p>
Операции записанные на одной строке имеют одинаковый приоритет и выполняются по порядку слева направо, если присутствуют на одном уровне в выражении.
</p>
<p>
Операции в скобках имеют приоритет перед другими операциями.
</p>
<p>
Вычисение значений функций имеет приоритет перед всеми операциями.
</p>
<p>
Верным считается числовое выражение, значение которого отлично от 0. При значении 0 выражение считается ложным. Для значения "верно" настоятельно рекомендуется использовать -1, т.к. только в этом случае будут адекватно работать побитовые операторы в роли логических.
</p>
<p>
В более новых версиях плеера приоритет некоторых операций изменён.
</p>
</segment>
</segment>
<head anchor="faq_80_01_multi" head-level="h3">
<p>
* (умножение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*</tag>
<tag name="simple-string">
 — арифметическая операция "УМНОЖЕНИЕ". Перемножает два числа. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[#выражение 1]*[#выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 — два любых числовых значения, или выражения. Результатом работы операции является произведение двух чисел.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
2*2 & ! вернёт 4
<br/>4*2 & ! вернёт 8
<br/>17*5 & ! вернёт 85
<br/>37*100 & ! вернёт 3700
</code>
</segment>
<head anchor="faq_80_01_multiaprop" head-level="h3">
<p>
*= (умножение-присвоение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*=</tag>
<tag name="simple-string">
 — операция "УМНОЖЕНИЕ-ПРИСВОЕНИЕ". Сочетает в себе операции присвоения и умножения. Умножает значение указанной переменной на определённое число и возвращает результат той же переменной. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА*=[#выражение 1]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
ИМЯ_МАССИВА</tag>
<tag name="simple-string">
 — это название переменной (без кавычек), или название массива с указанием ячейки, а </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 — любое числовое значение или выражение.
</tag>
</p>
<p>
	Аналогично конструкции:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
ИМЯ_МАССИВА=ИМЯ_МАССИВА*[#выражение 1]
</code>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! мы заменяем две операции: присвоения и умножение
<br/>warrior=warrior*2
<br/>! на умножение-присвоение (действие аналогично)
<br/>warrior*=2
</code>
</segment>
<head anchor="faq_80_01_add" head-level="h3">
<p>
+ (сложение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
+</tag>
<tag name="simple-string">
 — арифметическая операция "СЛОЖЕНИЕ". Суммирует два числа. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение 1]+[выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[выражение 2]</tag>
<tag name="simple-string">
 — два любых значения, или выражения. Результатом работы операции является сумма двух значений.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
2+2 & ! вернёт 4
<br/>4+2 & ! вернёт 6
<br/>17+5 & ! вернёт 22
<br/>37+100 & ! вернёт 137
</code>
<segment>
<p>
<tag name="simple-string">
	Можно "суммировать" и текстовые значения. В этом случае операция работает как </tag>
<tag name="hyperlink" href="#faq_80_01_concatenation">
конкатенация</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! на экран будет выведена строка "2627"
<br/>"26"+"27"
</code>
</segment>
<head anchor="faq_80_01_incr" head-level="h3">
<p>
+= (сложение-присвоение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
+= (инкремент)</tag>
<tag name="simple-string">
 — операция "ИНКРЕМЕНТ", сочетающая в себе операции присвоения и сложения. Прибавляет к текущему значению переменной указанное значение. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА+=[выражение 1]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
ИМЯ_МАССИВА</tag>
<tag name="simple-string">
 — это название переменной (без кавычек), или название массива с указанием ячейки, а </tag>
<tag name="tt">
[выражение 1]</tag>
<tag name="simple-string">
 — любое значение или выражение.
</tag>
</p>
<p>
	Аналогично конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА=ИМЯ_МАССИВА+[выражение 1]
</code>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! мы заменяем две операции: присвоения и сложения
<br/>warrior=warrior+15
<br/>! на инкремент (действие аналогично)
<br/>warrior+=15
</code>
<segment>
<p>
<tag name="simple-string">
	Возможно так же проводить инкремент со строковыми значениями, работает как </tag>
<tag name="hyperlink" href="#faq_80_01_concatenation">
конкатенация</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$text+=" (может быть тут что-то написано)"
</code>
<segment>
<p>
	P.S.: Инкремент — во многих языках программирования это операция, которая выполняет увеличение переменной. Чаще всего под инкрементом подразумевается увеличение переменной на 1 единицу.
</p>
</segment>
</segment>
<head anchor="faq_80_01_subt" head-level="h3">
<p>
- (вычитание)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
-</tag>
<tag name="simple-string">
 — арифметическая операция "ВЫЧИТАНИЕ". Вычитает одно число из другого. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение 1]-[выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[выражение 2]</tag>
<tag name="simple-string">
 — два любых значения, или выражения. Результатом работы операции является разность двух значений.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
2-2 & ! вернёт 0
<br/>4-2 & ! вернёт 2
<br/>17-5 & ! вернёт 12
<br/>37-100 & ! вернёт -63
</code>
</segment>
<head anchor="faq_80_01_decr" head-level="h3">
<p>
-= (вычитание-присвоение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
-= (декремент)</tag>
<tag name="simple-string">
 — операция "ДЕКРЕМЕНТ", сочетающая в себе операции присвоения и вычитания. Вычитает из текущего значения переменной указанное значение. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА-=[#выражение 1]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
ИМЯ_МАССИВА</tag>
<tag name="simple-string">
 — это название переменной (без кавычек), или название массива с указанием ячейки, а </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 — любое числовое значение или выражение.
</tag>
</p>
<p>
	Аналогично конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА=ИМЯ_МАССИВА-[#выражение 1]
</code>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! мы заменяем две операции: присвоения и вычитания
<br/>warrior=warrior-15
<br/>! на декремент (действие аналогично)
<br/>warrior-=15
</code>
<segment>
<p>
	P.S.: Декремент — во многих языках программирования это операция, которая выполняет уменьшение переменной. Чаще всего под декрементом подразумевается уменьшение переменной на 1 единицу. 
</p>
</segment>
</segment>
<head anchor="faq_80_01_unar" head-level="h3">
<p>
- и + (унарные)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
унарные + и -</tag>
<tag name="simple-string">
 — унарные операции. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
+[#выражение]
<br/>-[#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — любое числовое значение или выражение. Результатом работы этих операций является то же самое значение, только в случае с унарным минусом — с противоположным знаком.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
-2 & ! вернёт -2
<br/>-(3+6) & ! вернёт -9
<br/>+2 & ! вернёт 2
<br/>+(3+6) & ! вернёт 9
<br/>-(-27) & ! вернёт 27
</code>
</segment>
<head anchor="faq_80_01_div" head-level="h3">
<p>
/ (деление)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
/</tag>
<tag name="simple-string">
 — арифметическая операция "ДЕЛЕНИЕ". Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[#выражение 1]/[#выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 — два любых числовых значения, или выражения. Значение </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 не должно быть равным нулю. Результатом работы операции является частное от деления двух чисел.
</tag>
</p>
<p>
	Поскольку QSP поддерживает только целочисленные значения, деление производится так же нацело, без округления, с отсечением дробной части.
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
2/2 & ! вернёт 1
<br/>4/2 & ! вернёт 2
<br/>17*5 & ! вернёт 3
<br/>37*100 & ! вернёт 0
</code>
</segment>
<head anchor="faq_80_01_divaprop" head-level="h3">
<p>
/= (деление-присвоение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
/=</tag>
<tag name="simple-string">
 — операция "ДЕЛЕНИЕ-ПРИСВОЕНИЕ". Сочетает в себе операции присвоения и деления. Делит значение указанной переменной на определённое число и возвращает результат той же переменной. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА/=[#выражение 1]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
ИМЯ_МАССИВА</tag>
<tag name="simple-string">
 — это название переменной (без кавычек), или название массива с указанием ячейки, а </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 — любое числовое значение или выражение.
</tag>
</p>
<p>
	Аналогично конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА=ИМЯ_МАССИВА/[#выражение 1]
</code>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! мы заменяем две операции: присвоения и деления
<br/>warrior=warrior/2
<br/>! на деление-присвоение (действие аналогично)
<br/>warrior/=2
</code>
</segment>
<head anchor="faq_80_01_smal" head-level="h3">
<p>
< (меньше)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
<</tag>
<tag name="simple-string">
 — операция сравнения "МЕНЬШЕ".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]<[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 меньше значения выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое меньше второго.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 меньше 4 — вернёт -1
<br/>2<4
<br/>! 5 не меньше 5 — вернёт 0
<br/>5<5
<br/>! 7 не меньше 3 — вернёт 0
<br/>7<3
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"a"<"z"         & ! верно
<br/>"z"<"zz"     & ! верно
<br/>"aaaaaa"<"z" & ! верно
</code>
</segment>
<head anchor="faq_80_01_smaleq" head-level="h3">
<p>
<= (меньше либо равно)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
<=</tag>
<tag name="simple-string">
 — операция сравнения "МЕНЬШЕ ЛИБО РАВНО".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]<=[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 меньше либо равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое меньше второго, либо равно ему.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 меньше 4 — вернёт -1
<br/>2<=4
<br/>! 5 равно 5 — вернёт -1
<br/>5<=5
<br/>! 7 не меньше трёх и не равно ему
<br/>7<=3 & ! вернёт 0
</code>
<segment>
<p>
	Аналогично "=<" и конструкциям:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
([выражение_1]<[выражение_2]) or ([выражение_1]=[выражение_2])
<br/>no [выражение_1]>[выражение_2]
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"a"<="z"    & ! верно
<br/>"z"<="zz"    & ! верно
<br/>"aaaaaa"<="z" & ! верно
<br/>"z"<="z" & ! верно
</code>
</segment>
<head anchor="faq_80_01_smalmore" head-level="h3">
<p>
<> (не равно)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
<></tag>
<tag name="simple-string">
 — операция сравнения "НЕ РАВНО". Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]<>[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 не равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если выражения не равны.
</tag>
</p>
<p>
	Аналогично "!", или конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
no [выражение_1]=[выражение_2]
</code>
<segment>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не равно 4 — вернёт -1
<br/>2<>4
<br/>! 5 равно 5 — вернёт 0
<br/>5<>5
</code>
<segment>
<p>
	Можно сравнивать и строковые значения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"abc"<>"def" & ! вернёт -1
<br/>"abc"<>"abc" & ! вернёт 0
</code>
</segment>
<head anchor="faq_80_01_eq" head-level="h3">
<p>
= (равно)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
=</tag>
<tag name="simple-string">
 —  операция сравнения "РАВНО". Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]=[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если выражения равны.
</tag>
</p>
<p>
	Аналогично конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
no [выражение_1]<>[выражение_2]
</code>
<segment>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не равно 4 — вернёт 0
<br/>(2=4)
<br/>! 5 равно 5 — вернёт -1
<br/>(5=5)
</code>
<segment>
<p>
	Можно сравнивать и строковые значения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
("abc"="def") & ! вернёт 0
<br/>("abc"="abc") & ! вернёт -1
</code>
<segment>
<p>
	Не путать с операцией присвоения.
</p>
</segment>
</segment>
<head anchor="faq_80_01_aprop" head-level="h3">
<p>
= (присвоение)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
=</tag>
<tag name="simple-string">
 — операция присвоения. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ИМЯ_МАССИВА=[значение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
ИМЯ_МАССИВА</tag>
<tag name="simple-string">
 — название переменной (не в кавычках), или название массива с указанием ячейки (не в кавычках), </tag>
<tag name="tt">
[значение]</tag>
<tag name="simple-string">
 — любое значение или выражение.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! переменной BOX присваиваем значение 13
<br/>BOX=13
<br/>! переменной $text присваиваем значение "Строка текста"
<br/>$text="Строка текста"
<br/>! нулевой ячейке массива day присваивается значение 365
<br/>day[0]=365
</code>
<segment>
<p>
<tag name="simple-string">
	Имена строковых переменных/массивов должны начинаться с символа </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Внимание! Операцию присвоения не следует путать с операцией сравнения "РАВНО", хотя они очень похожи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! операция присвоения
<br/>alukard=1000
<br/>! операция сравнения
<br/>(alukard=1000)
</code>
<segment>
<p>
	В этом случае плеер понимает, что внутри скобок находится операция сравнения, потому что скобки используются только для записи выражений. Запись:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"abc"="abc"
</code>
<segment>
<p>
	синтаксически ошибочна. Плеер выдаст ошибку: недопустимое название переменной/массива. Так как в этом случае он не понимает, что это операция сравнения.
</p>
<p>
	Если перед операцией сравнения стоит оператор, скобки можно не писать:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if alukard=150: *pl "Не хватает сил"
</code>
</segment>
<head anchor="faq_80_01_eqsmal" head-level="h3">
<p>
=< (равно либо меньше)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
=<</tag>
<tag name="simple-string">
 — операция сравнения "РАВНО ЛИБО МЕНЬШЕ".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]=<[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 меньше либо равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое меньше второго, либо равно ему.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 меньше 4 — вернёт -1
<br/>2=<4
<br/>! 5 равно 5 — вернёт -1
<br/>5=<5
<br/>! 7 не меньше трёх и не равно ему
<br/>7=<3 & ! вернёт 0
</code>
<segment>
<p>
	Аналогично "<=" и конструкциям:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
([выражение_1]<[выражение_2]) or ([выражение_1]=[выражение_2])
<br/>no [выражение_1]>[выражение_2]
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"a"=<"z"    & ! верно
<br/>"z"=<"zz"    & ! верно
<br/>"aaaaaa"=<"z" & ! верно
<br/>"z"=<"z" & ! верно
</code>
<segment>
<p>
Данная запись, хотя и допустима в QSP, к использованию не рекомендуется. Используйте "<= (меньше либо равно)" вместо этого.
</p>
</segment>
</segment>
<head anchor="faq_80_01_eqmore" head-level="h3">
<p>
=> (равно или больше)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
=></tag>
<tag name="simple-string">
 — операция сравнения "РАВНО ИЛИ БОЛЬШЕ".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]=>[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 больше либо равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое больше второго, либо равно ему.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не меньше и не равно 4 — вернёт 0
<br/>2=>4
<br/>! 5 равно 5 — вернёт -1
<br/>5=>5
<br/>! 7 больше 3
<br/>7=>3 & ! вернёт -1
</code>
<segment>
<p>
	Аналогично ">=" и конструкциям:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
([выражение_1]>[выражение_2]) or ([выражение_1]=[выражение_2])
<br/>no [выражение_1]<[выражение_2]
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"z"=>"a"    & ! верно
<br/>"zz"=>"z"    & ! верно
<br/>"z"=>"aaaaaa" & ! верно
<br/>"z"=>"z" & ! верно
</code>
<segment>
<p>
Данная запись, хотя и допустима в QSP, к использованию не рекомендуется. Используйте ">= (больше либо равно)" вместо этого.
</p>
</segment>
</segment>
<head anchor="faq_80_01_more" head-level="h3">
<p>
> (больше)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
></tag>
<tag name="simple-string">
 — операция сравнения "БОЛЬШЕ".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]>[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 больше значения выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое больше второго.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не больше 4 — вернёт 0
<br/>2>4
<br/>! 5 не больше 5 — вернёт 0
<br/>5>5
<br/>! 7 больше 3 — вернёт -1
<br/>7>3
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"z">"a"         & ! верно
<br/>"zz">"z"     & ! верно
<br/>"z">"aaaaaa" & ! верно
</code>
</segment>
<head anchor="faq_80_01_moreeq" head-level="h3">
<p>
> (больше либо равно)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
>=</tag>
<tag name="simple-string">
 — операция сравнения "БОЛЬШЕ ЛИБО РАВНО".  Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]>=[выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 больше либо равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если первое больше второго, либо равно ему.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не меньше и не равно 4 — вернёт 0
<br/>2>=4
<br/>! 5 равно 5 — вернёт -1
<br/>5>=5
<br/>! 7 больше 3
<br/>7>=3 & ! вернёт -1
</code>
<segment>
<p>
	Аналогично "=>" и конструкциям:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
([выражение_1]>[выражение_2]) or ([выражение_1]=[выражение_2])
<br/>no [выражение_1]<[выражение_2]
</code>
<segment>
<p>
	Сравнивать можно и текстовые значения, при этом символы сравниваются поочерёдно, и большим считается символ, стоящий ближе к концу алфавита.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"z">="a"    & ! верно
<br/>"zz">="z"    & ! верно
<br/>"z">="aaaaaa" & ! верно
<br/>"z">="z" & ! верно
</code>
</segment>
<head anchor="faq_80_01_noeq" head-level="h3">
<p>
! (не равно)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
!</tag>
<tag name="simple-string">
 — операция сравнения "НЕ РАВНО". Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[выражение_1]![выражение_2]
</code>
<segment>
<p>
<tag name="simple-string">
	Если значение выражения </tag>
<tag name="tt">
[выражение_1]</tag>
<tag name="simple-string">
 не равно значению выражения </tag>
<tag name="tt">
[выражение_2]</tag>
<tag name="simple-string">
 операция вернёт -1, в противном случае вернёт 0. Иными словами: верно, если выражения не равны.
</tag>
</p>
<p>
	Аналогично "<>", или конструкции:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
no [выражение_1]=[выражение_2]
</code>
<segment>
<p>
	Не путать с оператором комментария.
</p>
<p>
<tag name="simple-string">
	Для лучшей читаемости кода лучше использовать </tag>
<tag name="tt">
<></tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 2 не равно 4 — вернёт -1
<br/>2!4
<br/>! 5 равно 5 — вернёт 0
<br/>5!5
</code>
</segment>
<head anchor="faq_80_01_concatenation" head-level="h3">
<p>
& (конкатенация)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
&</tag>
<tag name="simple-string">
 — конкатенация, операция объединения строковых выражений. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[$выражение 1] & [$выражение 2]
</code>
<segment>
<p>
	Не путайте с символом перечисления команд:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! в данном случае на экран будут последовательно выведены строки "26" и "27"
<br/>"26" & "27"
<br/>! в данном случае на экран будет выведена строка "2627"
<br/>("26" & "27")
</code>
<segment>
<p>
<tag name="simple-string">
	Не рекомендуется использовать данную операцию для объединения строк, поскольку строки можно объединять через </tag>
<tag name="hyperlink" href="#faq_80_01_add">
<tag name="tt">
+</tag>
</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! на экран будет выведена строка "2627"
<br/>"26"+"27"
</code>
<segment>
<p>
	Такая запись создаёт меньше путаницы и работает аналогичным образом.
</p>
</segment>
</segment>
<head anchor="faq_80_01_and" head-level="h3">
<p>
AND</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
AND</tag>
<tag name="simple-string">
 — логическое "И" (побитовое "И"). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[#выражение 1] AND [#выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	Всё данное выражение будет верным, если верны выражения </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! обе части выражения верны, значит и всё выражение верно
<br/>(2=2) and (3!2) & ! выражение вернёт -1 (правда)
<br/>! одна часть выражения не верна, значит всё выражение неверно
<br/>(2!2) and (3!2) & ! выражение вернёт 0 (ложь)
<br/>! обе части выражения не верны, значит и всё выражение не верно
<br/>(2!2) and (3=2) & ! выражение вернёт 0 (ложь)
</code>
</segment>
<head anchor="faq_80_01_loc" head-level="h3">
<p>
LOC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
LOC</tag>
<tag name="simple-string">
 — операция проверяет наличие локации и возвращает -1, если локация есть, и — 0, если локации нет. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
LOC [$локация]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — название локации, наличие которой необходимо проверить в игре. Выражение верно, если локация существует в игре.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! проверяет, есть ли в игре локация "начало"
<br/>loc "начало" & ! если локация есть, возвращает -1
<br/>
<br/>! если локация "улица" не добавлена в игру
<br/>if (loc "улица")=0:
<br/>    act "Выйти на улицу": *pl "Я не могу выйти на улицу, дверь не отпирается."
<br/>end
</code>
</segment>
<head anchor="faq_80_01_mod" head-level="h3">
<p>
MOD</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MOD</tag>
<tag name="simple-string">
 — операция вычисляет остаток от деления двух чисел. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[#выражение 1] MOD [#выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 — делимое, </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 — делитель.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 4 делится на 2 нацело
<br/>4 mod 2 & ! возвращает 0
<br/>! 5 не делится на 2 нацело
<br/>5 mod 2 & ! возвращает 1
<br/>! 13 делится на 10 нацело
<br/>13 mod 10 & ! возвращает 3
</code>
<segment>
<p>
	Остаток от деления отрицательного числа будет отрицательным числом.
</p>
</segment>
</segment>
<head anchor="faq_80_01_no" head-level="h3">
<p>
NO</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
NO</tag>
<tag name="simple-string">
 — операция отрицания. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
NO [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	Если </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 верно, то всё выражение неверно, и наоборот.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! 4 равно 4 это верно, значит всё выражение неверно
<br/>no 4=4 & ! вернёт 0 (ложь)
<br/>! можно читать как вопрос: четыре не равно четырём? Нет — ложь.
<br/>
<br/>! то, что 5 равно 3, — неверно, значит всё выражение верно
<br/>no 5=3 & ! вернёт -1 (правда)
<br/>! можно читать как вопрос: пять не равно трём? Да — правда.
</code>
</segment>
<head anchor="faq_80_01_obj" head-level="h3">
<p>
OBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
OBJ</tag>
<tag name="simple-string">
 — операция проверяет наличие предмета в инвентаре и возвращает -1, если предмет есть, и — 0, если предмета нет. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
OBJ [$название]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$название]</tag>
<tag name="simple-string">
 — название предмета, наличие которого необходимо проверить в окне предметов. Выражение верно, если предмет добавлен в окно предметов.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! проверяет, добавлен ли в окно предметов предмет "Отвёртка"
<br/>obj "Отвёртка" & ! если предмет есть, возвращает -1
<br/>
<br/>! в зависимости от наличия того или иного предмета
<br/>! выводится то или иное действие
<br/>if (obj "Полный кувшин")=-1:
<br/>    act "Опустошить кувшин":
<br/>        delobj "Полный кувшин"
<br/>        addobj "Пустой квушин"
<br/>        goto $curloc
<br/>    end
<br/>elseif (obj "Пустой кувшин")=-1:
<br/>    act "Наполнить кувшин":
<br/>        addobj "Полный кувшин"
<br/>        delobj "Пустой квушин"
<br/>        goto $curloc
<br/>    end 
<br/>end
</code>
</segment>
<head anchor="faq_80_01_or" head-level="h3">
<p>
OR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
OR</tag>
<tag name="simple-string">
 — логическое "ИЛИ" (побитовое "ИЛИ"). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
[#выражение 1] OR [#выражение 2]
</code>
<segment>
<p>
<tag name="simple-string">
	Всё данное выражение будет верным, если хотя бы одно из выражений </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 верно.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! обе части выражения верны, значит и всё выражение верно
<br/>(2=2) or (3!2) & ! выражение вернёт -1 (правда)
<br/>! одна часть выражения верна, значит всё выражение верно
<br/>(2!2) or (3!2) & ! выражение вернёт -1 (правда)
<br/>! обе части выражения не верны, значит и всё выражение не верно
<br/>(2!2) or (3=2) & ! выражение вернёт 0 (ложь) 
</code>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\02_qsp-keyword_0176.txt-light">
<head anchor="faq_80_02" head-level="h2">
<p>
Операторы</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="faq_80_02_impicit" head-level="h3">
<p>
Неявный оператор</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Неявный оператор — это оператор, который не прописывается в коде QSP, но производит вывод значений на экран. Неявный оператор подразумевается везде, где в команде присутствует выражение без оператора. Неявный оператор выводит в </tag>
<tag name="tt">
Окно основного описания</tag>
<tag name="simple-string">
 значения таким же образом, как если бы вы использовали явное указание оператора </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
, то есть выводит значение и совершает переход на новую строку. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$AAA+'989'
<br/>'Вы находитесь в парке'
<br/>'Преформатированная
<br/>
<br/>    строка'
<br/>$curloc & ! выведет на экран название локации
</code>
<segment>
<p>
<tag name="simple-string">
В отличие от оператора </tag>
<tag name="tt">
*pl</tag>
<tag name="simple-string">
 неявный оператор не выводит на экран пустую строку с переходом на новую строку, если ему не передаётся никакое значение. Это означает, что если функция не возвращает никакого значения, неявный оператор просто игнорируется. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
# start
<br/>! это код локации, вызывающей локацию-функцию
<br/>$curloc
<br/>$func('foo')
<br/>$func('foo')
<br/>$curloc
<br/>- start
<br/>
<br/># foo
<br/>! это код локации-функции
<br/>local i=0
<br/>- foo
</code>
<segment>
<p>
<tag name="simple-string">
В данном случае локация-функция </tag>
<tag name="tt">
foo</tag>
<tag name="simple-string">
 ничего не возвращает, поэтому на экране мы увидим две строки со словом "start", между которыми не будет пустых строк, так как неявный оператор в строках с </tag>
<tag name="tt">
$func</tag>
<tag name="simple-string">
 на локации </tag>
<tag name="tt">
start</tag>
<tag name="simple-string">
 будет просто проигнорирован. Сравните с:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
# start
<br/>! это код локации, вызывающей локацию-функцию
<br/>*pl $curloc
<br/>*pl $func('foo')
<br/>*pl $func('foo')
<br/>*pl $curloc
<br/>- start
<br/>
<br/># foo
<br/>! это код локации-функции
<br/>local i=0
<br/>- foo
</code>
</segment>
<head anchor="faq_80_02_comments" head-level="h3">
<p>
! (комментарий)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
!</tag>
<tag name="simple-string">
 — оператор комментария. То, что находится в строке после оператора комментария, и до конца строки игнорируется интерпретатором. Оператор комментария позволяет "закомментировать" (выключить) ненужный временно оператор / функцию во время отладки игры. Кроме того, написание комментариев к коду программы является одним из признаков хорошего стиля программирования.
</tag>
</p>
<p>
<tag name="simple-string">
	Необходимо чётко понимать, что это именно оператор, поэтому если вы комментируете некую строку кода, то </tag>
<tag name="tt">
!</tag>
<tag name="simple-string">
 должен стоять после </tag>
<tag name="tt">
&</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "Hello, world!" & ! комментарий
</code>
<segment>
<p>
	Комментарии могут быть однострочными, то есть заканчиваться в той же строке, где стоит оператор комментария:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! однострочный комментарий
<br/>*pl "строка текста" & ! тоже однострочный комментарий
</code>
<segment>
<p>
	Комментарии могут быть многострочными. Для этого после оператора комментария нужно записать кавычки, апострофы, или фигурные скобки. Например так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! "это первая строка коммантария
<br/>    это вторая строка комментария
<br/>    это третья строка комментария
<br/>"
</code>
<segment>
<p>
	Многострочные комментарии могут принимать самые разнообразные формы:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! строка до  кавычек " текст внутри кавычек
<br/>может переходить на другие строки " а так же {
<br/>можно использовать другие группы символов, чтобы 
<br/>продолжать многострочный комментарий
<br/>} и комментарий не кончится, пока не кончится строка
</code>
</segment>
<head anchor="faq_80_02_sclr" head-level="h3">
<p>
<tag name="italic">
CLEAR (</tag>
<tag name="simple-string">
CLR)</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*CLEAR</tag>
<tag name="simple-string">
 — очищает окно основного описания. Имеет краткую форму </tag>
<tag name="tt">
*clr</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_snl" head-level="h3">
<p>
*NL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*NL</tag>
<tag name="simple-string">
 — переход на новую строку, затем вывод текста в окне основного описания. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
*NL [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. Если </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 отсутствует, происходит просто переход на новую строку. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*p "Текст без перехода на новую строку."
<br/>*nl "Переход на новую строку + выведение текста."
<br/>*p "Текст без перехода на новую строку."
</code>
</segment>
<head anchor="faq_80_02_sp" head-level="h3">
<p>
*P</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*P</tag>
<tag name="simple-string">
 — вывод текста в окно основного описания без перехода на новую строку. Вывод текста любым другим оператором сразу после </tag>
<tag name="tt">
*p</tag>
<tag name="simple-string">
 добавит новый текст сразу после текущего. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*P [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 может быть пустой строкой </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
, но не должен отсутствовать. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*p "Текст без перехода на новую строку."
<br/>*p "Текст без перехода на новую строку."
<br/>*p ""
<br/>*p "Текст без перехода на новую строку."
</code>
</segment>
<head anchor="faq_80_02_spl" head-level="h3">
<p>
*pl</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
*PL</tag>
<tag name="simple-string">
 — вывод текста в окно основного описания, затем переход на новую строку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*PL [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
	 где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 может отсутствовать, тогда просто переход на новую строку. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "Вывод текста, затем переход на новую строку."
<br/>*pl "Вывод текста, затем переход на новую строку."
<br/>*p "Текст без перехода на новую строку."
<br/>*pl "Вывод текста, затем переход на новую строку."
</code>
<segment>
<p>
	Аналогичным образом можно вывести текст, просто написав нужное выражение вместо данного оператора. Например, строки:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl $AAA+'989'
<br/>*pl 'Вы находитесь в парке'
<br/>*pl 'Преформатированная
<br/>
<br/>    строка'
</code>
<segment>
<p>
	и:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$AAA+'989'
<br/>'Вы находитесь в парке'
<br/>'Преформатированная
<br/>
<br/>    строка'
</code>
<segment>
<p>
 	сработают одинаково.
</p>
</segment>
</segment>
<head anchor="faq_80_02_act" head-level="h3">
<p>
ACT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ACT</tag>
<tag name="simple-string">
 — создаёт и выводит в окно действий новое действие.
</tag>
</p>
<p>
	Общая запись в однострочной форме:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ACT [$название], [$путь к файлу изображения]: [оператор] & [оператор] & [оператор]
</code>
<segment>
<p>
	Общая запись в многострочной форме:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ACT [$название], [$путь к файлу изображения]:
<br/>    [оператор]
<br/>    [оператор]
<br/>    [оператор]
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
	К списку действий в окне действий добавляется новое с названием </tag>
<tag name="tt">
[$название]</tag>
<tag name="simple-string">
 и изображением, которое лежит по пути </tag>
<tag name="tt">
[$путь к файлу изображения]</tag>
<tag name="simple-string">
. При нажатии на действие выполняются заданные операторы.
</tag>
</p>
<p>
<tag name="simple-string">
	Параметр </tag>
<tag name="tt">
[$путь к файлу изображения]</tag>
<tag name="simple-string">
 может отсутствовать, при этом действие добавится без изображения.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! действие в однострочной форме записи
<br/>act "Сорвать с берёзы яблоко": яблоко+=1 & *pl "Вы сорвали яблоко, спелое белое."
<br/>
<br/>! действие в многострочной форме записи, с изображением
<br/>act "Сорвать арбуз с куста","img/watermelon.png":
<br/>    арбуз+=1
<br/>    *pl "Вы сорвали арбуз с куста"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	Если в списке действий уже есть действие с указанным названием, то новое действие не создаётся, и не заменяет собой уже существующее, плеер просто игнорирует команду </tag>
<tag name="tt">
act</tag>
<tag name="simple-string">
. Таким образом нельзя вывести действия с одинаковыми названиями. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
act "Действие 1": *pl "Старое действие."
<br/>act "Действие 1": *pl "Новое действие."
</code>
<segment>
<p>
	Однако, вы можете сымитировать действия с одинаковыми названиями в режиме распознавания HTML, добавив в названия действий несуществующий HTML-тег:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
usehtml=1
<br/>act "Действие 1<uid-old>": *pl "Старое действие."
<br/>act "Действие 1<uid-new>": *pl "Новое действие."
</code>
</segment>
<head anchor="faq_80_02_addobj" head-level="h3">
<p>
ADDOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ADDOBJ</tag>
<tag name="simple-string">
 — добавление нового предмета в окно предметов. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ADDOBJ [$название],[$путь к файлу изображения],[#позиция]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$название]</tag>
<tag name="simple-string">
 — это название предмета, </tag>
<tag name="tt">
[$путь к файлу изображения]</tag>
<tag name="simple-string">
 — это путь к файлу изображения предмета (отображается рядом с названием предмета), а </tag>
<tag name="tt">
[#позиция]</tag>
<tag name="simple-string">
 — на какое место в инвентаре добавляется предмет. Параметр </tag>
<tag name="tt">
[#позиция]</tag>
<tag name="simple-string">
 может отсутствовать. По умолчанию предметы добавляются в конец списка. Нумерация предметов в инвентаре ведётся с 1. Параметр </tag>
<tag name="tt">
[$путь к файлу изображения]</tag>
<tag name="simple-string">
 может отсутствовать, значение по умолчанию - </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
, при этом предмет добавляется без изображения.
</tag>
</p>
<p>
	Допускается, но не рекомендуется, запись:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
ADD OBJ [$название],[$путь к файлу изображения],[#индекс]
</code>
<segment>
<p>
	Можно добавлять предметы с одинаковым названием, однако если вы планируете добавлять много одинаковых предметов, то лучше использовать дополнительную переменную для подсчёта этих предметов, а в окно предметов добавить один предмет, чтобы не загромождать инвентарь списком из 137 предметов Рубль / Патрон:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if obj 'Патроны':
<br/>! если предмет "Патроны" уже добавлен, просто увеличиваем их число
<br/>    патроны=патроны+10
<br/>else
<br/>! если предмет "Патроны" ещё не добавлен, добавляем, и увеличиваем число
<br/>    addobj 'Патроны'
<br/>    патроны=патроны+10
<br/>end
</code>
<segment>
<p>
	Для хранения числа предметов можно использовать массивы, индексируемые через строки:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
objects['деньги'] = 12
<br/>objects['патроны'] = 137
<br/>'Количество: <<objects[$getobj(countobj)]>>'
</code>
<segment>
<p>
	Пример добавления предмета в самый верх списка (при этом все остальные предметы сместятся вниз):
</p>
</segment>
<code code-left-level="4" code-type="qsp">
addobj "Отвёртка","",1
</code>
</segment>
<head anchor="faq_80_02_cla" head-level="h3">
<p>
CLA</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CLA</tag>
<tag name="simple-string">
 - очистка списка текущих действий (удаление всех действий из окна действий).
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_clear" head-level="h3">
<p>
CLEAR (CLR)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CLEAR</tag>
<tag name="simple-string">
 — очищает окно дополнительного описания. Имеет краткую форму </tag>
<tag name="tt">
clr</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_close" head-level="h3">
<p>
CLOSE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CLOSE</tag>
<tag name="simple-string">
 — останавливает проигрывание указанного звукового файла. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
CLOSE [$путь к звуковому файлу]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$путь к звуковому файлу]</tag>
<tag name="simple-string">
 — путь к звуковому файлу относительно файла игры. Если параметр </tag>
<tag name="tt">
[$путь к звуковому файлу]</tag>
<tag name="simple-string">
 не указан, происходит остановка воспроизведения всех звуковых файлов.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_closeall" head-level="h3">
<p>
CLOSE ALL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CLOSE ALL</tag>
<tag name="simple-string">
 — остановка проигрывания всех активных звуковых файлов. Имеет краткую форму </tag>
<tag name="tt">
close</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_cls" head-level="h3">
<p>
CLS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CLS</tag>
<tag name="simple-string">
 — очищает все окна кроме списка предметов. Эквивалентно конструкции:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
clear & *clear & cla & cmdclear
</code>
</segment>
<head anchor="faq_80_02_cmdclear" head-level="h3">
<p>
CMDCLEAR (CMDCLR)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
CMDCLEAR</tag>
<tag name="simple-string">
 — очистка строки ввода. Имеет краткую форму </tag>
<tag name="tt">
cmdclr</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_copyarr" head-level="h3">
<p>
COPYARR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
COPYARR</tag>
<tag name="simple-string">
 — копирование содержимого одного массива в другой. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
COPYARR [$приёмник],[$источник],[#начало],[#количество]
</code>
<segment>
<p>
<tag name="simple-string">
	, где: </tag>
<tag name="tt">
[$приёмник]</tag>
<tag name="simple-string">
 — это массив, в который производится копирование, размер и наполнение значения не имеют; </tag>
<tag name="tt">
[$источник]</tag>
<tag name="simple-string">
 — это массив, из которого производится копирование; </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 — номер элемента, с которого нужно начинать копирование; </tag>
<tag name="tt">
[#количество]</tag>
<tag name="simple-string">
 — сколько элементов нужно скопировать. Параметр </tag>
<tag name="tt">
[#количество]</tag>
<tag name="simple-string">
 является необязательным; по умолчанию — до конца массива-источника. Параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 является необязательным; по умолчанию — 0.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! копируем все элементы массива '$b' в массив '$a'
<br/>copyarr '$a','$b'
<br/>! при этом так же были скопированны все элементы массива 'b' в массив 'a'
<br/>
<br/>! копируем в массив 'c' элементы массива 'd', начиная с шестого
<br/>copyarr 'c','d',6
<br/>
<br/>! копируем шесть первых элементов массива 'd' в массив 'c'
<br/>copyarr 'c','d',0,6
</code>
<segment>
<p>
<tag name="simple-string">
	В силу особенностей плеера при копировании, например, числового массива </tag>
<tag name="tt">
mass1</tag>
<tag name="simple-string">
 в </tag>
<tag name="tt">
mass2</tag>
<tag name="simple-string">
 копируется также текстовый массив </tag>
<tag name="tt">
$mass1</tag>
<tag name="simple-string">
 в </tag>
<tag name="tt">
$mass2</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Другие примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
copyarr $arrname1,$arrname2,10,5
<br/>copyarr 'a<<$arrname1>>','a<<$arrname2>>'
</code>
</segment>
<head anchor="faq_80_02_delact" head-level="h3">
<p>
DELACT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DELACT</tag>
<tag name="simple-string">
 — удаляет действие из списка действий (если такое действие существует). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
DELACT [$название]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$название]</tag>
<tag name="simple-string">
 — название действия, которое хотим удалить.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! удаляем действие с конкретным названием
<br/>delact 'Идти вперед'
<br/>! удаляем выделенное действие
<br/>delact $selact
</code>
<segment>
<p>
	Допустима, но не одобряется, устаревшая форма записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
DEL ACT [$название]
</code>
</segment>
<head anchor="faq_80_02_delobj" head-level="h3">
<p>
DELOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DELOBJ</tag>
<tag name="simple-string">
 — удаление предмета из инвентаря по названию (если такой предмет существует). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
DELOBJ [$название]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$название]</tag>
<tag name="simple-string">
 — название предмета, который хотим удалить.
</tag>
</p>
<p>
	Если в инвентаре присутствуют одинаковые предметы, команда удалит самый верхний с указанным индексом.
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! удаляем предмет с конкретным названием
<br/>delobj "Отвёртка"
<br/>! удаляем выделенный предмет
<br/>delobj $selobj
</code>
<segment>
<p>
	Допустима, но не одобряется, форма записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
DEL OBJ [$название]
</code>
</segment>
<head anchor="faq_80_02_dynamic" head-level="h3">
<p>
DYNAMIC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DYNAMIC</tag>
<tag name="simple-string">
 — выполняет код, переданный в виде строки текста. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
DYNAMIC([$код],[аргумент 0],[аргумент 1], ... ,[аргумент 8])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$код]</tag>
<tag name="simple-string">
 — это обычный код QSP, записанный в виде текста. Выполнение такого кода аналогично выполнению кода оператора </tag>
<tag name="tt">
GOSUB</tag>
<tag name="simple-string">
. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться внутри </tag>
<tag name="tt">
[$код]</tag>
<tag name="simple-string">
, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. После выполнения старые параметры </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 восстанавливаются, затем продолжается выполнение кода со следующей команды после </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
dynamic '$a="string<<$b>>"'
<br/>dynamic '$a'
<br/>dynamic 'if $a="string":''text!'''
<br/>dynamic "
<br/>    $args[0]
<br/>    addobj $args[1]
<br/>",'Текст','Вилка'
</code>
<segment>
<p>
<tag name="simple-string">
	Нижеследующая информация справедлива и для функции </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 (см. </tag>
<tag name="hyperlink" href="#faq_80_03_dyneval">
соответствующий раздел</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
<tag name="simple-string">
	Важно! Если код задан с помощью одинарных (</tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
) или двойных (</tag>
<tag name="tt">
""</tag>
<tag name="simple-string">
) кавычек, в тексте вычисляются подвыражения:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$args[0]='qwerty'
<br/>$code = '
<br/>    *pl "<<$args[0]>>"
<br/>    *pl $args[0]
<br/>'
<br/>
<br/>dynamic $code,'asdfg'
</code>
<segment>
<p>
<tag name="simple-string">
	В этом случае при задании переменной </tag>
<tag name="tt">
$code</tag>
<tag name="simple-string">
 будет вычислено подвыражение, поэтому первой строкой выведется 'qwerty', второй строкой выведется 'asdfg'.
</tag>
</p>
<p>
	Фигурные скобки - третий вид кавычек используемый специально для написания динамического кода. Здесь поддерживается вложенность скобок, а перед выполнением кода не вычисляются подвыражения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$args[0]='qwerty'
<br/>$code = {
<br/>    *pl "<<$args[0]>>"
<br/>    *pl $args[0]
<br/>}
<br/>
<br/>dynamic $code,'asdfg'
</code>
<segment>
<p>
	В этом случае будут выведены две строки 'asdfg'.
</p>
</segment>
</segment>
<head anchor="faq_80_02_exit" head-level="h3">
<p>
EXIT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
EXIT</tag>
<tag name="simple-string">
 — завершение выполнения текущего блока кода (преждевременный выход из подпрограммы, функции, обработчика какого-либо события, и т.д.).
</tag>
</p>
<p>
<tag name="simple-string">
	В качестве блока кода может выступать локация, действие, код, переданный </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
у или </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
у, или код в гиперссылке.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if args[1] = 0:
<br/>    exit
<br/>else
<br/>    if args[0] mod args[1]=0:
<br/>        result=-1
<br/>    else
<br/>        result=0
<br/>    end
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
Внимание!!! В более новых версиях плеера (5.8.0 и выше) есть оператор цикла </tag>
<tag name="tt">
loop</tag>
<tag name="simple-string">
, и тело цикла так же считается отдельным блоком кода, однако оператор </tag>
<tag name="tt">
exit</tag>
<tag name="simple-string">
 прерывает не только сам цикл, но и блок кода, в котором находится цикл.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_gosub" head-level="h3">
<p>
GOSUB (GS)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
GOSUB</tag>
<tag name="simple-string">
 — выполнение кода указанной локации без непосредственного перехода на неё.
</tag>
</p>
<p>
	Общая запись:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
GOSUB [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — это название локации, код которой мы хотим выполнить без непосредственного перехода на неё. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться на этой локации, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. После обработки локации предыдущие значения </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 восстанавливаются. Использование аргументов не обязательно.
</tag>
</p>
<p>
<tag name="simple-string">
	При обращении к локации по </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 базовое описание локации добавляется к текущему описанию, базовые действия добавляются к текущим действиям, и происходит выполнение операторов в поле "Выполнить при посещении", затем возврат на исходную строку (продолжение выполнения кода после </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
<tag name="simple-string">
	Примеры вызова локаций по </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
!обработка локации "ход". Массив args[] пуст.
<br/>gosub 'ход'
<br/>
<br/>!обработка локации с названием из переменной $loc
<br/>!Передаётся один параметр - args[0] равен 1.
<br/>gosub $location,1
<br/>
<br/>!обработка локации "ход" с передачей 3-х параметров. 
<br/>! $args[0] = $var (значению), args[1] = 2, 
<br/>! $args[2] = "данные". Обратите внимание на символы '$'.
<br/>gosub 'ход',$var,2,'данные'
</code>
<segment>
<p>
	Ещё пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! это код вызова локации "переход"
<br/>gosub 'переход', 'локация'
<br/>
<br/>! а это код самой локации "переход"
<br/># переход
<br/>*pl $args[0]  & ! на экран выведется текст 'локация'
<br/>! в окне действий появится новое действие:
<br/>act 'перейти':
<br/>    goto "улица"
<br/>end
<br/>- переход
</code>
<segment>
<p>
	Оператор имеет краткую форму gs:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
GS [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
</segment>
<head anchor="faq_80_02_goto" head-level="h3">
<p>
GOTO (GT)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
GOTO</tag>
<tag name="simple-string">
 — переход на указанную локацию. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
GOTO [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — название локации, на которую должен быть осуществлён переход. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться на этой локации, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. Использование аргументов не обязательно.
</tag>
</p>
<p>
<tag name="simple-string">
	При переходе на новую локацию при помощи </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 очищается окно основного описания, а также список текущих действий, затем в окно основного описания выводится текст базового описания, в окно действий — базовые действия, а так же выполняется код из поля "Выполнить при посещении" локации </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
. Так же при переходе на новую локацию изменяется значение, возвращаемое функцией </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! переход на локацию "дом".
<br/>! Массив args на локации "дом" будет пуст.
<br/>goto 'дом'
<br/>
<br/>! переход на локацию "улица" с передачей 2-х параметров.
<br/>! на локации "улица" args[0] равен 1,
<br/>! $args[1] содержит строку "данные".
<br/>goto 'улица',1,'данные'
</code>
<segment>
<p>
	Оператор имеет краткую форму gt:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
GT [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
</segment>
<head anchor="faq_80_02_if" head-level="h3">
<p>
IF (ELSE, ELSEIF)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
IF</tag>
<tag name="simple-string">
 — оператор условия. Собственно для того и нужен, чтобы проверять выполнение какого-либо условия. Имеет несколько форм записи.
</tag>
</p>
<p>
	Простая однострочная форма записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF [#выражение]: [команда 1] & [команда 2] & ...
</code>
<segment>
<p>
<tag name="simple-string">
	Как видите, за ключевым словом </tag>
<tag name="tt">
if</tag>
<tag name="simple-string">
 следует выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
, и если это выражение верно, тогда выполняется набор команд </tag>
<tag name="tt">
[команда 1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 2]</tag>
<tag name="simple-string">
, и т.д., которые записаны после двоеточия в той же строке. При этом команды перечисляются через амперсанд (</tag>
<tag name="tt">
&</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
	Именно по наличию команд сразу в той же строке после двоеточия плеер определяет, что это однострочная форма, и считает конец этой строки концом конструкции условия.
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! если сумма a и b равна двум,
<br/>! переменной c присваивается значение 30
<br/>if a+b=2: c=30
<br/>! Если в инвентаре нет апельсина, выводится текст
<br/>if no obj "Апельсин": pl "У Вас нет апельсина."
<br/>! это тоже простая однострочная форма
<br/>if ((a+b)/c)=45+54 or (b<5 or c>45) and no obj 'лопата' and $f=$vvv+'RRRRR': p 'OK' & goto 'Next'
</code>
<segment>
<p>
	Сложная однострочная форма записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF [#выражение]: [команда д1] & [команда д2] & ... ELSE [команда н1] & [команда н2] & ...
</code>
<segment>
<p>
<tag name="simple-string">
	Здесь снова за ключевым словом </tag>
<tag name="tt">
if</tag>
<tag name="simple-string">
 следует </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
, истиность которого требуется проверить. Если выражение верно, выполняется набор команд </tag>
<tag name="tt">
[команда д1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда д2]</tag>
<tag name="simple-string">
 и т.д., от двоеточия до ключевого слова else. В противном случае, если выражение </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 неверно, выполняется набор команд </tag>
<tag name="tt">
[команда н1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда н2]</tag>
<tag name="simple-string">
 и т.д., от </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
 и до конца строки. Точно так же, как и для простой однострочной формы, концом конструкции условия считается конец строки.
</tag>
</p>
<p>
	Примеры сложной однострочной формы:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! если сумма a и b равна двум, переменной c присваивается значение 30
<br/>! в противном случае (то есть если сумма a и b не равна двум)
<br/>! переменной c присваивается значение 10
<br/>if a+b=2: c=30 else c=10
<br/>! в зависимости от того есть ли в инвентаре апельсин
<br/>! выводится соответствующий текст
<br/>if obj "Апельсин": pl "У Вас есть апельсин." else pl "У Вас нет апельсина."
</code>
<segment>
<p>
	Простая многострочная форма записи в общем виде выглядит вот так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF [#выражение]:
<br/>    [команда 1]
<br/>    [команда 2]
<br/>    ...
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
	Как видите, она отличается от простой однострочной формы записи тем, что команды </tag>
<tag name="tt">
[команда 1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда 2]</tag>
<tag name="simple-string">
 и т.д. записаны не сразу после двоеточия, а только в следующей строке. Именно так плеер понимает, что имеет дело с многострочной формой записи. Наличие или отсутствие пробелов или символов табуляции перед командами роли не играет, однако, чтобы плеер понял, где заканчивается конструкция условия, в конце на отдельной строке необходимо прописывать ключевое слово end, или end </tag>
<tag name="tt">
if</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if библиотека = 0:
<br/>    узнал_о_тусовке = 0
<br/>    библиотека_вернулся = 1
<br/>    gt 'библиотека'
<br/>end
<br/>
<br/>if a+b=2:
<br/>    c=30
<br/>end
</code>
<segment>
<p>
	Сложная многострочная форма в общей записи выглядит вот так:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF [#выражение]:
<br/>    [команда д1]
<br/>    [команда д2]
<br/>    ...
<br/>ELSE
<br/>    [команда н1]
<br/>    [команда н2]
<br/>    ...
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
	Здесь так же комнады </tag>
<tag name="tt">
[команда д1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда д2]</tag>
<tag name="simple-string">
 и т.д. записываются не сразу после двоеточия, а только в следующей строке. Ключевое слово else так же записывается в отдельной строке, и команды </tag>
<tag name="tt">
[команда н1]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[команда н2]</tag>
<tag name="simple-string">
 и т.д. идут в последующих строках после </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
. Завершается конструкция условия ключевым словом </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
 (или </tag>
<tag name="tt">
end if</tag>
<tag name="simple-string">
), которое снова идёт отдельной строкой.
</tag>
</p>
<p>
<tag name="simple-string">
	При верности выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 выполняется набор команд между двоеточием и </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
, а если </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 неверно, выполняется набор команд между </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if a+b=2:
<br/>    c=30
<br/>else
<br/>    c=10
<br/>end
<br/>
<br/>if obj "Апельсин":
<br/>    pl "У Вас есть апельсин."
<br/>else
<br/>    pl "У Вас нет апельсина."
<br/>end
<br/>
<br/>if len($curtoken) > 0:
<br/>    $tokens[curtoken] = $curtoken
<br/>    tokens = curtoken + 1
<br/>else
<br/>    tokens = curtoken
<br/>end
</code>
<segment>
<p>
	Ещё одна форма записи работает только в многострочном варианте (обещали исправить в новых версиях). Это расширенная форма. Она позволяет размещать на одном уровне вложенности последовательно-исключающие условия. Общая форма записи такая:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF [#выражение 1]:
<br/>    [набор команд 1]
<br/>    ...
<br/>ELSEIF [#выражение 2]:
<br/>    [набор команд 2]
<br/>    ...
<br/>ELSEIF ... :
<br/>    ...
<br/>ELSE
<br/>    [последний набор команд]
<br/>    ...
<br/>END
</code>
<segment>
<p>
<tag name="simple-string">
	Правила записи такие же, как и для других видов многострочных условий. После двоеточия в той же строке, где находится оператор </tag>
<tag name="tt">
if</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
elseif</tag>
<tag name="simple-string">
 не должно идти никаких команд, только со следующей строки. Вся конструкция должна заканчиваться оператором </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
 (или </tag>
<tag name="tt">
end if</tag>
<tag name="simple-string">
), стоящим в отдельной строке. В конструкции может как присутствовать, так и отсуствовать часть с </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	Работает это следующим образом. Если </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 верно, выполняются команды </tag>
<tag name="tt">
[набор команд 1]</tag>
<tag name="simple-string">
. Если </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 неверно, но верно </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
, выполняются команды </tag>
<tag name="tt">
[набор команд 2]</tag>
<tag name="simple-string">
, и т.д. И только если неверны все выражения в текущей конструкции условия, выполнятся команды после </tag>
<tag name="tt">
else</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	Как вы понимаете, верность выражения </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 не исключает верности выражения </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
, однако верность выражения </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 исключает верность выражения </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
. Поэтому я и назвал эту конструкцию конструкцией последовательно-исключающих условий.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
IF ОЧКИ>124:
<br/>    GOTO 'КОН3'
<br/>ELSEIF ОЧКИ>99:
<br/>    GOTO 'КОН4'
<br/>ELSE
<br/>    GOTO 'КОН5'
<br/>END
</code>
<code code-left-level="4" code-type="qsp">
if money mod 10=1 and money mod 100<>11:
<br/>    *pl "У вас <<money>> монета."
<br/>elseif money mod 10>1 and money mod 10<5 and (money mod 100<5 or money mod 100>20):
<br/>    *pl "У вас <<money>> монеты."
<br/>elseif money mod 10=0 or money mod 10>4 or (money mod 100>10 and money mod 100<21):
<br/>    *pl "У вас <<money>> монет."
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	Обратите внимание. Ключевым словом </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
 заканчивается не каждый отдельный </tag>
<tag name="tt">
elseif</tag>
<tag name="simple-string">
, а вся конструкция условия.
</tag>
</p>
<p>
<tag name="simple-string">
	Для многострочных форм записи допускается вложенность неограниченной глубины. Каждый уровень вложения должен заканчиваться своей строкой </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if a+b<3 or y=8:
<br/>    p 'A+B<3 или Y=8'
<br/>    nl 
<br/>    if j=88: nl & p 'NEXT' 
<br/>    if $h='ooo':
<br/>        p 'loo' & jump 'lll'
<br/>    end
<br/>end
</code>
<code code-left-level="4" code-type="qsp">
if a=0:
<br/>    'abc1234'
<br/>    if b=0: '0' else '1'
<br/>    if j=88: nl & p 'NEXT'
<br/>    if $h='ooo':
<br/>        p 'loo' & jump 'lll'
<br/>    else
<br/>        p 'sample text'
<br/>        v=8
<br/>    end
<br/>    1234
<br/>else
<br/>    '01234'
<br/>    g=78
<br/>end
</code>
<segment>
<p>
	Несколько примеров неверной записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! в этом случае, если условие не будет выполнено,
<br/>! плеер проигнорирует только команду `k1=34`
<br/>! поскольку посчитает, что это однострочное условие
<br/>if abcd=3: k1=34
<br/>    k2=35 & ! эта команда будет выполняться всегда
<br/>    k3=36 & ! эта комнада будет выполняться всегда
<br/>end & ! этот end будет проигнорирован
</code>
<code code-left-level="4" code-type="qsp">
! данная строка выведет ошибку неизвестное действие
<br/>! так как однострочные формы записи не должны оканчиваться end`ом
<br/>if abcd=3: k1=34 else k1=25 end
<br/>
<br/>! данная запись приведёт к ошибке:
<br/>! "Неверная запись однострочного оператора"
<br/>if absd=3:
<br/>    k=34
<br/>else if absd=6:
<br/>    k1=25
<br/>end
</code>
</segment>
<head anchor="faq_80_02_addqst" head-level="h3">
<p>
INCLIB (ADDQST)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
INCLIB</tag>
<tag name="simple-string">
 — из заданного файла игры добавляет все локации, названия которых отсутствуют среди текущих игровых локаций. Загруженные локации полностью эквивалентны локациям из основного файла игры. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
INCLIB [$путь к файлу игры]
</code>
<segment>
<p>
<tag name="simple-string">
	В более старых версиях библиотеки команда называлась </tag>
<tag name="tt">
addqst</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
addlib</tag>
<tag name="simple-string">
 (нигде не использовалось).
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
inclib "lib/easy.math.qsp"
<br/>inclib "lib/easy.title.qsp"
<br/>inclib "res/drive.qsp"
<br/>inclib "res/base.qsp"
<br/>inclib "res/intro.qsp"
</code>
</segment>
<head anchor="faq_80_02_jump" head-level="h3">
<p>
JUMP</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
JUMP</tag>
<tag name="simple-string">
 — переход в текущем блоке кода на указанную метку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
JUMP [$метка]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$метка]</tag>
<tag name="simple-string">
 — это метка ниже или выше по коду (см. раздел </tag>
<tag name="hyperlink" href="#faq_80_05_marks">
"Метки"</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
<tag name="simple-string">
	</tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 находит метку только в пределах текущего блока кода, то есть метки локальны.
</tag>
</p>
<p>
	Отдельными блоками кода в QSP являются:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
код "Выполнить при посещении" конкретной локации (каждая локация - отдельный блок кода),</p>
</segment>
<segment>
<p>
код действия даже если действие добавлено программно,</p>
</segment>
<segment>
<p>
код в гиперссылке,</p>
</segment>
<segment>
<p>
<tag name="simple-string">
код </tag>
<tag name="tt">
DYNAMIC</tag>
<tag name="simple-string">
/</tag>
<tag name="tt">
DYNEVAL</tag>
</p>
</segment>
</list>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
jump 'КонеЦ'
<br/>p 'Это сообщение не будет выведено'
<br/>:конец
<br/>p 'А это сообщение пользователь увидит'
</code>
<segment>
<p>
<tag name="simple-string">
	С помощью оператора </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 можно организовывать циклы:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
:loop
<br/>if s<9:
<br/>    s=s+1
<br/>    pl s
<br/>    jump 'loop'
<br/>end
<br/>p 'Всё!'
</code>
<segment>
<p>
	Двойной цикл с одной меткой:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
:loop
<br/>if y<9:
<br/>    if x<9:
<br/>        *p "<<x>> - "
<br/>        x=x+1
<br/>        jump 'loop'
<br/>    end
<br/>    *pl ":<<y>>"
<br/>    y=y+1
<br/>    x=0
<br/>    jump 'loop'
<br/>end
</code>
</segment>
<head anchor="faq_80_02_killall" head-level="h3">
<p>
KILLALL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
KILLALL</tag>
<tag name="simple-string">
 — уничтожает все переменные и удаляет все предметы из окна предметов. Эквивалентен конструкции:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
killvar & killobj
</code>
<segment>
<p>
<tag name="simple-string">
	Обратите внимание, </tag>
<tag name="tt">
killall</tag>
<tag name="simple-string">
 не эквивалентен конструкции:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
killobj & killvar
</code>
<segment>
<p>
<tag name="simple-string">
	поскольку в этом случае значения переменных удаляются после удаления предметов, а значит код локации-обработчика удаления предметов успевает выполниться (см. </tag>
<tag name="tt">
$onobjdel</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
<tag name="simple-string">
	Обычно </tag>
<tag name="tt">
killall</tag>
<tag name="simple-string">
 используют в начале игры, если в конце игры предусмотрено действие "Начать заново".
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_killobj" head-level="h3">
<p>
KILLOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
KILLOBJ</tag>
<tag name="simple-string">
 — удаление предмета, расположенного в заданной позиции. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
KILLOBJ [#номер]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 — номер предмета в окне инвентаря. Нумерация предметов начинается с 1. Если параметр </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 не указан, удаляются все предметы. При удалении каждого предмета с помощью </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
, происходит выполнение кода локации-обработчика удаления предметов (см. </tag>
<tag name="tt">
$onobjdel</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! удаляем самый верхний предмет в списке
<br/>killobj 1
<br/>! удаляем самый нижний предмет в списке
<br/>killobj countobj
<br/>! удаляем все предметы
<br/>killobj
</code>
</segment>
<head anchor="faq_80_02_killqst" head-level="h3">
<p>
KILLQST</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
KILLQST</tag>
<tag name="simple-string">
 — удаляет все локации, добавленные с помощью оператора </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
. В более новых версиях библиотеки команда переименована в </tag>
<tag name="tt">
dellib</tag>
<tag name="simple-string">
, затем в </tag>
<tag name="tt">
freelib</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_killvar" head-level="h3">
<p>
KILLVAR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
KILLVAR</tag>
<tag name="simple-string">
 — удаление указанного элемента массива. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
KILLVAR [$название массива],[#индекс элемента]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$название массива]</tag>
<tag name="simple-string">
 — название массива, из которого хотим удалить элемент, а </tag>
<tag name="tt">
[#индекс элемента]</tag>
<tag name="simple-string">
 — номер элемента в массиве, который хотим удалить. Нумерация элементов массивов начинается с 0.
</tag>
</p>
<p>
	Если индекс элемента не указан, то очищается весь массив. Если оператор вызван без аргументов, то удаляются все переменные и массивы.
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
killvar 'a',3 & ! удалит из массива 'a' элемент с индексом 3.
<br/>killvar 'a' & ! удаляет массив 'a'
<br/>killvar & ! удаляет все переменные, массивы
</code>
<segment>
<p>
 	При удалении элемента все следующие за ним элементы сдвигаются на позицию вверх.
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
a[0]=4
<br/>a[1]=3
<br/>a[2]=23
<br/>a[3]=15
<br/>KILLVAR 'a',1
<br/>! теперь массив выглядит так:
<br/>! a[0]=4
<br/>! a[1]=23
<br/>! a[2]=15
</code>
</segment>
<head anchor="faq_80_02_let" head-level="h3">
<p>
LET</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
LET</tag>
<tag name="simple-string">
 — устаревший оператор для установки значения переменной. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
LET [название переменной]=[выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[название переменной]</tag>
<tag name="simple-string">
 — это допустимое имя переменной, </tag>
<tag name="tt">
[выражение]</tag>
<tag name="simple-string">
 — это допустимое для данной переменной значение.
</tag>
</p>
<p>
<tag name="simple-string">
	Названия числовых переменных записываются без символа </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 в начале. Названия текстовых переменных записываются с символом </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 в начале. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! задаём текстовую переменную
<br/>let $text="text string"
<br/>! задаём числовую переменную
<br/>let abs=123
</code>
<segment>
<p>
<tag name="simple-string">
	Данный оператор является устаревшим, как и оператор </tag>
<tag name="tt">
set</tag>
<tag name="simple-string">
, поскольку в настоящее время значение переменной устанавливается через присвоение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$text="text string"
</code>
<segment>
<p>
<tag name="simple-string">
	Использование операторов </tag>
<tag name="tt">
set</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
let</tag>
<tag name="simple-string">
 не рекомендуется.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_menu" head-level="h3">
<p>
MENU</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MENU</tag>
<tag name="simple-string">
 — в любом месте игры выводит на экран всплывающее меню, пункты которого прописаны в указанном массиве. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
MENU [$название массива]
</code>
<segment>
<p>
	Прежде, чем использовать данный оператор, необходимо заполнить массив, на основе содержимого которого будут формироваться пункты меню. Пункты меню — это строковые начения массива с особым форматом записи:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
"название пункта меню:название локации:путь к файлу иконки"
</code>
<segment>
<p>
	Название пункта меню — это то, что мы увидим на экране, когда меню будет выведено; название локации — это название локации, код которой будет выполняться при щелчке на соответствующем пункте меню; путь к файлу иконки — это путь к файлу изображения, которое будет выведено рядом с названием пункта меню.
</p>
<p>
	Таким образом мы можем заполнить массив для того, чтоб создать наши пункты меню:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$stone[0]='Взять камень:takestone'
<br/>$stone[1]='Кинуть камень:throwstone'
<br/>$stone[2]='Осмотреть камень:lookstone'
</code>
<segment>
<p>
	Поиск символов ":" начинается с конца строки, то есть название пункта меню может содержать двоеточия, однако тогда обязательно после названия локации должно стоять двоеточие, даже если вы не используете иконки для пунктов меню.
</p>
<p>
	Если путь к файлу иконки не указан или указанный файл недоступен, то пункт меню отобразится без иконки.
</p>
<p>
<tag name="simple-string">
	Здесь название массива (</tag>
<tag name="tt">
$stone</tag>
<tag name="simple-string">
) - это название меню, а текстовые значения массива - действия, для которых указаны названия и названия локаций-обработчиков выбора пунктов меню. При выборе пункта "Взять камень" произойдёт обработка локации с названием "takestone". Аналогично будет происходить с другими пунктами.
</tag>
</p>
<p>
	Чтобы вызвать меню на экран нужно воспользоваться оператором menu:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
menu '$stone'
</code>
<segment>
<p>
	Меню можно вызывать в любом месте игры, например, из гиперссылок:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
'<a href="EXEC: menu ''$stone''">Камень</a>'
</code>
<segment>
<p>
<tag name="simple-string">
	В локацию-обработчик выбора пункта меню передаётся аргумент (</tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
) - позиция выбранного пункта. Позиции элементов меню нумеруются с 1.
</tag>
</p>
<p>
		Пример создания меню с иконками:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! нет иконки
<br/>$usr_menu[0] = 'Взять предмет:take_item'
<br/>! иконка задана gif-файлом
<br/>$usr_menu[1] = 'Положить предмет:put_item:images/put_item.gif'
<br/>! иконка задана значением $icon_file
<br/>$usr_menu[2] = 'Осмотреть предмет:look_item:<<$icon_file>>'
<br/>! пункт меню задан 3-мя переменными
<br/>$usr_menu[3] = '<<$name>>:<<$location>>:<<$file>>'
<br/>
<br/>menu 'usr_menu' &! покажет меню из 4-х пунктов
</code>
<segment>
<p>
<tag name="simple-string">
	Меню заканчивается на элементе массива со значением </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
 (пустая строка). Т.е. если массив меню состоит из элементов 'Взять','Осмотреть','','Бросить', то 2 последних пункта меню не будут созданы:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$usr_menu[0]='Взять предмет:take_item' & ! этот пункт мы увидим на экране
<br/>$usr_menu[1]='Осмотреть предмет:look_item' & ! и этот пункт мы увидим на экране
<br/>$usr_menu[2]='' & ! здесь пустое значение, плеер посчитает, что меню кончилось
<br/>$usr_menu[3]='Положить предмет:put_item' & ! этот пункт мы не увидим
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы вставить разделитель в меню, вместо соответствующего элемента массива напишите </tag>
<tag name="tt">
"-:-"</tag>
<tag name="simple-string">
. Т.е. если нужно поставить разделитель вместо 3-го элемента:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$usr_menu[0]='Взять предмет:take_item'
<br/>$usr_menu[1]='Осмотреть предмет:look_item'
<br/>$usr_menu[2]='-:-'
<br/>$usr_menu[3]='Положить предмет:put_item'
</code>
</segment>
<head anchor="faq_80_02_msg" head-level="h3">
<p>
MSG</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MSG</tag>
<tag name="simple-string">
 — вывод указанного сообщения в диалоговом окне. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
MSG [сообщение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[сообщение]</tag>
<tag name="simple-string">
 — любая строка текста. число, выражение любого типа. Примеры:
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! простой вывод сообщения.
<br/>msg 'Много спелых груш.'
<br/>! получим окно с сообщением 'Много спелых груш'
</code>
<code code-left-level="4" code-type="qsp">
! Пример сообщения в действии ACT.
<br/>act 'Поесть груш':
<br/>   msg 'Ммм груши очень вкусные.'
<br/>end
<br/>! Получим вывод сообщения при клике по действию "Поесть груш"
</code>
<code code-left-level="4" code-type="qsp">
!Пример с условием.
<br/>if hlebgotov = 1:
<br/>    msg 'Похоже хлеб уже готов.'
<br/>end
<br/>! Получаем вывод сообщения когда условие hlebgotov = 1
</code>
</segment>
<head anchor="faq_80_02_nl" head-level="h3">
<p>
NL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
NL</tag>
<tag name="simple-string">
 — переход на новую строку, затем вывод текста в окне основногодополнительного описания. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
NL [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. Если </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 отсутствует, происходит просто переход на новую строку. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
p "Текст без перехода на новую строку."
<br/>nl "Переход на новую строку + выведение текста."
<br/>p "Текст без перехода на новую строку."
</code>
</segment>
<head anchor="faq_80_02_opengame" head-level="h3">
<p>
OPENGAME</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
OPENGAME</tag>
<tag name="simple-string">
 — загрузка указанного файла состояния игры. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
OPENGAME [$путь]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$путь]</tag>
<tag name="simple-string">
 — путь к файлу сохранённого состояния игры. Если параметр </tag>
<tag name="tt">
[$путь]</tag>
<tag name="simple-string">
 отсутствует, то вызывается окно загрузки состояния игры.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! загрузка состояния из файла 1.sav
<br/>opengame "1.sav"
<br/>! открываем окно загрузки состояния
<br/>opengame
</code>
<segment>
<p>
<tag name="simple-string">
	См. также локацию-обработчик события загрузки состояния игры (</tag>
<tag name="hyperlink" href="#faq_80_04_ongload">
$ongload</tag>
<tag name="simple-string">
).
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_openqst" head-level="h3">
<p>
OPENQST</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
OPENQST</tag>
<tag name="simple-string">
 — открытие и запуск указанного файла игры. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
OPENQST [$путь]
</code>
<segment>
<p>
	, где [$путь] — путь к файлу игры, который требуется запустить. Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
openqst "gamespool/cubesgame.qsp"
</code>
<segment>
<p>
	При использовании данного оператора, не происходит удаления переменных, удаления предметов инвентаря, очистки дополнительного описания и строки ввода, а также остановки проигрываемых файлов. Если вам нужно очистить экран и значения всех переменных, можно прописать в начале загружаемого файла игры такие команды:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
killall & cls & close all
</code>
</segment>
<head anchor="faq_80_02_p" head-level="h3">
<p>
P</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
P</tag>
<tag name="simple-string">
 — вывод текста в окно основного описания без перехода на новую строку. Вывод текста любым другим оператором сразу после p добавит новый текст сразу после текущего. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
P [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 может быть пустой строкой '', но не должен отсутствовать. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
p "Текст без перехода на новую строку."
<br/>p "Текст без перехода на новую строку."
<br/>p ""
<br/>p "Текст без перехода на новую строку."
</code>
</segment>
<head anchor="faq_80_02_pl" head-level="h3">
<p>
PL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
PL</tag>
<tag name="simple-string">
 — вывод текста в окно основного описания, затем переход на новую строку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
PL [$текст]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста, число, или выражение любого типа. </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 может отсутствовать, тогда просто переход на новую строку. Пример:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
pl "Вывод текста, затем переход на новую строку."
<br/>pl "Вывод текста, затем переход на новую строку."
<br/>p "Текст без перехода на новую строку."
<br/>pl "Вывод текста, затем переход на новую строку."
</code>
</segment>
<head anchor="faq_80_02_play" head-level="h3">
<p>
PLAY</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
PLAY</tag>
<tag name="simple-string">
 — проигрывание указанного звукового файла с заданной громкостью. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
PLAY [$путь к звуковому файлу],[#громкость]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$путь к звуковому файлу]</tag>
<tag name="simple-string">
 — путь к звуковому файлу относительно файла игры, </tag>
<tag name="tt">
[#громкость]</tag>
<tag name="simple-string">
 — громкость воспроизведения в процентах от 0 до 100. Параметр </tag>
<tag name="tt">
[#громкость]</tag>
<tag name="simple-string">
 может отсутствовать, при этом громкость принимается равной 100%. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
!Громкость 100%
<br/>play 'sound/music.mp3'
<br/>!Громкость 50%
<br/>play 'sound/music.mp3',50
<br/>!Громкость 0% (без звука)
<br/>play 'sound/music.mp3',0
</code>
<code code-left-level="4" code-type="qsp">
!Проигрывание файла по адресу из переменной $file
<br/>! с расширением 'mid'
<br/>! и громкостью volume
<br/>$file="melody"
<br/>play '<<$file>>.mid',volume
<br/>! аналогично:
<br/>$file="melody.mid"
<br/>play $file,volume
</code>
<segment>
<p>
	Если файл уже проигрывается, то изменяется громкость звучания без его "перезапуска". Поддерживается множество различных аудиоформатов и одновременное звучание до 32-х композиций.
</p>
</segment>
</segment>
<head anchor="faq_80_02_refint" head-level="h3">
<p>
REFINT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
REFINT</tag>
<tag name="simple-string">
 — принудительное обновление интерфейса (в т.ч. смена цветов, шрифтов, назначенных с помощью системных переменных).
</tag>
</p>
<p>
	По умолчанию обновление интерфейса происходит 2 раза в секунду (каждые 500 мс). Так же см. оператор settimer.
</p>
</segment>
</segment>
<head anchor="faq_80_02_savegame" head-level="h3">
<p>
SAVEGAME</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SAVEGAME</tag>
<tag name="simple-string">
 — сохранение состояния игры в указанный файл. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SAVEGAME [$путь]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$путь]</tag>
<tag name="simple-string">
 — путь к создаваемому файлу сохранения состояния игры. Если параметр </tag>
<tag name="tt">
[$путь]</tag>
<tag name="simple-string">
 отсутствует, то вызывается окно сохранения состояния игры.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! сохранение состояния в файл 1.sav
<br/>savegame "1.sav"
<br/>! открываем окно сохранения состояния
<br/>savegame
</code>
<segment>
<p>
<tag name="simple-string">
	См. также </tag>
<tag name="hyperlink" href="#faq_80_04_ongsave">
локацию-обработчик события сохранения состояния игры ($ongsave)</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_set" head-level="h3">
<p>
SET</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SET</tag>
<tag name="simple-string">
 — устаревший оператор для установки значения переменной. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SET [название переменной]=[выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[название переменной]</tag>
<tag name="simple-string">
 — это допустимое имя переменной, </tag>
<tag name="tt">
[выражение]</tag>
<tag name="simple-string">
 — это допустимое для данной переменной значение.
</tag>
</p>
<p>
<tag name="simple-string">
	Названия числовых переменных записываются без символа </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 в начале. Названия текстовых переменных записываются с символом </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 в начале. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! задаём текстовую переменную
<br/>set $text="text string"
<br/>! задаём числовую переменную
<br/>set abs=123
</code>
<segment>
<p>
<tag name="simple-string">
	Данный оператор является устаревшим, как и оператор </tag>
<tag name="tt">
let</tag>
<tag name="simple-string">
, поскольку в настоящее время значение переменной устанавливается через присвоение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$text="text string"
</code>
<segment>
<p>
<tag name="simple-string">
	Использование операторов </tag>
<tag name="tt">
set</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
let</tag>
<tag name="simple-string">
 не рекомендуется, так как они устарели.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_02_settimer" head-level="h3">
<p>
SETTIMER</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SETTIMER</tag>
<tag name="simple-string">
 — задаёт интервал обращения к локации-счётчику. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SETTIMER [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — период обращения к локации-счётчику в миллисекундах. По умолчанию плеер обращается к локации-счётчику каждые 500 мс., т.е. 2 раза в секунду.
</tag>
</p>
<p>
	Установка периода обращения к локации-счётчику влияет и на частоту автоматического обновления настроек интерфейса.
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! локация-счётчик будет запускаться каждые 2 секунды:
<br/>settimer 2000
</code>
<code code-left-level="4" code-type="qsp">
! локация-счётчик будет запускаться 4 раза в секунду:
<br/>settimer 250
</code>
<code code-left-level="4" code-type="qsp">
! если мы задаём частоту обращения (раз в секунду)
<br/>frequency=10 & ! десять раз в секунду
<br/>settimer 1000/frequency
</code>
<code code-left-level="4" code-type="qsp">
! если мы задаём период обращения (через сколько секунд)
<br/>period=2 & ! каждые две секунды
<br/>settimer 1000*period
</code>
<segment>
<p>
	Минимальное значение периода таким образом может быть 1 миллисекунда:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
settimer 1
</code>
<segment>
<p>
	Однако на практике минимальное значение ограничено мощностью вашего компьютера, и оно, как правило, выше 1 миллисекунды.
</p>
</segment>
</segment>
<head anchor="faq_80_02_showacts" head-level="h3">
<p>
SHOWACTS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SHOWACTS</tag>
<tag name="simple-string">
 — управляет отображением окна действий на экране. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SHOWACTS [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — это число. Обычно используются значения 0 и 1. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 отлично от нуля, окно действий отображается. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 равно нулю, окно действий скрыто. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
showacts 1 & ! показывает список действий
<br/>showacts 0 & ! скрывает список действий
</code>
<segment>
<p>
	Для удобства чтения кода можно заранее определить переменные on и off и использовать их:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
on=1
<br/>off=0
<br/>showacts on & ! показывает список действий
<br/>showacts off & ! скрывает список действий
</code>
</segment>
<head anchor="faq_80_02_showinput" head-level="h3">
<p>
SHOWINPUT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SHOWINPUT</tag>
<tag name="simple-string">
 — управляет отображением строки ввода на экране. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SHOWINPUT [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — это число. Обычно используются значения 0 и 1. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 отлично от нуля, строка ввода отображается. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 равно нулю, строка ввода скрыта. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
showinput 1 & ! показывает строку ввода
<br/>showinput 0 & ! скрывает строку ввода
</code>
<segment>
<p>
	Для удобства чтения кода можно заранее определить переменные on и off и использовать их:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
on=1
<br/>off=0
<br/>showinput on & ! показывает строку ввода
<br/>showinput off & ! скрывает строку ввода
</code>
</segment>
<head anchor="faq_80_02_showobjs" head-level="h3">
<p>
SHOWOBJS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SHOWOBJS</tag>
<tag name="simple-string">
 — управляет отображением инвентаря на экране. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SHOWOBJS [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — это число. Обычно используются значения 0 и 1. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 отлично от нуля, инвентарь отображается. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 равно нулю, инвентарь скрыт. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
showobjs 1 & ! показывает инвентарь
<br/>showobjs 0 & ! скрывает инвентарь
</code>
<segment>
<p>
<tag name="simple-string">
	Для удобства чтения кода можно заранее определить переменные </tag>
<tag name="tt">
on</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
off</tag>
<tag name="simple-string">
 и использовать их:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
on=1
<br/>off=0
<br/>showobjs on & ! показывает инвентарь
<br/>showobjs off & ! скрывает инвентарь
</code>
</segment>
<head anchor="faq_80_02_showstat" head-level="h3">
<p>
SHOWSTAT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
SHOWSTAT</tag>
<tag name="simple-string">
 — управляет отображением окна дополнительного описания на экране. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
SHOWSTAT [#выражение]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 — это число. Обычно используются значения 0 и 1. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 отлично от нуля, окно дополнительного описания отображается. Если значение выражения </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 равно нулю, окно дополнительного описания скрыто. Примеры:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
showstat 1 & ! показывает окно дополнительного описания
<br/>showstat 0 & ! скрывает окно дополнительного описания
</code>
<segment>
<p>
<tag name="simple-string">
	Для удобства чтения кода можно заранее определить переменные </tag>
<tag name="tt">
on</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
off</tag>
<tag name="simple-string">
 и использовать их:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
on=1
<br/>off=0
<br/>showstat on & ! показывает окно дополнительного описания
<br/>showstat off & ! скрывает окно дополнительного описания
</code>
</segment>
<head anchor="faq_80_02_unsel" head-level="h3">
<p>
UNSELECT (UNSEL)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
UNSELECT</tag>
<tag name="simple-string">
 — отмена выделения предмета. Имеет краткую форму </tag>
<tag name="tt">
unsel</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	При щелчке играющим по какому-либо предмету, он остаётся выделенным. Чтобы снять выделение с предмета используется данный оператор. Обычно его размещают на локации-обработчике выделения предмета.
</p>
</segment>
<code code-left-level="4" code-type="qsp">
if $selobj='Апельсин':
<br/>    *P 'Вкусный сладкий апельсин. Много нас, а он один.'
<br/>end
<br/>if $selobj = 'Чайник':
<br/>    p 'Самый обычный чугунный чайник.'
<br/>end
<br/>...
<br/>if $selobj='Отвёртка':
<br/>    menu '$screwdriver'
<br/>end
<br/>unsel
</code>
</segment>
<head anchor="faq_80_02_view" head-level="h3">
<p>
VIEW</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
VIEW</tag>
<tag name="simple-string">
 — выводит на экран указанное изображение. В классическом плеере изображение выводися в отдельном окошке (окно предпросмотра), в AeroQSP и Quest Navigator изображение выводится верхним слоем в общем окне. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
VIEW [$путь к графическому файлу]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$путь к графическому файлу]</tag>
<tag name="simple-string">
 — путь к файлу картинки. Если параметр </tag>
<tag name="tt">
[$путь к графическому файлу]</tag>
<tag name="simple-string">
 отсутствует, или задан как </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
 (пустая строка), окно предпросмотра закрывается.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! выводим изображение в окне предпросмотра
<br/>view 'content/monster.png'
<br/>! закрываем окно предпросмотра
<br/>view ''
<br/>
<br/>! закрыть окно предпросмотра можно и так
<br/>view
</code>
</segment>
<head anchor="faq_80_02_wait" head-level="h3">
<p>
WAIT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
WAIT</tag>
<tag name="simple-string">
 — приостановка выполнения кода программы на указанное количество миллисекунд. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
WAIT [#миллисекунды]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[#миллисекунды]</tag>
<tag name="simple-string">
 — время в миллисекундах, на какое следует остановить выполнение кода программы.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! остановка выполнения программы на 5 секунд
<br/>wait 5000
</code>
<segment>
<p>
	Использовать данный оператор необходимо с осторожностью, поскольку приостановка выполнения кода блокирует для игрока возможность взаимодействовать с игрой.
</p>
<p>
<tag name="tt">
WAIT</tag>
<tag name="simple-string">
 не только прерывает выполнение кода, но так же засталяет плеер выводить на экран информацию из буфера экрана. При нормальном выполнении кода локации, весь текст для операторов </tag>
<tag name="italic">
pl </tag>
<tag name="simple-string">
p pl nl и т.д. помещается в специальный буфер экрана, и уже после выполнения всего кода на локации выводится на экран. При использовании </tag>
<tag name="tt">
WAIT</tag>
<tag name="simple-string">
 текст из буфера выводится сразу в момент выполнения </tag>
<tag name="tt">
WAIT</tag>
<tag name="simple-string">
, что иногда полезно, поскольку позволяет проследить изменение некоторых значений поэтапно.
</tag>
</p>
<p>
В примере ниже числа сначала запишутся в буфер экрана и только потом появятся на экране:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
loop i=0 while i<5 step i+=1:
<br/>    *p i
<br/>end
<br/>*pl
</code>
<segment>
<p>
В следующем примере
</p>
</segment>
</segment>
<head anchor="faq_80_02_xgoto" head-level="h3">
<p>
XGOTO (XGT)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
XGOTO</tag>
<tag name="simple-string">
 — переход на указанную локацию без очистки окна основного описания. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
XGOTO [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — название локации, на которую должен быть осуществлён переход. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться на этой локации, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. Использование аргументов не обязательно.
</tag>
</p>
<p>
<tag name="simple-string">
	При переходе на новую локацию при помощи </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
 не очищается окно основного описания, а базовое описание новой локации добавляется к уже имеющемуся тексту в окне основного описания. Список действий очищается, затем в окно действий выводятся базовые действия, а так же выполняется код из поля "Выполнить при посещении" локации </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
. Так же при переходе на новую локацию изменяется значение, возвращаемое функцией </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! переход на локацию "дом".
<br/>! Массив args на локации "дом" будет пуст.
<br/>xgoto 'дом'
</code>
<code code-left-level="4" code-type="qsp">
! переход на локацию "улица" с передачей 2-х параметров.
<br/>! на локации "улица" args[0] равен 1,
<br/>! $args[1] содержит строку "данные".
<br/>xgoto 'улица',1,'данные'
</code>
<segment>
<p>
	Оператор имеет краткую форму xgt:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
XGT [$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8]
</code>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\03_qsp-keyword_0177.txt-light">
<head anchor="faq_80_03" head-level="h2">
<p>
Функции</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

<br/>
<br/>
</segment>
<head anchor="faq_80_03_curacts" head-level="h3">
<p>
$CURACTS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$CURACTS</tag>
<tag name="simple-string">
 —  данная функция возвращает выведенные на экран действия в виде кода QSP, как текстовое значение.
</tag>
</p>
<p>
<tag name="simple-string">
	Действия сохраняются как набор операторов </tag>
<tag name="tt">
act</tag>
<tag name="simple-string">
 с cответствующими параметрами и операциями.
</tag>
</p>
<p>
<tag name="simple-string">
	Записав возвращённое функцией значение в переменную, можно восстановить действия с помощью оператора </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
. Пример:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! записываем текущие действия в переменную
<br/>$actlist=$curacts
<br/>! восстанавливаем действия из переменной
<br/>dynamic $actlist
</code>
</segment>
<head anchor="faq_80_03_curloc" head-level="h3">
<p>
$CURLOC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$CURLOC</tag>
<tag name="simple-string">
 —  функция возвращает название текущей локации, т.е. локации, в которой "находится" игрок.
</tag>
</p>
<p>
<tag name="simple-string">
	Технически это следует понимать так. В момент запуска игры плеер начинает выполнять код самой первой локации в игре, а когда код выполнен, плеер "останавливается" и ждёт участия игрока. Игрок может нажимать различные кнопки в игре, ссылки и выбирать пункты меню, что приводит к выполнению других блоков кода (например, действий) и переходам на новые локации по </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
. При таких переходах плеер вновь выполняет код других локаций и, когда код выполнен, "останавливается".
</tag>
</p>
<p>
<tag name="simple-string">
	Так вот, когда на локацию осуществлён непосредственный переход (т.е. по </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
, либо это самая первая локация в игре), </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
 начинает возвращать название этой локации, — во всё время, пока выполняется код, и когда плеер "останавливается". Если после остановки не происходит переход по </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
/</tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
, значение, которое возвращает </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
, не меняется.
</tag>
</p>
<p>
	Пример использования:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
act "— Где я нахожусь?": *pl "Это "+$curloc+"."
</code>
</segment>
<head anchor="faq_80_03_desc" head-level="h3">
<p>
$DESC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$DESC</tag>
<tag name="simple-string">
 —  возвращает текст базового описания локации с заданным названием. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$DESC([$локация])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — это название интересующей нас локации. Например:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! возвращаем базовое описание локации "каморка_под_лестницей"
<br/>$desc('каморка_под_лестницей')
<br/>!возвращаем базовое описание текущей локации
<br/>$desc($curloc)
</code>
<segment>
<p>
Если в базовом описании присутствуют подвыражения, функция автоматически раскрывает их.
</p>
<p>
<tag name="simple-string">
Использование данной функции имеет смысл только если вы работает в редакторе </tag>
<tag name="tt">
Quest Generator</tag>
<tag name="simple-string">
, поскольку лишь из этого редактора доступно редактирование поля "Базовое описание" локации.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_dyneval" head-level="h3">
<p>
$DYNEVAL (DYNEVAL)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DYNEVAL</tag>
<tag name="simple-string">
 —  выполняет код, переданный в виде строки текста, и возвращает результат, если он есть. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$DYNEVAL([$код],[аргумент 0],[аргумент 1], ... ,[аргумент 8])
<br/>DYNEVAL([$код],[аргумент 0],[аргумент 1], ... ,[аргумент 8])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$код]</tag>
<tag name="simple-string">
 — это обычный код QSP, записанный в виде текста. Выполнение такого кода аналогично выполнению кода функции </tag>
<tag name="tt">
FUNC</tag>
<tag name="simple-string">
. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться внутри </tag>
<tag name="tt">
[$код]</tag>
<tag name="simple-string">
, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно.
</tag>
</p>
<p>
<tag name="simple-string">
	Чтобы </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 возвращала результат, необходимо внутри </tag>
<tag name="tt">
[$код]</tag>
<tag name="simple-string">
 присвоить этот результат переменной </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
dyneval('result = 3+4')
<br/>*pl $dyneval('$result = mid("abcd",2,1)+"qwerty"')
<br/>проход=dyneval("result = ($args[0] <> 'текст')", 'строка')
</code>
<segment>
<p>
<tag name="simple-string">
	Результат функции равен значению </tag>
<tag name="tt">
$result</tag>
<tag name="simple-string">
 при возврате строкового значения или </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
 при возврате числового значения. если при выполнении кода были установлены и </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
, и </tag>
<tag name="tt">
$result</tag>
<tag name="simple-string">
, то предпочтение отдаётся строковому значению. После выполнения кода предыдущие значения </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
 восстанавливаются, затем продолжается выполнение кода после </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	См. также </tag>
<tag name="hyperlink" href="#faq_80_02_dynamic">
<tag name="simple-string">
оператор </tag>
<tag name="tt">
DYNAMIC</tag>
</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_func" head-level="h3">
<p>
$FUNC (FUNC)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
FUNC</tag>
<tag name="simple-string">
 —  выполнение кода указанной локации без непосредственного перехода на неё с возвращением значения.
</tag>
</p>
<p>
	Общая запись:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
FUNC([$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8])
<br/>$FUNC([$локация],[аргумент 0],[аргумент 1], ... ,[аргумент 8])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — это название локации, код которой мы хотим выполнить без непосредственного перехода на неё. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться на этой локации, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. 
</tag>
</p>
<p>
<tag name="simple-string">
	Базовое описание и список действий локации </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 добавляются к основному описанию и действиям старой локации. Так же происходит выполнение операторов в поле "Выполнить при посещении"
</tag>
</p>
<p>
<tag name="simple-string">
	Результат функции равен значению </tag>
<tag name="tt">
$RESULT</tag>
<tag name="simple-string">
 при возврате строкового значения или </tag>
<tag name="tt">
RESULT</tag>
<tag name="simple-string">
 при возврате числового значения. Если при обработке локации были установлены и </tag>
<tag name="tt">
RESULT</tag>
<tag name="simple-string">
, и </tag>
<tag name="tt">
$RESULT</tag>
<tag name="simple-string">
, то предпочтение отдаётся строковому значению. После обработки локации предыдущие значения </tag>
<tag name="tt">
ARGS</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
RESULT</tag>
<tag name="simple-string">
 восстанавливаются.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!Обработка локации "функция" как функции. 
<br/>!Массив ARGS пуст.
<br/>яблоки = FUNC('функция')
<br/>
<br/>!обработка локации с названием лежащим в переменной $name как функции. ARGS[0] равен 1.
<br/>pl func($name, 1) * 78
<br/>
<br/>!обработка локации с названием в $name как функции. 
<br/>!$ARGS[0] содержит строку "строка", ARGS[1] равен 2.
<br/>msg "text" + func($name, "строка", 2)
<br/>
<br/>! код локации для функции, получающей сумму ряда чисел от единицы до указанного значения
<br/># summ
<br/>! в args[0] будет помещено число, которое мы укажем в качестве [аргумента 0]
<br/>:for
<br/>if args[0]>0:
<br/>    result=result+args[0]
<br/>    args[0]=args[0]-1
<br/>    jump 'for'
<br/>end
<br/>-----summ-----
<br/>
<br/>! пример вызова локации "summ", как функции
<br/>*pl func("summ",19) & ! выведет на экран 190
<br/>! пример вызова с записью названия локации в переменную
<br/>$name_loc="summ"
<br/>*pl func($name_loc,23) & ! выведет на экран 276
</code>
</segment>
<head anchor="faq_80_03_getobj" head-level="h3">
<p>
$GETOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$GETOBJ</tag>
<tag name="simple-string">
 —  возвращает название предмета в Окне предметов, расположенного в заданной позиции. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$GETOBJ([номер предмета])
</code>
<segment>
<p>
<tag name="simple-string">
	Индексация (нумерация) предметов в Окне предметов ведётся с 1. Если предмета с индексом </tag>
<tag name="tt">
[номер предмета]</tag>
<tag name="simple-string">
 не существует, возвращается пустая строка (</tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$getobj(1) & ! вернёт название первого предмета в рюкзаке
<br/>
<br/>$getobj(countobj) & ! вернёт название последнего добавленного предмета
</code>
<segment>
<p>
<tag name="simple-string">
Код, подсчитывающий в массиве </tag>
<tag name="tt">
OBJECTS</tag>
<tag name="simple-string">
 число предметов с одинаковым названием:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
i = 1
<br/>:loop
<br/>if i<=countobj:
<br/>    objects[$getobj(i)] = objects[$getobj(i)] + 1
<br/>    i = i + 1
<br/>    jump 'loop'
<br/>end
</code>
</segment>
<head anchor="faq_80_03_iif" head-level="h3">
<p>
$IIF (IIF)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
IIF</tag>
<tag name="simple-string">
 —  возвращает значение в зависимости от верности выражения.
</tag>
</p>
<p>
	Общая запись:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
IIF([#выражение],[#выражение_да],[#выражение_нет])
<br/>$IIF([#выражение],[$выражение_да],[$выражение_нет])
</code>
<segment>
<p>
<tag name="simple-string">
	Если </tag>
<tag name="tt">
[#выражение]</tag>
<tag name="simple-string">
 верно, возвращает значение выражения </tag>
<tag name="tt">
[выражение_да]</tag>
<tag name="simple-string">
, в противном случае возвращает значение выражения </tag>
<tag name="tt">
[выражение_нет]</tag>
<tag name="simple-string">
. При выполнении функции вычисляются значения всех трёх выражений.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
!Модуль числа
<br/>abs_x=iif(x>0,x,-x)
<br/>
<br/>!А следующая конструкция вызовет ошибку деления на ноль:
<br/>x=0
<br/>y=iif(x=0,0,1/x)
<br/>
<br/>! типичное решение для вывода времени, чтобы не терять ноль на часах:
<br/>$iif(hour>9,$str(hour),"0"+$str(hour))+":"+$iif(minute>9,$str(minute),"0"+$str(minute))
</code>
</segment>
<head anchor="faq_80_03_input" head-level="h3">
<p>
$INPUT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$INPUT</tag>
<tag name="simple-string">
 —  возвращает интерпретатору введённый игроком текст, либо </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
 (пустая строка), если была нажата кнопка "Отмена". Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$INPUT([$текст])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — это приглашение в диалоговом окне, которое видит игрок. Например:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$name = $input('Как звать тебя, герой?')
</code>
<segment>
<p>
При выполнении данной команды на экране появится диалоговое окно с текстом "Как звать тебя, герой?", а выполнение остального кода приостановится, пока игрок не провзаимодействует с диалоговым окном.
</p>
<p>
<tag name="simple-string">
Игрок может ввести или не ввести текст, и нажать кнопку "ОК" или "Отмена". Если игрок ввёл текст и нажал кнопку "ОК", функция </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
 вернёт переменной </tag>
<tag name="tt">
$text</tag>
<tag name="simple-string">
 введённый игроком текст. Во всех остальных случаях после закрытия диалогового окна функция вернёт пустую строку (</tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
Другие примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! Вопрос с одним правильным ответом. 
<br/>if $input('Что приходит после тьмы?')='свет':
<br/>    msg 'Все верно.'
<br/>else
<br/>    msg 'Ответ не верный.'
<br/>end
<br/>
<br/>! Пример реализации вопроса с несколькими вариантами ответа из которых любой будет правильным.
<br/>$answer =$trim($lcase($input('Ответить')))
<br/>if instr($answer,'красный') or instr($answer,'желтый') or instr($answer,'зеленый'): gt 'win'
<br/>! Введя красный или зеленый ил желтый произойдет переход на локацию 'win'
</code>
<segment>
<p>
Допустимо, но не одобряется, использовать функцию для возвращения числовых значений:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
INPUT([$приглашение])
</code>
<segment>
<p>
Это может привести к различным ошибкам в игре, если игрок введёт в диалоговом окне не только цифры. Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
age=input('Сколько вам лет?')
</code>
<segment>
<p>
Если игрок введёт вместо числа строку "24 года", плеер выдаст ошибку 101 "Несоответствие типов данных". Подобные ситуации должен предусматривать автор игры, а значит правильно будет озаботиться проверкой введённого значения уже после того, как функция $input будет выполнена.
</p>
</segment>
<code code-left-level="0" code-type="qsp">
:enter_text
<br/>! предлагаем игроку ответить на вопрос
<br/>! и присваиваем введённый текст переменной
<br/>$text=$input('Сколько вам лет?')
<br/>! если во введённом тексте содержатся не только цифры
<br/>! либо игрок не ввёл ответ
<br/>if isnum($text)<>-1 or $text="":
<br/>    ! предлагаем игроку снова ответить на вопрос
<br/>    jump 'enter_text'
<br/>else
<br/>    age=val($text)
<br/>end
</code>
</segment>
<head anchor="faq_80_03_lcase" head-level="h3">
<p>
$LCASE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$LCASE</tag>
<tag name="simple-string">
 —  возвращает строку маленьких букв, полученную изменением регистра букв исходной строки. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$LCASE([$текст])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$lcase('TExT#') & ! вернёт 'text#'
<br/>$lcase('Привет, Алиса!') & ! вернёт 'привет, алиса!'
<br/>$lcase('Я НЕ ХОЧУ НА ВАС ОРАТЬ.') & ! вернёт 'я не хочу на вас орать.'
</code>
</segment>
<head anchor="faq_80_03_maintxt" head-level="h3">
<p>
$MAINTXT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$MAINTXT</tag>
<tag name="simple-string">
 —  возвращает текст, выведенный в окно основного описания.
</tag>
</p>
<p>
	Данная функция может быть полезна для замены части текста в окне основного описания, либо иной обработке текста. Пример:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! изначально мы вывели строку
<br/>*pl "Мы вывели на экран строку и в этой строке есть кусок, который мы хотим удалить."
<br/>
<br/>! получаем текст из окна основного описания
<br/>$text=$maintxt
<br/>! вырезаем лишний кусок
<br/>$text_new=$replace($text," и в этой строке есть кусок, который мы хотим удалить")
<br/>! очищаем окно основного описания
<br/>*clr
<br/>! выводим новый текст
<br/>*p $text_new
</code>
</segment>
<head anchor="faq_80_03_max" head-level="h3">
<p>
$MAX (MAX)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MAX</tag>
<tag name="simple-string">
 —  возвращает максимальное из значений выражений-аргументов. Можно передавать от одного до девяти значений/аргументов. Если передан один аргумент, то считается, что указано имя массива. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
MAX([#выражение 1],[#выражение 2], ... ,[#выражение 10])
<br/>$MAX([$выражение 1],[$выражение 2], ... ,[$выражение 10])
<br/>
<br/>MAX([$название массива])
<br/>$MAX([$название массива])
</code>
<segment>
<p>
<tag name="simple-string">
	Обратите внимание, при передаче одного аргумента поиск максимального элемента происходит среди строковых (если название массива указано со знаком </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
) или среди числовых значений элементов массива. Например:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
max('a') & ! вернёт максимальное из числовых значений элементов массива "a"
<br/>$max('$b') & ! вернёт максимальное из строковых значений элементов массива "b"
</code>
<segment>
<p>
<tag name="simple-string">
	Нельзя писать так и надеяться, что произойдёт поиск среди значений массива </tag>
<tag name="tt">
a</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
max(a)
</code>
<segment>
<p>
	Можно так:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$b='a'
<br/>max($b) & ! произойдёт поиск максимального значения среди элементов массива "a"
</code>
<segment>
<p>
	Другие примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
max(1,2,5,2,0) &! вернёт 5
<br/>max(a,b,c) &! вернёт максимальное из значений переменных a,b,c
<br/>$max('aa','ab','zz') &! вернёт 'zz'
</code>
</segment>
<head anchor="faq_80_03_mid" head-level="h3">
<p>
$MID</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$MID</tag>
<tag name="simple-string">
 —  позволяет вырезать из строки её часть. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$MID([$строка],[#начало],[#длина])
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — это строка текста, именно из неё функция вырезает часть, начиная с символа номер </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
, и длиной в </tag>
<tag name="tt">
[#длина]</tag>
<tag name="simple-string">
 символов. Нумерация символов начинается с 1. Если отсутствует параметр </tag>
<tag name="tt">
[#длина]</tag>
<tag name="simple-string">
, вырезается часть до конца строки. Параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 обязателен, и может в принципе принимать любые значения.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$mid('abcdef',1,2)    &    ! 'ab'
<br/>$mid('abcdef',2,3)    &    ! 'bcd'
<br/>$mid('abcdef',2)    &    ! 'bcdef'
<br/>$mid('abcdef')        &    ! 'ошибка [120] — неверное число аргументов оператора/функции'
<br/>$mid('abcdef',0)    &    ! 'abcdef'
<br/>$mid('abcdef',8)    &    ! ''
</code>
</segment>
<head anchor="faq_80_03_min" head-level="h3">
<p>
$MIN (MIN)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MIN</tag>
<tag name="simple-string">
 —  возвращает минимальное из значений выражений-аргументов. Можно передавать от одного до девяти значений/аргументов. Если передан один аргумент, то считается, что указано имя массива. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
MIN([#выражение 1],[#выражение 2], ... ,[#выражение 10])
<br/>$MIN([$выражение 1],[$выражение 2], ... ,[$выражение 10])
</code>
<code code-left-level="8" code-type="qsp">
MIN([$название массива])
<br/>$MIN([$название массива])
</code>
<segment>
<p>
<tag name="simple-string">
	Обратите внимание, при передаче одного аргумента поиск минимального элемента происходит среди строковых (если название массива указано со знаком </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
) или среди числовых значений элементов массива. Например:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
min('a')    & ! вернёт минимальное из числовых значений элементов массива "a"
<br/>$min('$b')    & ! вернёт минимальное из строковых значений элементов массива "b"
</code>
<segment>
<p>
	Нельзя писать так:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
min(a)
</code>
<segment>
<p>
	Можно так:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$b='a'
<br/>min($b) & ! произойдёт поиск максимального значения среди элементов массива "a"
</code>
<segment>
<p>
	Другие примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
min(1,2,5,2,0)    &    ! вернёт 0
<br/>min(a,b,c)        &    ! вернёт минимальное из значений переменных a,b,c
<br/>$min('aa','ab','zz') & ! вернёт 'aa'
</code>
</segment>
<head anchor="faq_80_03_qspver" head-level="h3">
<p>
$QSPVER</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$QSPVER</tag>
<tag name="simple-string">
 - возвращает версию интерпретатора в формате "X.Y.Z". Пример вызова:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
if $qspver<"5.7.0": *pl "Ваша версия плеера не подходит для этой игры. Установите плеер версии 5.7.0 или выше."
</code>
</segment>
<head anchor="faq_80_03_replace" head-level="h3">
<p>
$REPLACE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$REPLACE</tag>
<tag name="simple-string">
 —  общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$REPLACE([$строка],[$поиск],[$замена])
</code>
<segment>
<p>
<tag name="simple-string">
	Данная функция заменяет в строке </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 все вхождения строки </tag>
<tag name="tt">
[$поиск]</tag>
<tag name="simple-string">
 строкой </tag>
<tag name="tt">
[$замена]</tag>
<tag name="simple-string">
 и возвращает результат. Если </tag>
<tag name="tt">
[$замена]</tag>
<tag name="simple-string">
 отсутствует или указана пустая строка, то удаляет в исходной строке все вхождения искомой строки. Примеры:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$replace('test', '12', '4')    & ! выведет на экран 'test'
<br/>$replace('test', 'e', 's')    & ! выведет на экран 'tsst'
<br/>$replace('test', 't', '34')    & ! выведет на экран '34es34'
<br/>$replace('test', 't')        & ! выведет на экран 'es'
</code>
<code code-left-level="8" code-type="qsp">
! можно присвоить значение переменной
<br/>$text="Строка текста с разными буквами."
<br/>! а новое значение вписать в другую переменную
<br/>$text_new=$replace($text,"ст","st")
<br/>*pl $text
<br/>*pl $text_new
</code>
</segment>
<head anchor="faq_80_03_selact" head-level="h3">
<p>
$SELACT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$SELACT</tag>
<tag name="simple-string">
 —  возвращает название выделенного действия в любом месте игры.
</tag>
</p>
<p>
	Следует помнить, что выделение действия происходит при наведении на него указателя мыши, а не при непосредственном нажатии.
</p>
<p>
<tag name="simple-string">
	Пример использования можно посмотреть в разделе </tag>
<tag name="hyperlink" href="#faq_80_04_onactsel">
<tag name="tt">
$onactsel</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_selobj" head-level="h3">
<p>
$SELOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$SELOBJ</tag>
<tag name="simple-string">
 —  возвращает название выделенного предмета в любом месте игры. Выделение предмета происходит в момент нажатия (щелчка мышью по предмету) и не снимается до применения команды </tag>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	Пример использования можно посмотреть в разделе </tag>
<tag name="hyperlink" href="#faq_80_04_onobjsel">
<tag name="tt">
$onobjsel</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_stattxt" head-level="h3">
<p>
$STATTXT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$STATTXT</tag>
<tag name="simple-string">
 —  возвращает текст, выведенный в окно дополнительного описания. Может быть полезна для замены части текста в окне дополнительного описания.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_str" head-level="h3">
<p>
$STR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$STR</tag>
<tag name="simple-string">
 —  возвращает строку текста, полученную переводом числа в строку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$STR([#число])
</code>
<segment>
<p>
	Пример:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$str(56) & ! превратит число 56 в строку "56" и выведет на экран
</code>
</segment>
<head anchor="faq_80_03_strfind" head-level="h3">
<p>
$STRFIND</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$STRFIND</tag>
<tag name="simple-string">
 —  возвращает подстроку, соответствующую регулярному выражению, из указанной строки. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$STRFIND([$строка],[$шаблон],[#номер])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — исходная строка, в которой производим поиск вхождения, соответствующего регулярному выражению </tag>
<tag name="tt">
[$шаблон]</tag>
<tag name="simple-string">
, или группе номер </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 в регулярном выражении. Если подстрока с указанным номером отсутствует, то возвращается пустая строка. Нумерация групп подстрок начинается с 1. Если параметр </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 отсутствует или равен 0, то возвращается подстрока, соответствующая всему регулярному выражению </tag>
<tag name="tt">
[$шаблон]</tag>
<tag name="simple-string">

</tag>
</p>
<p>
Например, возьмём регулярное выражение:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
'^(\S+)\s(\S+)\s(\S+)$'
</code>
<segment>
<p>
<tag name="simple-string">
Метасимвол </tag>
<tag name="tt">
\S</tag>
<tag name="simple-string">
 означает любой непробельный символ, а квантификатор </tag>
<tag name="tt">
+</tag>
<tag name="simple-string">
 указывает, что непробельные символы должны присутствовать один или более раз. Таким образом запись </tag>
<tag name="tt">
\S+</tag>
<tag name="simple-string">
 можно условно сопоставить слову. Каждое слово с помощью скобок </tag>
<tag name="tt">
()</tag>
<tag name="simple-string">
 выделено в отдельную группу, а между группами присутствуют пробельные символы </tag>
<tag name="tt">
\s</tag>
<tag name="simple-string">
. Метасимволы </tag>
<tag name="tt">
^</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 означают соответственно начало и конец строки. Таким образом наше регулярное выражение соответствует любой строке из трёх слов, разделённых пробелами.
</tag>
</p>
<p>
Тогда:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! в этом случае строка не соответствует регулярному выражению
<br/>! потому что согласно регулярному выражению строка должна начинаться
<br/>! с группы непробельных символов. Команда вернёт пустую строку ''
<br/>$strfind(' идти к пещере','^(\S+)\s(\S+)\s(\S+)$')
</code>
<code code-left-level="0" code-type="qsp">
! в данном случае строка полностью соответствует регулярному выражению
<br/>! а значит команда вернёт строку полностью 'идти к пещере'
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)\s(\S+)$')=''
</code>
<code code-left-level="0" code-type="qsp">
! в следующих трёх примерах строка соответствует регулярному выражению
<br/>! однако третий аргумент указывает, какую именно группу из этого
<br/>! регулярного выражения мы хотим получить, поэтому каждая команда вернёт
<br/>! соответственно первое, второе и третье слова из строки
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)\s(\S+)$',1) & ! вернёт 'идти'
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)\s(\S+)$',2) & ! вернёт 'к'
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)\s(\S+)$',3) & ! вернёт 'пещере'
</code>
<code code-left-level="0" code-type="qsp">
! здесь последняя группа непробельных символов объединена в одну
<br/>! группу с последним пробельным символом. Квантификатор "?" указывает,
<br/>! что эта группа может как присутствовать в строке, так и отсутствовать:
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)(\s(\S+))?$',4) & ! вернёт 'пещере'
<br/>$strfind('идти к пещере','^(\S+)\s(\S+)(\s(\S+))?$',3) & ! вернёт ' пещере'
<br/>! этому же регулярному выражению соответствует и такая строка
<br/>$strfind('искать ключ','^(\S+)\s(\S+)(\s(\S+))?$',1) & ! вернёт 'искать'
<br/>! а вот эта строка уже не соответствует регулярному выражению
<br/>$strfind('искать','^(\S+)\s(\S+)(\s(\S+))?$',1) & ! вернёт ''
</code>
<segment>
<p>
<tag name="simple-string">
Следующие примеры показывают, как </tag>
<tag name="tt">
$strfind</tag>
<tag name="simple-string">
 возвращает часть строки, соответствующую регулярному выражению:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$strfind('идти к дому','к\s(\S+)') & ! вернёт 'к дому'
<br/>$strfind('идти к дому', 'к\s(\S+)', 1) & ! вернёт 'дому'
<br/>$strfind('идти к своему дому','к\s(\S+)',1) & ! вернёт 'своему'
</code>
</segment>
<head anchor="faq_80_03_trim" head-level="h3">
<p>
$TRIM</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$TRIM</tag>
<tag name="simple-string">
 —  возвращает указанную строку без прилегающих символов табуляции и пробелов. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$TRIM([$выражение])
</code>
<segment>
<p>
Например:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$trim('     trim test        ') & ! вернёт 'trim test'
</code>
</segment>
<head anchor="faq_80_03_ucase" head-level="h3">
<p>
$UCASE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$UCASE</tag>
<tag name="simple-string">
 —  возвращает строку больших букв, полученную изменением регистра букв исходной строки. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$UCASE([$текст])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любая строка текста.
</tag>
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$ucase('TExT#') & ! вернёт 'TEXT#'
<br/>$ucase('Привет, Алиса!') & ! вернёт 'ПРИВЕТ, АЛИСА!'
<br/>$ucase('Я хочу на вас орать.') & ! вернёт 'Я ХОЧУ НА ВАС ОРАТЬ.'
</code>
</segment>
<head anchor="faq_80_03_usrtxt" head-level="h3">
<p>
$USER_TEXT ($USRTXT)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$USER_TEXT</tag>
<tag name="simple-string">
 —  в любом месте игры возвращает текст, который находится в строке ввода (поле ввода). Имеет краткую форму </tag>
<tag name="tt">
$usrtxt</tag>
<tag name="simple-string">
. Пример смотри в разделе </tag>
<tag name="tt">
$usercom</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_03_arrcomp" head-level="h3">
<p>
ARRCOMP</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ARRCOMP</tag>
<tag name="simple-string">
 —  возвращает индекс элемента массива, соответствующего регулярному выражению. Поиск начинается с элемента с заданным номером; индексация элементов массива ведётся с нуля. Если указанное значение не найдено, функция возвращает -1. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ARRCOMP([#начало],[$имя_массива],[$шаблон])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 — номер элемента массива, с которого следует начать поиск, </tag>
<tag name="tt">
[$имя_массива]</tag>
<tag name="simple-string">
 — название массива, по которому нужно произвести поиск, </tag>
<tag name="tt">
[$шаблон]</tag>
<tag name="simple-string">
 — регулярное выражение, с которым будет сравниваться искомый элемент.
</tag>
</p>
<p>
<tag name="simple-string">
Параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 может отсутствовать, при этом его значение принимается равным 0. Поиск ведётся только среди текстовых элементов массива.
</tag>
</p>
<p>
<tag name="simple-string">
Важно! В более новых версиях плеера (например, в Quest Navigator) параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 переставлен в конец:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ARRCOMP([$имя_массива],[$шаблон],[#начало])
</code>
<segment>
<p>
Для примера возьмём вот такой массив:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$mass[0]="топаю вперёд"
<br/>$mass[1]=" иду в пещеру"
<br/>$mass[2]="не иду в пещеру"
<br/>$mass[3]="топаю к дому"
</code>
<segment>
<p>
<tag name="simple-string">
Нам нужно найти элемент, значение которого состояит из трёх слов. В грубом приближении слово — это набор из одного или более непробельных символов </tag>
<tag name="tt">
\S+</tag>
<tag name="simple-string">
, по бокам от которого могут стоять или не стоять символы пробела </tag>
<tag name="tt">
\s</tag>
<tag name="simple-string">
, отсюда мы можем составить вот такое регулярное выражение:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="None">
\s?\S+\s\S+\s\S+\s?
</code>
<segment>
<p>
Остаётся только выяснить какой элемент массива соответсвует шаблону:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
arrcomp('$mass','\s?\S+\s\S+\s\S+\s?') & ! этому выражению соответствует первый элемент
</code>
<segment>
<p>
Если мы хотим проигнорировать первый элемент и начать поиск со второго:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
arrcomp(2,'$mass','\s?\S+\s\S+\s\S+\s?') & ! этому выражению соответствует третий элемент
</code>
<segment>
<p>
А вот так мы можем вывести на экран значения всех элементов, содержащих слово "иду":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
pos=0
<br/>:for
<br/>index=arrcomp(pos,'$mass','(.*\s|^)иду(\s.*|$)')
<br/>if index<>-1:
<br/>    $mass[index]
<br/>    pos=index+1
<br/>    jump 'for'
<br/>end
</code>
<segment>
<p>
Другие примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! Поиск строки 'This' среди элементов массива "$A"
<br/>arrcomp(0,'$A','This')
<br/>! Поиск строки, соответствующей регулярному выражению "abc\d+"
<br/>! (первые два элемента массива игнорируются)
<br/>arrcomp(2,'$A','abc\d+')
<br/>! аналогично предыдущему примеру,
<br/>! но поиск осуществляется по всем элементам массива
<br/>arrcomp(0,'$A','.*string.*') 
<br/>
<br/>arrcomp('$A','This') & ! эквивалентно 1му варианту
</code>
</segment>
<head anchor="faq_80_03_arrpos" head-level="h3">
<p>
ARRPOS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ARRPOS</tag>
<tag name="simple-string">
 —   возвращает индекс элемента массива, равного указанному значению. Поиск начинается с элемента с заданным номером; индексация элементов массива ведётся с нуля. Если указанное значение не найдено, функция возвращает -1. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ARRPOS([#начало],[$имя_массива],[значение])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 — номер элемента массива, с которого следует начать поиск, </tag>
<tag name="tt">
[$имя_массива]</tag>
<tag name="simple-string">
 — название массива, по которому нужно произвести поиск, </tag>
<tag name="tt">
[значение]</tag>
<tag name="simple-string">
 — число, или строка (в зависимости от типа массива), которое нужно найти в массиве.
</tag>
</p>
<p>
<tag name="simple-string">
Важно! В более новых версиях плеера (например, в Quest Navigator) параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 переставлен в конец:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ARRPOS([$имя_массива],[$шаблон],[#начало])
</code>
<segment>
<p>
Для примера возьмём такой массив:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$color[0]='красный'
<br/>$color[1]='жёлтый'
<br/>$color[2]='зелёный'
<br/>$color[3]='синий'
<br/>$color[4]='жёлтый'
</code>
<segment>
<p>
Нам нужно найти элемент со значением "жёлтый":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
arrpos('$color','жёлтый') & ! вернёт значение 1
</code>
<segment>
<p>
Если мы хотим проигнорировать первые два элемента:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
arrpos(2,'$color','жёлтый') & ! вернёт значение 4
</code>
<segment>
<p>
Если мы хотим найти элемент со значением, которого нет в массиве:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
arrpos('$color','голубой') & ! вернёт значение -1
</code>
<segment>
<p>
Другие примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! поиск строки 'this' в текстовом массиве "$a"
<br/>arrpos(0,'$a','this')
<br/>! поиск числа 65 в массиве "a" (два элемента массива игнорируются)
<br/>arrpos(2,'a',65)
<br/>! поиск строки 'test' среди значений массива "$b"
<br/>arrpos('$b','test')
</code>
</segment>
<head anchor="faq_80_03_arrsize" head-level="h3">
<p>
ARRSIZE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ARRSIZE</tag>
<tag name="simple-string">
 —  функция возвращает число элементов массива. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ARRSIZE([$имя_массива])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$имя_массива]</tag>
<tag name="simple-string">
 — название массива, размер которого хотим получить.
</tag>
</p>
<p>
В силу особенностей движка плеера, не важно, указывается ли название текстового, или числового, массива, возвращено будет наибольшее значение. Для примера:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$a[0]='0'
<br/>$a[1]='1'
<br/>a[0]=1
<br/>a[1]=2
<br/>a[2]=3
<br/>
<br/>arrsize('$a')    & ! вернёт значение 3
<br/>arrsize('a')    & ! вернёт значение 3
<br/>
<br/>$b[0]='0'
<br/>$b[1]='1'
<br/>$b[2]='2'
<br/>b[0]=1
<br/>b[1]=2
<br/>
<br/>arrsize('$b')    & ! вернёт значение 3
<br/>arrsize('b')    & ! вернёт значение 3
</code>
</segment>
<head anchor="faq_80_03_countobj" head-level="h3">
<p>
COUNTOBJ</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
COUNTOBJ</tag>
<tag name="simple-string">
 —  возвращает количество предметов в инвентаре.
</tag>
</p>
<p>
	Номер последнего предмета в списке численно совпадает с количеством предметов, поэтому всегда можно получить название последнего предмета так:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$getobj(countobj)
</code>
</segment>
<head anchor="faq_80_03_instr" head-level="h3">
<p>
INSTR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
INSTR</tag>
<tag name="simple-string">
 —  возвращает номер символа, с которого начинается вхождение подстроки в строку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
INSTR([#начало],[$строка],[$подстрока])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 — это номер символа, с которого нужно начинать поиск, </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — это текстовое значение (строка), по которому нужно производить поиск, а </tag>
<tag name="tt">
[$подстрока]</tag>
<tag name="simple-string">
 — значение, которое мы ищем в указанной строке. Нумерация символов начианется с 1. Параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 может отсутствовать, при этом он принимается равным 1.
</tag>
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
instr(3,'abcdefabcdef','bc')    & ! вернёт число 8
<br/>instr('abcdefghijklm','abc')    & ! вернёт число 1
</code>
<segment>
<p>
Если ни одного вхождения указанной подстроки в строке нет, instr возвращает 0.
</p>
<p>
Пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
instr('Вася вышел из дома.','идти') & ! вернёт 0
</code>
<segment>
<p>
<tag name="simple-string">
Важно: в более новых версиях (Quest Navigator) необязательный параметр </tag>
<tag name="tt">
[#начало]</tag>
<tag name="simple-string">
 переставлен в конец:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
INSTR([$строка],[$подстрока],[#начало])
</code>
</segment>
<head anchor="faq_80_03_isnum" head-level="h3">
<p>
ISNUM</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ISNUM</tag>
<tag name="simple-string">
 —  функция возвращает -1 (истина), если переданная строка является числом, и  — 0, если строка не является числом. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ISNUM([$строка])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — любая строка текста.
</tag>
</p>
<p>
<tag name="simple-string">
При проверке учитываются знак </tag>
<tag name="tt">
-</tag>
<tag name="simple-string">
 в начале, прилегающие пробелы и символы табуляции, но кроме того, если хотя бы один символ окажется не цифрой, функция вернёт 0 (ложь).
</tag>
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
isnum(' 9999 ') & ! вернёт -1
<br/>isnum(' -888')  & ! вернёт -1
<br/>isnum('777a6')  & ! вернёт 0
<br/>isnum('')       & ! вернёт -1, так как нет ни одной не-цифры (пустая строка считается нулём)
</code>
</segment>
<head anchor="faq_80_03_isplay" head-level="h3">
<p>
ISPLAY</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ISPLAY</tag>
<tag name="simple-string">
 —  функция проверяет, проигрывается ли в данный момент файл с указанным названием, и если проигрывается, возвращает -1. В противном случае функция возвращает 0. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
ISPLAY([$путь_к_файлу])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$путь_к_файлу]</tag>
<tag name="simple-string">
 — путь к звуковому файлу относительно файла игры.
</tag>
</p>
<p>
Пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
isplay('music/mountsound.mp3')
</code>
</segment>
<head anchor="faq_80_03_len" head-level="h3">
<p>
LEN</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
LEN</tag>
<tag name="simple-string">
 —  возвращает длину указанной строки текста (количество символов). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
LEN([$текст])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$текст]</tag>
<tag name="simple-string">
 — любое текстовое значение.
</tag>
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
len("abc") & ! вернёт значение 3
<br/>len("тысячадевятьсотвосьмидесятидевятимиллиметровый") & ! вернёт значение 46
<br/>len("") & ! вернёт значение 0
</code>
</segment>
<head anchor="faq_80_03_msecscount" head-level="h3">
<p>
MSECSCOUNT</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
MSECSCOUNT</tag>
<tag name="simple-string">
 —  возвращает количество миллисекунд, прошедших с момента начала игры. Данная функция при использовании на локации-счётчике позволяет организовывать различные события, происходящие в реальном времени. Так же, с помощью этой функции можно делать замеры быстродействия различных участков кода в вашей игре:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
i=0
<br/>old_time=msecscount
<br/>:for
<br/>if i<100000:
<br/>    a[i]=i
<br/>    i+=1
<br/>    jump 'for'
<br/>end
<br/>new_time=msecscount
<br/>pl new_time-old_time
</code>
</segment>
<head anchor="faq_80_03_rand" head-level="h3">
<p>
RAND</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
RAND</tag>
<tag name="simple-string">
 —  возвращает случайное число между двумя указанными числами. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
RAND([#выражение 1],[#выражение 2])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[#выражение 1]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 — два любых числа или числовых выражения. Параметр </tag>
<tag name="tt">
[#выражение 2]</tag>
<tag name="simple-string">
 может отсутствовать, при этом он принимается равным нулю (в более новых версиях плеера, например Quest Navigator, данный параметр по умолчанию равен единице).
</tag>
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
rand(1,4) &! вернёт случайное значение от 1 до 4
<br/>rand(4,1) &! вернёт случайное значение от 1 до 4
<br/>rand(1000) &! вернёт случайное значение от 0(1) до 1000
<br/>rand 1000 &! вернёт случайное значение от 0(1) до 1000
</code>
</segment>
<head anchor="faq_80_03_rgb" head-level="h3">
<p>
RGB</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
RGB</tag>
<tag name="simple-string">
 —  возвращает числовой код цвета на основе трёх числовых аргумнтов, каждый из которых соответствует составляющей требуемого цвета. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
RGB([#красный],[#зелёный],[#синий])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[#красный]</tag>
<tag name="simple-string">
,</tag>
<tag name="tt">
[#зелёный]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
[#синий]</tag>
<tag name="simple-string">
 — числовое выражение трёх составляющих цвета соответсвенно красной, зелёной и синей; должны принимать значения от 0 до 255.
</tag>
</p>
<p>
<tag name="simple-string">
Данная функция обычно используется совместно с системными переменными </tag>
<tag name="tt">
bcolor</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
fcolor</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
lcolor</tag>
<tag name="simple-string">
. Пример:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! гиперссылки светло-жёлтого цвета
<br/>lcolor=rgb(255,255,100)
<br/>! фон тёмно-серого цвета
<br/>bcolor=rgb(25,25,25)
<br/>! текст светло-зелёного цвета
<br/>fcolor=rgb(100,255,100)
</code>
</segment>
<head anchor="faq_80_03_rnd" head-level="h3">
<p>
RND</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
RND</tag>
<tag name="simple-string">
 - возвращает случайное значение от 1 до 1000. Аналогично команде:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
rand(1,1000)
</code>
</segment>
<head anchor="faq_80_03_strcomp" head-level="h3">
<p>
STRCOMP</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
STRCOMP</tag>
<tag name="simple-string">
 —  проводит сравнение строки с регулярным выражением и, если строка соответствует регулярному выражению, возвращает -1 (истина), а если не соответствует — 0 (ложь). Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
STRCOMP([$строка],[$шаблон])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — любое текстовое значение, </tag>
<tag name="tt">
[$шаблон]</tag>
<tag name="simple-string">
 — регулярное выражение, с которым производится сравнение.
</tag>
</p>
<p>
<tag name="simple-string">
Например, нам нужно проверить, состоит ли указанная строка из трёх слов. Каждое слово, в грубом виде, это набор непробельных символов, значит мы можем воспользоваться метасимволом </tag>
<tag name="tt">
\S</tag>
<tag name="simple-string">
 и квантификатором </tag>
<tag name="tt">
+</tag>
<tag name="simple-string">
. Слова обычно разделены пробельными символами, для чего мы используем метасимвол </tag>
<tag name="tt">
\s</tag>
<tag name="simple-string">
. Получается вот такое регулярное выражение:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="None">
"\s?\S+\s+\S+\s+\S+\s?"
</code>
<segment>
<p>
Теперь мы можем проверить, какие строки соответствуют этому регулярному выражению:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
strcomp('иду по дороге','\s?\S+\s+\S+\s+\S+\s?') & ! вернёт -1
<br/>strcomp(' иду домой','\s?\S+\s+\S+\s+\S+\s?') & ! вернёт 0
<br/>strcomp(' иду в лес ','\s?\S+\s+\S+\s+\S+\s?') & ! вернёт -1
<br/>strcomp('однословие','\s?\S+\s+\S+\s+\S+\s?') & ! вернёт 0
</code>
</segment>
<head anchor="faq_80_03_strpos" head-level="h3">
<p>
STRPOS</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
STRPOS</tag>
<tag name="simple-string">
 —  возвращает позицию символа, с которого начинается вхождение подстроки, соответствующей регулярному выражению, в указанную строку. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
STRPOS([$строка],[$шаблон],[#номер])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$строка]</tag>
<tag name="simple-string">
 — исходная строка, в которой производим поиск вхождения, соответствующего регулярному выражению </tag>
<tag name="tt">
[$шаблон]</tag>
<tag name="simple-string">
, или группе номер </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 в регулярном выражении. Нумерация групп в регулярном выражении начинается с 1. Если подстрока с указанным номером отсутствует, то возвращается 0.
</tag>
</p>
<p>
<tag name="simple-string">
Если параметр </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
 отсутствует или равен 0, то возвращается позиция символа, с которого начинается вхождение подстроки, соответствующей всему регулярному выражению.
</tag>
</p>
<p>
Например, нам нужно выяснить, в какой части текста встречается словосочетание "зелёное яблоко", однако при этом не должно быть важно, в каком падеже записано это прилагательное.
</p>
<p>
Чтобы написать регулярное выражение для этой задачи, нам нужно предусмотреть все падежи:
</p>
</segment>
<code code-left-level="0" code-type="None">
зелёное яблоко
<br/>зелёного яблока
<br/>зелёному яблоку
<br/>зелёное яблоко
<br/>зелёным яблоком
<br/>зелёном яблоке
</code>
<segment>
<p>
Как видим, во всех формах меняются только окончания слов. Поэтому мы можем составить вот такое регулярное выражение:
</p>
</segment>
<code code-left-level="0" code-type="None">
"зелён(ое|ого|ому|ым|ом)\s+яблок(о|а|у|ом|е)"
</code>
<segment>
<p>
Через прямую черту в скобках перечисленны возможные варианты окончаний. А теперь выясним, с какого символа в строке начинается возможное слвовосочетание "зелёное яблоко":
</p>
</segment>
<code code-left-level="0" code-type="qsp">
! для удобства регулярное выражение помещаем в переменную
<br/>$regexp="зелён(ое|ого|ому|ым|ом)\s+яблок(о|а|у|ом|е)"
<br/>strpos("У меня есть зелёное яблоко",$regexp) & ! вернёт 13
<br/>strpos("Ты швырнул в него зелёным яблоком!",$regexp) & ! вернёт 19
<br/>strpos("полный ящик зелёных яблок",$regexp) & ! вернёт 0, потому что такую форму мы не учли
</code>
<segment>
<p>
<tag name="simple-string">
Если мы не просто хотим узнать, с какого символа начинается вхождение в строку словосочетания, но где начинается вхождение слово "яблоко" из этого словосочетания, нам нужно выделить слово "яблоко" с вариантами окончаний в отдельную группу и воспользоваться параметром </tag>
<tag name="tt">
[#номер]</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
$regexp="зелён(ое|ого|ому|ым|ом)\s+(яблок(о|а|у|ом|е))"
<br/>strpos("У меня есть зелёное яблоко",$regexp,2) & ! вернёт 21
<br/>strpos("Ты швырнул в него зелёным яблоком!",$regexp,2) & ! вернёт 27
<br/>strpos("полный ящик зелёных яблок",$regexp,2) & ! вернёт 0, потому что мы не учли форму
</code>
</segment>
<head anchor="faq_80_03_val" head-level="h3">
<p>
VAL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
VAL</tag>
<tag name="simple-string">
 —  переводит указанную строку цифр в соответствующее число. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="0" code-type="qsp">
VAL([$выражение])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$выражение]</tag>
<tag name="simple-string">
 — любая строка текста.
</tag>
</p>
<p>
<tag name="simple-string">
При проверке учитываются знак </tag>
<tag name="tt">
-</tag>
<tag name="simple-string">
 в начале, прилегающие пробелы и символы табуляции, но кроме того, если хотя бы один символ окажется не цифрой, функция вернёт 0. Так же если </tag>
<tag name="tt">
[$выражение]</tag>
<tag name="simple-string">
 равно </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
 (пустая строка), то возвращается 0.
</tag>
</p>
<p>
Пример:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
яблоки=val($яблоки)
</code>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\04_qsp-keyword_0178.txt-light">
<head anchor="faq_80_04" head-level="h2">
<p>
Системные переменные</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="faq_80_04_backimage" head-level="h3">
<p>
$BACKIMAGE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$BACKIMAGE</tag>
<tag name="simple-string">
 —  содержит путь к файлу фонового изображения для окна основного описания. Фон в окне основного описания отображается в том случае, если значение данной переменной отлично от '' (т.е. не пустая строка) и файл изображения удалось загрузить.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$backimage="img/bg.png" & ! устанавливаем фоновым изображение, которое лежит в папке "img".
</code>
<code code-left-level="8" code-type="qsp">
$backimage="" & ! убираем изображение из фона окна основного описания.
</code>
</segment>
<head anchor="faq_80_04_counter" head-level="h3">
<p>
$COUNTER</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$COUNTER</tag>
<tag name="simple-string">
 —  содержит название локации-счётчика. Локация-счётчик может использоваться для реалтаймовых событий (то есть событий, происходящих в действительном времени); например, плавное изменение цвета фона, постепенный вывод текста на экран, плейлист для постоянного проигрывания музыки и другие.
</tag>
</p>
<p>
<tag name="simple-string">
	Локация-счетчик вызывается через одинаковые промежутки времени, по умолчанию каждые 500 мс, т.е. 2 раза в секунду. Автоматическое обновление интерфейса срабатывает с той же частотой. Промежутки задаются оператором </tag>
<tag name="tt">
settimer</tag>
<tag name="simple-string">
 в миллисекундах.
</tag>
</p>
<p>
	Если ваша локация-счётчик называется "Счётчик", на самой первой локации в игре нужно написать:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$counter='Счётчик'
</code>
<segment>
<p>
	Как правило, чтобы не путаться, локацию называют так же, как и служебную переменную — "Counter":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$counter='Counter'
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить выполнение локации-счётчика, нужно задать пустое значение переменной </tag>
<tag name="tt">
$COUNTER</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$counter=""
</code>
</segment>
<head anchor="faq_80_04_fname" head-level="h3">
<p>
$FNAME</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$FNAME</tag>
<tag name="simple-string">
 —  содержит название используемого в данный момент шрифта. Если равна </tag>
<tag name="tt">
''</tag>
<tag name="simple-string">
 (пустая строка), то используется шрифт, заданный в настройках программы.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! устанавливаем для всей игры шрифт Courier New
<br/>$fname="Courier New"
</code>
</segment>
<head anchor="faq_80_04_onactsel" head-level="h3">
<p>
$ONACTSEL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONACTSEL</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика события "выделение действия". Иными словами, в этой переменной указывается название локации, код на которой срабатывает, когда одно из выведенных на экран действий выделено.
</tag>
</p>
<p>
	Следует помнить, что выделение действия происходит при наведении на него указателя мыши, а не при непосредственном нажатии.
</p>
<p>
	Назначаем в качестве локации-обработчика события "выделение действия" локацию "on_mouse":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onactsel="on_mouse"
</code>
<segment>
<p>
<tag name="simple-string">
	Данная локация полезна, к примеру, для вывода изображений или проигрывания звуков при выборе действий. Получить название выбранного действия можно через функцию </tag>
<tag name="tt">
$selact</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
if instr(1,$selact,'пойти'): play 'sounds\walk.mp3'
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить локацию-обработчик события "выделение действия", нужно задать переменной </tag>
<tag name="tt">
$onactsel</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onactsel=""
</code>
</segment>
<head anchor="faq_80_04_ongload" head-level="h3">
<p>
$ONGLOAD</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONGLOAD</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика события "загрузка состояния игры" (далее "обработчик загрузки состояния"). Иными словами, в эту переменную записывается название локации, код которой будет выполняться всякий раз после того, как был загружен файл сохранения состояния игры ("файл сохранения") с помощью команды opengame.
</tag>
</p>
<p>
	Назначаем в качестве обработчика загрузки состояния локацию "on_game_load":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$ongload="on_game_load"
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить обработчик загрузки состояния, нужно задать переменной </tag>
<tag name="tt">
$ongload</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$ongload=""
</code>
</segment>
<head anchor="faq_80_04_ongsave" head-level="h3">
<p>
$ONGSAVE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONGSAVE</tag>
<tag name="simple-string">
 - содержит название локации-обработчика события "сохранение состояния игры" (далее "обработчик сохранения состояния"). Иными словами, в эту переменную записывается название локации, код которой будет выполняться всякий раз после того, как было записано состояние игры в новый или уже существующий файл сохранения состояния игры ("файл сохранения") с помощью команды </tag>
<tag name="tt">
savegame</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Назначаем в качестве обработчика сохранения состояния локацию "on_game_save":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$ongsave="on_game_save"
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить обработчик сохранения состояния, нужно задать переменной </tag>
<tag name="tt">
$ongsave</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$ongsave=""
</code>
</segment>
<head anchor="faq_80_04_onnewloc" head-level="h3">
<p>
$ONNEWLOC</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONNEWLOC</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика перехода на новую локацию (аналог локации "common" в URQ). Иными словами, в эту переменную записывается название локации, код которой выполняется каждый раз после выполнения кода локации, на которую был осуществлён переход с помощью операторов </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
. Управление игрой передаётся игроку уже после выполнения кода на этой локации-обработчике.
</tag>
</p>
<p>
	Назначаем в качестве обработчика перехода на новую локацию локацию "on_goto_newloc":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onnewloc="on_goto_newloc"
</code>
<segment>
<p>
<tag name="simple-string">
	Получить название локации, на которую был осуществлён переход, можно с помощью функции </tag>
<tag name="tt">
$curloc</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
if $curloc = 'дом': кошка = 1
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить локацию-обработчик перехода на новую локацию, нужно задать переменной </tag>
<tag name="tt">
$onnewloc</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onnewloc=""
</code>
</segment>
<head anchor="faq_80_04_onobjadd" head-level="h3">
<p>
$ONOBJADD</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONOBJADD</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика события "добавление предмета". Иными словами, в эту переменную записывается название локации, код которой выполняется всякий раз после добавления предмета в окно предметов с помощью команды </tag>
<tag name="tt">
addobj</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	При добавлении предмета этой локации-обработчику передаются два аргумента, значения которых можно получить из </tag>
<tag name="tt">
$args[0]</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
$args[1]</tag>
<tag name="simple-string">
 соответственно:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
$ARGS[0] - название добавленного предмета</p>
</segment>
<segment>
<p>
$ARGS[1] - путь к картинке добавленного предмета</p>
</segment>
</list>
<segment>
<p>
	Данная локация полезна, к примеру, для ограничения вместительности рюкзака.
</p>
<p>
	Назначаем в качестве локации-обработчика события "добавление предмета" локацию "on_object_add":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjadd="on_object_add"
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить локацию-обработчик события "добавление предмета", нужно задать переменной </tag>
<tag name="tt">
$onobjadd</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjadd=""
</code>
</segment>
<head anchor="faq_80_04_onobjdel" head-level="h3">
<p>
$ONOBJDEL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONOBJDEL</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика события "удаление предмета". Иными словами, в эту переменную записывается название локации, код которой вполняется всякий раз при удалении предмета с помощью команды </tag>
<tag name="tt">
delobj</tag>
<tag name="simple-string">
. Если воспользоваться командой </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
, то это будет аналогично серии команд </tag>
<tag name="tt">
delobj</tag>
<tag name="simple-string">
, соответственно и локация-обработчик будет вызвана столько раз, сколько предметов будет удалено с помощью </tag>
<tag name="tt">
killobj</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
<tag name="simple-string">
	При использовании команды </tag>
<tag name="tt">
killall</tag>
<tag name="simple-string">
 локация-обработчик удаления предмета не вызывается, поскольку системная переменная </tag>
<tag name="tt">
$onobjdel</tag>
<tag name="simple-string">
 уничтожается.
</tag>
</p>
<p>
<tag name="simple-string">
	При удалении предмета этой локации-обработчику передаётся аргумент, значение которого можно получить из </tag>
<tag name="tt">
$args[0]</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
$ARGS[0] - название удалённого предмета</p>
</segment>
</list>
<segment>
<p>
	Назначаем в качестве локации-обработчика события "удаление предмета" локацию "on_object_del":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjdel="on_object_del"
</code>
<segment>
<p>
	Данная локация полезна, к примеру, для проверки возможности удаления предмета:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! например есть предмет, который нам пригодится по сюжету
<br/>if $args[0]="Важный артефакт":
<br/>    ! восстанавливаем предмет
<br/>    addobj $args[0]
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	Чтобы отключить локацию-обработчик события "удаление предмета", нужно задать переменной </tag>
<tag name="tt">
$onobjdel</tag>
<tag name="simple-string">
 пустое значение:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjdel=""
</code>
</segment>
<head anchor="faq_80_04_onobjsel" head-level="h3">
<p>
$ONOBJSEL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$ONOBJSEL</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика события "выделение предмета" (далее "локация-обработчик выделения предмета"). Иными словами, в этой переменной указывается название локации, код на которой выполняется всякий раз при выделении предмета. Выделение предмета происходит непосредственно при "нажатии" на предмет (щелчок мышью по предмету).
</tag>
</p>
<p>
	Назначаем в качестве локации-обработчика выделения предмета локацию "on_object_select":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$onobjsel="on_object_select"
</code>
<segment>
<p>
<tag name="simple-string">
	Данная локация полезна, к примеру, для выводаинформации о предмете, или меню предмета. Получить название выбранного предмета можно через функцию </tag>
<tag name="tt">
$selobj</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
if $selobj = 'чайник':
<br/>    p 'Cамый обычный чугунный чайник.'
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	При выборе играющим какого-либо предмета, он остаётся выделенным. Снять выделение можно командой </tag>
<tag name="tt">
unselect</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_04_usercom" head-level="h3">
<p>
$USERCOM</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
$USERCOM</tag>
<tag name="simple-string">
 —  содержит название локации-обработчика строки ввода (поля ввода). Код данной локации-обработчика выполняется, если курсор установлен в строку ввода в момент нажатия клавиши "Enter" .
</tag>
</p>
<p>
	Назначаем в качестве локации-обработчика строки ввода локацию "user_command_line":
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$usercom="user_command_line"
</code>
<segment>
<p>
	Полезна при организации парсера (управление игрой с помощью строки ввода), или для организации отладчика. Пример кода для локации-обработчика:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! если введённый текст соответствует названию существующей локации
<br/>if (loc $user_text)=-1:
<br/>    ! осуществляем переход на эту локацию
<br/>    goto $user_text
<br/>end
</code>
</segment>
<head anchor="faq_80_04_args" head-level="h3">
<p>
ARGS ($ARGS)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
ARGS</tag>
<tag name="simple-string">
 —  специфический системный массив, в который помещаются значения аргументов, передаваемых пользователем при обращении к локации или коду, записанному в виде текста. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
gosub "#array.srtd#","$mass","rug","$time_ar"
</code>
<segment>
<p>
<tag name="simple-string">
	Здесь на локацию "#array.srtd#" будут переданы три аргумента, которые поместятся в первые три ячейки массива </tag>
<tag name="tt">
$args</tag>
<tag name="simple-string">
 соответсвенно. То есть в момент начала выполнения кода на локации "#array.srtd#" в </tag>
<tag name="tt">
$args[0]</tag>
<tag name="simple-string">
 уже будет присутствовать значение "$mass", в </tag>
<tag name="tt">
$args[1]</tag>
<tag name="simple-string">
 — значение "rug", в </tag>
<tag name="tt">
$args[2]</tag>
<tag name="simple-string">
 — значение "$time_ar".
</tag>
</p>
<p>
<tag name="simple-string">
	При использовании операторов </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
xgoto</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 и функций </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
 можно указать до девяти таких аргументов, и все они будут помещены в ячейки массива args с нулевой по восьмую. Однако, поскольку </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 — это всё же массив, вы можете работать с ним, как с обычным массивом, т.е. использовать больше десяти ячеек, назначать текстовые индексы и т.д.
</tag>
</p>
<p>
<tag name="simple-string">
	Отличительной особенностью массива </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 является то, что для каждого отдельного блока кода создаётся свой собственный массив </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
. То есть если вы из локации 1 вызываете локацию 2, то на локации 1 действует собственный массив </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
, а на локации 2 — собственный, и значения в этих массивах не пересекаются.
</tag>
</p>
<p>
	Пример:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
# локация_1
<br/>args[0]=23
<br/>gosub "локация_2",34
<br/>args[0]
<br/>-
<br/>
<br/># локация_2
<br/>args[0]
<br/>-
</code>
<segment>
<p>
	Запустив этот код, вы увидите, что сначала будет выведено число 34, и только затем 23.
</p>
<p>
<tag name="simple-string">
	Более того, если вы сделаете рекурсивный вывод локации самой из себя, то для каждого вызова локации будет создан собственный набор массивов. Таким образом массив </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 является локальным для каждого отдельного вызова блока кода.
</tag>
</p>
<p>
	Отдельными блоками кода в QSP считаются:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
код локаций</p>
</segment>
<segment>
<p>
код действий</p>
</segment>
<segment>
<p>
<tag name="simple-string">
код, передаваемый </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
/</tag>
<tag name="tt">
dyneval</tag>
</p>
</segment>
<segment>
<p>
код в гиперссылках</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
	Для каждой отдельной сессии таких блоков кода плеер будет создавать собственный массив </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_04_bcolor" head-level="h3">
<p>
BCOLOR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
BCOLOR</tag>
<tag name="simple-string">
 —  содержит цвет текущего фона. Если равна 0, то используется цвет, заданный в настройках программы. Примеры:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! чёрный цвет фона
<br/>bcolor=-16777216
<br/>! красный цвет фона
<br/>bcolor=-16776961
<br/>! белый цвет фона
<br/>bcolor=-1
</code>
<segment>
<p>
<tag name="simple-string">
	Поскольку цвет фона кодируется специальным числом, а вычислять это число самостоятельно неудобно, следует пользоваться функцией </tag>
<tag name="tt">
rgb</tag>
<tag name="simple-string">
, которой в качестве аргументов передаются три составляющие цвета:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! задаём цвет фона через функцию rgb(red,green,blue)
<br/>! фон синего цвета
<br/>bcolor=rgb(0,0,255)
<br/>! фон жёлтого цвета
<br/>bcolor=rgb(255,255,0)
<br/>! фон оранжевого цвета
<br/>bcolor=rgb(255,130,0)
<br/>! фон голубого цвета
<br/>bcolor=rgb(0,255,255)
<br/>! фон малинового цвета
<br/>bcolor=rgb(255,0,255)
</code>
</segment>
<head anchor="faq_80_04_debug" head-level="h3">
<p>
DEBUG</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DEBUG</tag>
<tag name="simple-string">
 —  если значение переменной отлично от нуля, отключается проверка идентификатора игры при загрузке состояния. Иначе при каждом изменении файла игры нельзя будет использовать файлы сохранений, сделанные до изменения игры.
</tag>
</p>
<p>
<tag name="simple-string">
	Совет: во время разработки и тестов игры значение переменной </tag>
<tag name="tt">
debug</tag>
<tag name="simple-string">
 всегда должно быть отлично от нуля, а когда вы выпускаете финальную версию игры (релиз), нужно выставить переменной </tag>
<tag name="tt">
debug</tag>
<tag name="simple-string">
 значение 0, чтобы игроки не смогли загрузить файлы сохранений от других игр.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_04_disablescroll" head-level="h3">
<p>
DISABLESCROLL</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DISABLESCROLL</tag>
<tag name="simple-string">
 —  если значение переменной отлично от нуля, автопрокрутка текста в окнах основного и дополнительного описаний отключается.
</tag>
</p>
<p>
<tag name="tt">
Что это значит</tag>
<tag name="simple-string">
. Предположим, мы вывели на экран большой объём текста, а затем при нажатии на </tag>
<tag name="tt">
действие</tag>
<tag name="simple-string">
 у нас выводится ещё один фрагментик текста. Если </tag>
<tag name="tt">
DISABLESCROLL = 0</tag>
<tag name="simple-string">
, этот фрагментик текста при выводе заставит экран прокрутиться вниз. Если мы не хотим, чтобы экран прокручивался вниз в этом случае, мы присваиваем переменной </tag>
<tag name="tt">
DISABLESCROLL</tag>
<tag name="simple-string">
 единицу.
</tag>
</p>
<p>
Довольно мутное поведение в классическом плеере — при некоторых обстоятельствах текст и так не прокручивается.
</p>
</segment>
</segment>
<head anchor="faq_80_04_disablesubex" head-level="h3">
<p>
DISABLESUBEX</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
DISABLESUBEX</tag>
<tag name="simple-string">
 —  если значение переменной отлично от нуля, отключается вычисление подвыражений в строках. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
var=123
<br/>$text='<<var>>'        & ! переменной $text будет присвоена строка '123'
<br/>'string <<var>>'    & ! на экран будет выведена строка 'string 123'
<br/>'<<5+6>>'            & ! на экран будет выведена строка '11'
<br/>
<br/>disablesubex=1        & ! отключаем вычисление подвыражений
<br/>$text='<<var>>'        & ! переменной $text будет присвоена строка '<<var>>'
<br/>'string <<var>>'    & ! на экран будет выведена строка 'string <<var>>'
<br/>'<<5+6>>'            & ! на экран будет выведена строка '<<5+6>>'
</code>
<segment>
<p>
В плеерах версии 5.8.0 и выше эта переменная больше не используется.
</p>
</segment>
</segment>
<head anchor="faq_80_04_fcolor" head-level="h3">
<p>
FCOLOR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
FCOLOR</tag>
<tag name="simple-string">
 —  содержит цвет используемого в данный момент шрифта. Если равна 0, то используется цвет, заданный в настройках программы. Изменение значения переменной меняет цвет всего текста игры, кроме гиперссылок и текста, цвет которого переназначен через HTML. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! чёрный цвет текста
<br/>fcolor=-16777216
<br/>! красный цвет текста
<br/>fcolor=-16776961
<br/>! белый цвет текста
<br/>fcolor=-1
</code>
<segment>
<p>
<tag name="simple-string">
	Поскольку цвет шрифта кодируется специальным числом, а вычислять это число самостоятельно неудобно, следует пользоваться функцией </tag>
<tag name="tt">
rgb</tag>
<tag name="simple-string">
, которой в качестве аргументов передаются три составляющие цвета:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! задаём цвет текста через функцию rgb(red,green,blue)
<br/>! текст чёрного цвета
<br/>fcolor=rgb(0,0,0)
<br/>! текст белого цвета
<br/>fcolor=rgb(255,255,255)
<br/>! текст красного цвета
<br/>fcolor=rgb(255,0,0)
<br/>! текст зелёного цвета
<br/>fcolor=rgb(0,255,0)
</code>
</segment>
<head anchor="faq_80_04_fsize" head-level="h3">
<p>
FSIZE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
FSIZE</tag>
<tag name="simple-string">
 —  содержит размер используемого в данный момент шрифта. Если равна 0, то используется размер, заданный в настройках программы. Относительно данного значения в HTML-режиме вычисляются размеры шрифтов тега </tag>
<tag name="tt">
<font></tag>
<tag name="simple-string">
. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
fsize=18
</code>
<segment>
<p>
	Размер шрифта устанавливается для всего текста в игре, кроме текста, размер которого переназначен через HTML.
</p>
</segment>
</segment>
<head anchor="faq_80_04_lcolor" head-level="h3">
<p>
LCOLOR</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
LCOLOR</tag>
<tag name="simple-string">
 —  содержит текущий цвет шрифта гиперссылок. Если равна 0, то используется цвет, заданный в настройках программы. Изменение значения переменной меняет цвет текста всех гиперссылок, кроме тех, цвет которых переназначен через HTML. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! чёрный цвет гиперссылок
<br/>lcolor=-16777216
<br/>! красный цвет гиперссылок
<br/>lcolor=-16776961
<br/>! белый цвет гиперссылок
<br/>lcolor=-1
</code>
<segment>
<p>
<tag name="simple-string">
	Поскольку цвет в QSP кодируется специальным числом, а вычислять это число самостоятельно неудобно, следует пользоваться функцией </tag>
<tag name="tt">
rgb</tag>
<tag name="simple-string">
, которой в качестве аргументов передаются три составляющие цвета:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! задаём цвет  гиперссылок через функцию rgb(red,green,blue)
<br/>!  гиперссылки синего цвета
<br/>lcolor=rgb(0,0,255)
<br/>! гиперссылки жёлтого цвета
<br/>lcolor=rgb(255,255,0)
<br/>! гиперссылки оранжевого цвета
<br/>lcolor=rgb(255,130,0)
<br/>! гиперссылки голубого цвета
<br/>lcolor=rgb(0,255,255)
<br/>! гиперссылки малинового цвета
<br/>lcolor=rgb(255,0,255)
</code>
</segment>
<head anchor="faq_80_04_nosave" head-level="h3">
<p>
NOSAVE</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
NOSAVE</tag>
<tag name="simple-string">
 —  если значение данной переменной отлично от 0, пункт меню плеера "Сохранить состояние игры" игроку становится недоступен, т.е. игрок не может самостоятельно сохранить игру. В то же время на уровне кода QSP продолжает работать оператор </tag>
<tag name="tt">
savegame</tag>
<tag name="simple-string">
. Пример:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! отключаем возможность сохранения игры
<br/>nosave=1
<br/>act "Бросить кости":
<br/>    cubes=rand(1,6)
<br/>    ! включаем возможность сохранений обратно
<br/>    nosave=0
<br/>    delact $selact
<br/>end
</code>
</segment>
<head anchor="faq_80_04_result" head-level="h3">
<p>
RESULT ($RESULT)</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
RESULT</tag>
<tag name="simple-string">
 —  специфическая системная переменная, предназначенная для получения значения в текущем блоке кода и передачи этого значения функции </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
. Иными словами, чтобы функции </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
 или </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
 вернули какое-то значение, необходимо в вызываемом ими блоке кода присвоить значение переменной </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
.
</tag>
</p>
<p>
	Например:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
$dyneval "
<br/>    if args[0] mod 2 = 0:
<br/>        $result='чётное число'
<br/>    else
<br/>        $result='нечётное число'
<br/>    end
<br/>",279
</code>
<segment>
<p>
<tag name="simple-string">
	Для каждого отдельного блока кода плеером создаётся собственная переменная </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
. То есть если вы из локации 1 вызываете локацию 2, то на локации 1 создаётся собственная переменная </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
, а на локации 2 — собственная, и значения в этих переменных не пересекаются (хотя в плеере 5.7.0. есть небольшая проблема с этим, и использовать переменную </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
 рекомендуется только в конце кода локации. В более новых версиях плееров, например в Quest Navigator, эту проблему исправили и </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
 можно использовать наравне с </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
). Таким образом переменная </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
 является локальной для каждого отдельного вызова блока кода.
</tag>
</p>
<p>
<tag name="simple-string">
	Если при обработке блока кода были установлены и </tag>
<tag name="tt">
result</tag>
<tag name="simple-string">
, и </tag>
<tag name="tt">
$result</tag>
<tag name="simple-string">
, то предпочтение отдаётся строковому значению.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_04_usehtml" head-level="h3">
<p>
USEHTML</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
USEHTML</tag>
<tag name="simple-string">
 —  если значение данной переменной отлично от нуля, включается режим распознавания HTML. При этом HTML разметку можно использовать в названиях действий, предметов, в тексте, выводимом в окна основного и дополнтельного описаний, а так же в диалоговых окнах, вызываемых оператром </tag>
<tag name="tt">
msg</tag>
<tag name="simple-string">
 и функцией </tag>
<tag name="tt">
$input</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! включение HTML
<br/>usehtml=1
<br/>! вывод текста с HTML-разметкой
<br/>*pl "<font color=#ff8888>Красный текст.</font>"
</code>
</segment>
<head head-level="h3" anchor="primechaniia-dlia-liubopytnyh">
<p>
Примечания для любопытных</p>
</head>
<segment segment-class="for-head">
<list list-type="ol-list">
<segment>
<p>
Есть возможность определить любую системную переменную локальной для отдельного блока кода, и тогда эту системную переменную можно использовать как обычную локальную переменную, т.е. она не повлияет на работу плеера. Однако, строго не рекомендуется так делать, чтобы не допускать возможных ошибок.</p>
</segment>
<segment>
<segment>
<p>
Как и все прочие переменные в QSP, системные переменные так же являются массивами.</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
Переменные настройки интерфейса позволяют без последствий использовать любые ячейки, кроме нулевой, это не повлияет на работу плеера, однако так всё же не рекомендуется делать, если только это не является каким-то необходимым техническим решением.</p>
</segment>
<segment>
<segment>
<p>
А вот системные переменные, в которых прописываются названия локаций-обработчиков событий, при последовательном заполнении ячеек дают очень своеобразный эффект. Если вписать подряд в несколько ячеек названия локаций, то последовательно будет вызвана каждая из внесённых в массив локаций. Таким образом можно разгружать от кода локации-обработчики событий. Например, локацию-счётчик:</p>
</segment>
<code code-left-level="12" code-type="qsp">
$counter[]='playlist'
<br/>$counter[]='animation'
<br/>$counter[]='time.acts'
</code>
<segment>
<p>
			При этом очень важно, чтобы названия локаций перечислялись в массиве подряд. Если между названиями локаций окажутся пустые ячейки, то выполнятся лишь те локации, которые находятся в массиве до первой встреченной пустой ячейки:
</p>
</segment>
<code code-left-level="12" code-type="qsp">
! будут выполняться только локации 'playlist' и 'animation'
<br/>$counter[]='playlist'
<br/>$counter[]='animation'
<br/>$counter[]=''
<br/>$counter[]='time.acts'
</code>
</segment>
</list>
</segment>
</list>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\05_qsp-keyword_0179.txt-light">
<head anchor="faq_80_05" head-level="h2">
<p>
Синтаксемы и спецсимволы</p>
</head>
<segment segment-class="for-head">
<head anchor="faq_80_05_end" head-level="h3">
<p>
END</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
Ключевое слово (оператор), отмечающее окончание многострочной конструкции. Многострочными могут быть действия, конструкции условий, циклов. Примеры:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! открываем условие
<br/>if obj "Кувшин":
<br/>    *pl "У вас есть кувшин."
<br/>! закрываем условие
<br/>end
<br/>
<br/>! открываем действие
<br/>act "Взять яблоко":
<br/>    яблоко+=1
<br/>    addobj "Яблоко"
<br/>! закрываем действие
<br/>end
<br/>
<br/>loop local i=0 while i<10 step i+=1:
<br/>    *pl "Проход <<i+1>>: i=<<i>>"
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	Каждая многострочная конструкция должна завершаться ключевым словом </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
. Однако здесь работают такие же правила, как для HTML-тегов или скобок: если мы вкладываем одну конструкцию в другую, сначала необходимо закрывать последнюю открытую конструкцию:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! открываем условие
<br/>if obj "Пустой кувшин":
<br/>    ! код, который относится к условию
<br/>    *pl "У вас есть пустой кувшин."
<br/>    ! открываем действие
<br/>    act "Наполнить кувшин":
<br/>        ! код который относится к действию
<br/>        delobj "Пустой кувшин"
<br/>        addobj "Полный кувшин"
<br/>    ! закрываем ДЕЙСТВИЕ
<br/>    end
<br/>    *pl "Кувшин можно наполнить из колодца."
<br/>! закрываем УСЛОВИЕ
<br/>end
</code>
<segment>
<p>
<tag name="simple-string">
	Можно использовать не просто </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
, а </tag>
<tag name="tt">
end if</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
end act</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
end loop</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! открываем действие
<br/>act "Купить 10 стрел по 5 рублей":
<br/>    ! открываем условие 1 уровня
<br/>    if money>=10*5:
<br/>        arrow+=10
<br/>        money-=10*5
<br/>        ! открываем условие 2 уровня
<br/>        if no (obj "Стрелы"):
<br/>            addobj "Стрелы"
<br/>        ! закрываем условие 2 уровня
<br/>        end if
<br/>    else
<br/>        *pl "Вам не хватает денег."
<br/>    ! закрываем условие 1 уровня
<br/>    end if
<br/>! закрываем действие
<br/>end act
</code>
<segment>
<p>
<tag name="simple-string">
	Вообще, после ключевого слова </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
 допускается, но не одобряется, запись любого текста. При этом игнорируется весь текст до следующей команды. Если команда записывается в той же строке, что и </tag>
<tag name="tt">
end</tag>
<tag name="simple-string">
, то эта команда должна стоять после амперсанда (</tag>
<tag name="tt">
&</tag>
<tag name="simple-string">
):
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! открываем действие
<br/>act "Взять яблоко":
<br/>    яблоко+=1
<br/>    addobj "Яблоко"
<br/>! закрываем действие
<br/>end присутствие этого текста после end не одобряется & *pl "Новая команда"
</code>
</segment>
<head anchor="faq_80_05_marks" head-level="h3">
<p>
<tag name="simple-string">
Метки </tag>
<tag name="tt">
:</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Метки — это особые синтаксические конструкции (а вернее меньше, чем конструкции, — синтаксемы), которые отмечают указанную строку кода и служат для быстрого перемещения к таким строкам с помощью оператора </tag>
<tag name="hyperlink" href="#faq_80_02_jump">
<tag name="tt">
JUMP</tag>
</tag>
<tag name="simple-string">
. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
:[название метки]
</code>
<segment>
<p>
<tag name="simple-string">
	, где </tag>
<tag name="tt">
[название метки]</tag>
<tag name="simple-string">
 — теоретически любое сочетание символов, однако на практике желательно использовать лишь буквы, цифры, символы подчёркивания и пробелы. Перед двоеточием могут стоять символы пробелов и табуляции в любом количестве. Так же игнорируются прилегающие к названию метки символы пробелов и табуляций (однако ставить их не рекомендуется для удобства чтения кода).
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! рекомендуемый вариант использования метки
<br/>jump 'метка'
<br/>! ...
<br/>:метка
</code>
<code code-left-level="8" code-type="qsp">
! рабочий вариант с игнорированием прилегающих пробелов в метке
<br/>jump "метка с прилегающими пробелами"
<br/>! ...
<br/>: метка с прилегающими пробелами
</code>
<code code-left-level="8" code-type="qsp">
! рабочий вариант с игнорированием прилегающих пробелов в jump
<br/>jump "  метка с прилегающими пробелами  "
<br/>! ...
<br/>:метка с прилегающими пробелами
</code>
<segment>
<p>
<tag name="simple-string">
	Непосредственно после метки, в той же строке, через амперсанд (</tag>
<tag name="tt">
&</tag>
<tag name="simple-string">
) могут идти любые другие команды, однако так делать не рекомендуется.
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
! метка с командами после неё
<br/>jump 'markdown'
<br/>! ...
<br/>:markdown & *pl "вывожу текст" & ! комментарий
</code>
<segment>
<p>
	Метки не чувствительны к регистру:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
jump "FoR"
<br/>! ...
<br/>:for
</code>
<segment>
<p>
<tag name="simple-string">
	Оператор </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
 "видит" метки только внутри текущего блока кода. Иными словами метки локальны, метки с одинаковыми названиями могут располагаться на разных локациях, в разных блоках кода).
</tag>
</p>
<p>
	Если метки с одинаковыми названиями расположены в одном блоке кода, то все дублирующие метки, кроме самой первой, игнорируются плеером.
</p>
<p>
	Отдельными блоками кода считаются:
</p>
</segment>
<list list-type="ul-list">
<segment>
<p>
код "Выполнить при посещении" конкретной локации (каждая локация — отдельный блок кода),</p>
</segment>
<segment>
<p>
код действия даже если действие добавлено программно,</p>
</segment>
<segment>
<p>
код в гиперссылке,</p>
</segment>
<segment>
<p>
<tag name="simple-string">
код, передаваемый </tag>
<tag name="tt">
DYNAMIC</tag>
<tag name="simple-string">
/</tag>
<tag name="tt">
DYNEVAL</tag>
<tag name="simple-string">
.</tag>
</p>
</segment>
</list>
<segment>
<p>
<tag name="simple-string">
	Случайные метки, то есть метки, на которые в текущем блоке кода нет перехода с помощью </tag>
<tag name="tt">
jump</tag>
<tag name="simple-string">
, просто игнорируются интерпретатором.
</tag>
</p>
</segment>
</segment>
<head anchor="faq_80_05_ampersand" head-level="h3">
<p>
<tag name="simple-string">
Амперсанд </tag>
<tag name="tt">
&</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="tt">
&</tag>
<tag name="simple-string">
 — символ амперсанда служит для перечисления команд в одной строке. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="8" code-type="qsp">
[команда 1] & [команда 2] & ...
</code>
<segment>
<p>
<tag name="simple-string">
	Данный символ не следует путать с </tag>
<tag name="hyperlink" href="#faq_80_01_concatenation">
операцией объединения строк (конкатенация)</tag>
<tag name="simple-string">
, а использовать нужно с осторожностью.
</tag>
</p>
<p>
	Примеры:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
*pl "Я сорвал с ветки яблоко." & addobj "Яблоко" & яблоко+=1
<br/>
<br/>a=3 & b=7 & g=rand(1,6) & ("26"&"27") & ! в скобках — конкатенация
</code>
</segment>
<head anchor="faq_80_05_comma" head-level="h3">
<p>
Запятая ,</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Запятая </tag>
<tag name="tt">
,</tag>
<tag name="simple-string">
 в QSP используется для перечисления аргументов, передаваемых различным операторам и функциям:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
rgb(25,67,250)
<br/>max(12,45,67,89,90,122,135,168,90)
<br/>addobj "Отвёртка","img/screwdriver.png"
<br/>gosub "add_object","Апельсин",2,"Еда",37
</code>
</segment>
<head anchor="faq_80_05_roundbrackets" head-level="h3">
<p>
Круглые скобки ()</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Круглые скобки </tag>
<tag name="tt">
()</tag>
<tag name="simple-string">
 в QSP используются в трёх случаях:
</tag>
</p>
</segment>
<list list-type="ol-list">
<segment>
<segment>
<p>
В различных выражениях скобки повышают приоритет операций (операции в скобках выполняются в первую очередь):</p>
</segment>
<code code-left-level="8" code-type="qsp">
! повышение приоритета арифметических операций
<br/>(256+789)*(789-256)
<br/>! повышение приоритета операций сравнения
<br/>if A=(A<>B): ...
</code>
</segment>
<segment>
<segment>
<p>
Если нужно передать функции более одного аргумента следует помещать всю группу аргументов в скобки:</p>
</segment>
<code code-left-level="8" code-type="qsp">
rgb(25,67,250)
<br/>max(12,45,67,89,90,122,135,168,90)
<br/>rand(1,1000)
</code>
<segment>
<p>
		Будет хорошим тоном помещать даже один аргумент функции в скобки:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
rand(999)
</code>
<segment>
<p>
		Не будет осуждаться, хотя так обычно не делают, если в скобки помещать и группу аргументов к операторам:
</p>
</segment>
<code code-left-level="8" code-type="qsp">
showinput(0)
<br/>addobj("Отвёртка","img/screwdriver.png")
<br/>gosub("add_object","Апельсин",2,"Еда",37)
<br/>gosub("add_object","Рек",rand(23,45),"Артефакт",max(36,67,90,a))
</code>
</segment>
<segment>
<segment>
<p>
Если нужно организовать кортеж значений:</p>
</segment>
<code code-left-level="8" code-type="qsp">
tuple=(123,234,'string')
<br/>mass[23]=('Петров','Пётр','Петрович')
</code>
</segment>
</list>
</segment>
<head anchor="faq_80_05_squarebrackets" head-level="h3">
<p>
Квадратные скобки []</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Квадратные скобки </tag>
<tag name="tt">
[]</tag>
<tag name="simple-string">
 в QSP используются для указания индекса ячейки массива:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! присваиваем значение седьмой ячейке массива $mass
<br/>$mass[7]="textstring"
</code>
<segment>
<p>
Для индексации ячеек массивов можно использовать строковые значения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$mass["x:4,y:6"]="map-dot"
</code>
<segment>
<p>
Так же для индексации ячеек массивов можно использовать кортежи. При этом не обязательно указывать внутри квадратных скобок ещё и круглые:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$mass[4,6]="map_cell"
<br/>! эквивалентно
<br/>$mass[(4,6)]="map_cell"
</code>
<segment>
<p>
Если квадратные скобки после названия массива не стоят, значит происходит работа с нулевой ячейкой массива:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
$mass="text"
<br/>! равнозначно
<br/>$mass[0]="text"
</code>
<segment>
<p>
Если индекс в квадратных скобках не указан, значит мы работаем с последней ячейкой массива:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! создаём новую ячейку в конце массива и присваиваем ей значение
<br/>$mass[]="last_cell"
<br/>
<br/>! получаем значение из последней ячейки массива:
<br/>$mass[]
</code>
</segment>
<head anchor="faq_80_05_curclybrackets" head-level="h3">
<p>
Фигурные скобки {}</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Фигурные скобки </tag>
<tag name="tt">
{}</tag>
<tag name="simple-string">
 в QSP выступают как спецсимволы, отмечающие начало и конец строковых значений. Иными словами, по наличию таких скобок плеер может понять, где начинается и где кончается строковое значение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl {Текст, который будет выведен на экран.}
</code>
<segment>
<p>
Особенностью указания текстового значения с помощью фигурных скобок является то, что в таких строках не раскрываются подвыражения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
health=150
<br/>*pl {Здоровье: <<health>>}
<br/>! на экран будет выведен текст 'Здоровье: <<health>>'
<br/>*pl "Здоровье: <<health>>"
<br/>! на экран будет выведен текст 'Здоровье: 150'
</code>
<segment>
<p>
<tag name="simple-string">
Для большей совместимости с различными версиями плееров, а так же для удобства чтения, фигурные скобки следует в основном использовать для записи кода, предназначенного для оператора </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 или функции </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl $dyneval({$result = $mid("abcd",2,1)+"qwerty"})
<br/>dynamic {
<br/>    $args[0]
<br/>    addobj $args[1]
<br/>},'Текст','Вилка'
</code>
<segment>
<p>
Так же фигурные скобки можно использовать для написания многострочных комментариев:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! {
<br/>    многострочный
<br/>    комментарий
<br/>}
</code>
<segment>
<p>
Допустимо вложение любого количества фигурных скобок друг в друга.
</p>
</segment>
</segment>
<head anchor="faq_80_05_quotes" head-level="h3">
<p>
<tag name="simple-string">
Кавычки </tag>
<tag name="tt">
""</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Кавычки </tag>
<tag name="tt">
" "</tag>
<tag name="simple-string">
 (двойные апострофы) в QSP выступают как спецсимволы, отмечающие начало и конец строковых значений. Иными словами, по наличию кавычек плеер может понять, где начинается и где кончается строковое значение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "Текст, который будет выведен на экран."
</code>
<segment>
<p>
Особенностью указания текстового значения с помощью апострофов является то, что в таких строках раскрываются подвыражения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
health=150
<br/>*pl "Здоровье: <<health>>"
<br/>! на экран будет выведен текст 'Здоровье: 150'
</code>
<segment>
<p>
Кавычки внутри строки можно экранировать дублированием:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl "В кабачке ""У Мо"" сегодня весело и шумно."
</code>
<segment>
<p>
Так же кавычки можно использовать для написания многострочных комментариев:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! "
<br/>    многострочный
<br/>    комментарий
<br/>"
</code>
</segment>
<head anchor="faq_80_05_apostrophes" head-level="h3">
<p>
Апострофы ''</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Апострофы </tag>
<tag name="tt">
' '</tag>
<tag name="simple-string">
 в QSP выступают как спецсимволы, отмечающие начало и конец строковых значений. Иными словами, по наличию апострофов плеер может понять, где начинается и где кончается строковое значение:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl 'Текст, который будет выведен на экран.'
</code>
<segment>
<p>
Особенностью указания текстового значения с помощью апострофов является то, что в таких строках раскрываются подвыражения:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
health=150
<br/>*pl 'Здоровье: <<health>>'
<br/>! на экран будет выведен текст 'Здоровье: 150'
</code>
<segment>
<p>
Кавычки внутри строки можно экранировать дублированием:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
*pl 'Руг''Ста''Раг сказал: — Что ты хочешь, мора? Хочешь мухомора?'
</code>
<segment>
<p>
Так же апострофы можно использовать для написания многострочных комментариев:
</p>
</segment>
<code code-left-level="4" code-type="qsp">
! '
<br/>    многострочный
<br/>    комментарий
<br/>'
</code>
</segment>
<head head-level="h3" anchor="simvol-kommercheskoe-et-">
<p>
Символ "Коммерческое эт" @</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Символ "Коммерческое эт" </tag>
<tag name="tt">
@</tag>
<tag name="simple-string">
 используется для организации неявного вызова локаций-функций, упрощая запись и заменяя собой оператор </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
 или функию </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
. Общая запись:
</tag>
</p>
</segment>
<code code-left-level="4" code-type="qsp">
@[$локация]([аргумент 0],[аргумент 1], ... ,[аргумент 18])
</code>
<segment>
<p>
<tag name="simple-string">
, где </tag>
<tag name="tt">
[$локация]</tag>
<tag name="simple-string">
 — это название локации, код которой мы хотим выполнить без непосредственного перехода на неё. Аргументы </tag>
<tag name="tt">
[аргумент 0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
[аргумент 1]</tag>
<tag name="simple-string">
 и т.д. могут использоваться на этой локации, их значения автоматически помещаются в переменные </tag>
<tag name="tt">
args[0]</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
args[1]</tag>
<tag name="simple-string">
, и т.д. соответственно. После обработки локации предыдущие значения </tag>
<tag name="tt">
args</tag>
<tag name="simple-string">
 восстанавливаются. Использование аргументов не обязательно, в этом случае скобки можно опускать.
</tag>
</p>
<p>
<tag name="simple-string">
При обращении к локации с помощью </tag>
<tag name="tt">
@</tag>
<tag name="simple-string">
 базовое описание локации добавляется к текущему описанию, базовые действия добавляются к текущим действиям, и происходит выполнение операторов в поле "Выполнить при посещении", затем возврат на исходную строку (продолжение выполнения кода после команды с </tag>
<tag name="tt">
@</tag>
<tag name="simple-string">
).
</tag>
</p>
<p>
Название локации при неявном вызове не должно содержать специальных символов, иначе это может привести к неработоспособности кода. Можно использовать буквы, цифры, символ подчёркивания и точку.
</p>
<p>
Примеры:
</p>
</segment>
<code code-left-level="0" code-type="qsp">
!обработка локации "ход". Массив args[] пуст.
<br/>@ход()
<br/>
<br/>!обработка локации "ход" с передачей 3-х параметров. 
<br/>! $args[0] = $var (значению), args[1] = 2, 
<br/>! $args[2] = "данные". Обратите внимание на символы '$'.
<br/>@ход($var,2,'данные')
</code>
<code code-left-level="0" code-type="qsp">
! это код вызова локации "переход"
<br/>@переход('локация')
<br/>
<br/>! а это код самой локации "переход"
<br/># переход
<br/>*pl $args[0]  & ! на экран выведется текст 'локация'
<br/>! в окне действий появится новое действие:
<br/>act 'перейти':
<br/>    goto "улица"
<br/>end
<br/>- переход
</code>
<code code-left-level="0" code-type="qsp">
! код локации для функции, получающей сумму ряда чисел от единицы до указанного значения
<br/># summ
<br/>! в args[0] будет помещено число, которое мы укажем в качестве [аргумента 0]
<br/>loop while args[0]>0 step args[0]=args[0]-1:
<br/>    result=result+args[0]
<br/>end
<br/>-----summ-----
<br/>
<br/>! пример вызова локации "summ", как функции
<br/>*pl @summ(19) & ! выведет на экран 190
</code>
<segment>
<p>
<tag name="simple-string">
Обратите внимание, неявный вызов локации-функции заменяет и </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
, и </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
, поэтому, если ваша локация-функция возвращает результат, неявный вызов такой локации будет работать точно так же, как явный вызов через </tag>
<tag name="tt">
func</tag>
<tag name="simple-string">
; если же локация-функция не возвращает результат, то при использовании её с неявным оператором она будет работать, как явный вызов через </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
.
</tag>
</p>
</segment>
</segment>
</segment>
</file>
<file path="D:\my\projects\howdo_faq\[source]\ответы\80_зарезервированные слова\06_qsp-keyword_0180.txt-light">
<head anchor="faq_80_06" head-level="h2">
<p>
Почти алфавитный указатель ключевых слов, системных переменных и спецсимволов</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="hyperlink" href="#faq_80_02_impicit">
Неявный оператор</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_comments">
! (комментарий)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_noeq">
! (не равно)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_concatenation">
&amp; (конкатенация)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_ampersand">
&amp; (перечисление команд)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_marks">
 : (метки)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_comma">
, (разделитель аргументов)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_quotes">
"" (кавычки)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_apostrophes">
'' (апострофы)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_curclybrackets">
{} (Фигурные скобки)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_roundbrackets">
() (круглые скобки)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_squarebrackets">
&#91;&#93; (квадратные скобки)</tag>
<tag name="simple-string">
 /</tag>
<tag name="italic">
 соответствующие цифровые коды квадратных скобок </tag>
<tag name="simple-string">
/
</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_multi">
*</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_multiaprop">
*=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_add">
+</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_incr">
+=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_subt">
-</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_decr">
-=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_unar">
+ и - (унарные)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_div">
/</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_divaprop">
/=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_smal">
&lt;</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_smaleq">
&lt;=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_smalmore">
&lt;&gt;</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_eq">
= (равно)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_aprop">
= (присвоение)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_eqsmal">
=&lt;</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_eqmore">
=&gt;</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_more">
&gt;</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_moreeq">
&gt;=</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_act">
ACT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_addqst">
ADDLIB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_addobj">
ADDOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_addqst">
ADDQST</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_and">
AND</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_args">
ARGS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_arrcomp">
ARRCOMP</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_arrpos">
ARRPOS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_arrsize">
ARRSIZE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_backimage">
$BACKIMAGE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_bcolor">
BCOLOR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_cla">
CLA</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_clear">
CLEAR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_sclr">
*CLEAR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_close">
CLOSE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_closeall">
CLOSE ALL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_clear">
CLR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_sclr">
*CLR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_cls">
CLS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_cmdclear">
CMDCLEAR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_cmdclear">
CMDCLR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_copyarr">
COPYARR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_counter">
$COUNTER</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_countobj">
COUNTOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_curacts">
$CURACTS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_curloc">
$CURLOC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_debug">
DEBUG</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_delact">
DELACT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killqst">
DELLIB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_delobj">
DELOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_desc">
$DESC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_disablescroll">
DISABLESCROLL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_disablesubex">
DISABLESUBEX</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_dynamic">
DYNAMIC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_dyneval">
DYNEVAL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_if">
ELSE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_if">
ELSEIF</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_05_end">
END</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_exit">
EXIT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_fcolor">
FCOLOR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_fname">
$FNAME</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killqst">
FREELIB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_fsize">
FSIZE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_func">
FUNC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_getobj">
$GETOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_gosub">
GOSUB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_goto">
GOTO</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_gosub">
GS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_goto">
GT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_if">
IF</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_iif">
IIF</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_addqst">
INCLIB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_input">
$INPUT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_instr">
INSTR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_isnum">
ISNUM</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_isplay">
ISPLAY</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_jump">
JUMP</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killall">
KILLALL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killobj">
KILLOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killqst">
KILLQST</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_killvar">
KILLVAR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_lcase">
$LCASE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_lcolor">
LCOLOR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_len">
LEN</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_let">
LET</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_loc">
LOC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_maintxt">
$MAINTXT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_max">
MAX</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_menu">
MENU</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_mid">
$MID</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_min">
MIN</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_mod">
MOD</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_msecscount">
MSECSCOUNT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_msg">
MSG</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_nl">
NL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_snl">
*NL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_no">
NO</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_nosave">
NOSAVE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_obj">
OBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_onactsel">
$ONACTSEL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_ongload">
$ONGLOAD</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_ongsave">
$ONGSAVE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_onnewloc">
$ONNEWLOC</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_onobjadd">
$ONOBJADD</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_onobjdel">
$ONOBJDEL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_onobjsel">
$ONOBJSEL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_opengame">
OPENGAME</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_openqst">
OPENQST</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_01_or">
OR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_p">
P</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_sp">
*P</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_pl">
PL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_spl">
*PL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_play">
PLAY</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_qspver">
$QSPVER</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_rand">
RAND</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_refint">
REFINT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_replace">
$REPLACE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_result">
RESULT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_rgb">
RGB</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_rnd">
RND</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_savegame">
SAVEGAME</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_selact">
$SELACT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_selobj">
$SELOBJ</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_set">
SET</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_settimer">
SETTIMER</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_showacts">
SHOWACTS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_showinput">
SHOWINPUT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_showobjs">
SHOWOBJS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_showstat">
SHOWSTAT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_stattxt">
$STATTXT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_str">
$STR</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_strcomp">
STRCOMP</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_strfind">
$STRFIND</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_strpos">
STRPOS</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_trim">
$TRIM</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_ucase">
$UCASE</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_unsel">
UNSEL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_unsel">
UNSELECT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_usehtml">
USEHTML</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_04_usercom">
$USERCOM</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_usrtxt">
$USER_TEXT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_usrtxt">
$USRTXT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_03_val">
VAL</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_view">
VIEW</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_wait">
WAIT</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_xgoto">
XGOTO</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="hyperlink" href="#faq_80_02_xgoto">
XGT</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</file>
</folder>
<folder path="D:\my\projects\howdo_faq\[source]\ответы\90_ссылки">
<file path="D:\my\projects\howdo_faq\[source]\ответы\90_ссылки\90_ssylki_0181.txt-light">
<head anchor="link_list" head-level="h1">
<p>
Источники и дополнительные материалы</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<p>
Список ссылок на источники, по которым составлялся справочник, на дополнительные материалы и видео по указанным темам.
</p>
<p>
ВНИМАНИЕ!!! Некоторые ридеры не поддерживают переход по https-ссылкам.
</p>
<p>
<tag name="simple-string">
Сборник различных полезных примеров: </tag>
<tag name="hyperlink" href="https://mega.nz/folder/rfAllKzR#rssaaJSs4tpGA_tUbaCCQw">
MEGA.nz/QSP-Example</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Страница справочника на github: </tag>
<tag name="hyperlink" href="https://aleksversus.github.io/howdo_faq/">
github/howdo_faq</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_01" head-level="h2">
<p>
01. Чем отличается?</p>
</head>
<segment segment-class="for-head">
<head anchor="link_01_01" head-level="h6">
<p>
<tag name="simple-string">
1.1. В чём разница между </tag>
<tag name="tt">
set x=10</tag>
<tag name="simple-string">
, </tag>
<tag name="tt">
let x=10</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
x=10</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=25s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5253 15.Мар.18 00:08:17: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=211&prc=25&Itemid=57#p26532">
<tag name="tt">
set x = 1</tag>
<tag name="simple-string">
 </tag>
<tag name="tt">
let x = 1</tag>
<tag name="simple-string">
 </tag>
<tag name="tt">
x = 1</tag>
<tag name="simple-string">
 Может между ними есть хоть какая-то разница?</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_02" head-level="h6">
<p>
<tag name="simple-string">
1.2. В чём разница между переменной со знаком </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
 и без знака </tag>
<tag name="tt">
$</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=64s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WastedCarl. #5205 17.Фев.18 22:17:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=209&prc=25&Itemid=57#p26408">
Какая разница между названием переменной с $ и без $ ?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_03" head-level="h6">
<p>
1.3. В чём разница между ' ' (апострофы) и " " (кавычки)?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=113s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
CH_B_L. #4333 09.Май.16 15:31:05: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=174&prc=25&Itemid=57#p23889">
в чем отличия в qsp у ' ' от " "?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Storm. #3567 21.Окт.15 22:43:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=143&prc=25&Itemid=57#p21978">
Сложный код</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_04" head-level="h6">
<p>
<tag name="simple-string">
1.4. В чём разница между </tag>
<tag name="tt">
*pl "строка"</tag>
<tag name="simple-string">
 и просто </tag>
<tag name="tt">
"строка"</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=238s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Jolly Roger. #3482 13.Сен.15 22:46:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=140&prc=25&Itemid=57#p21694">
не вижу разницы между командами</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_05" head-level="h6">
<p>
<tag name="simple-string">
1.5. Чем отличаются эти две команды? </tag>
<tag name="tt">
*pl "<<$perem>>"</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
*pl $perem</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=280s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5199 16.Фев.18 21:45:45: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=208&prc=25&Itemid=57#p26396">
Чем отличаются эти две команды?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_06" head-level="h6">
<p>
<tag name="simple-string">
1.6. В чём разница между </tag>
<tag name="tt">
dynamic</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
dyneval</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=399s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_07" head-level="h6">
<p>
<tag name="simple-string">
1.7. В чём разница между </tag>
<tag name="tt">
gt</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=529s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_01_08" head-level="h6">
<p>
<tag name="simple-string">
1.8. Чем отличается </tag>
<tag name="tt">
goto</tag>
<tag name="simple-string">
 от </tag>
<tag name="tt">
gosub</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uaEfDzBXFSw&list=PLcAHO4WsUl2R70UDclnyevDSuBJGDH9F6&index=1&t=557s">
https://www.youtube.com/watch?v=uaEfDzBXFSw&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_02" head-level="h2">
<p>
02. Вопросы о $COUNTER</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Реалтайм в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:realtime">
https://wiki.qsp.org/help:realtime</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Информация о локации $counter справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:service_locations">
https://wiki.qsp.org/help:service_locations</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ajenta. #4305 28.Апр.16 12:23:09: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&amp;task=topic&amp;id=40&amp;p=173&amp;prc=25&amp;Itemid=57#p23828">
CH_B_L, теоретически можно в локации каунтер через каждые две-три секунды сделать перерисовку доп описание...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #4908 11.Фев.17 18:36:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=197&prc=25&Itemid=57#p25212">
можно ли сделать так, чтобы через определённый промежуток времени значение переменной увеличивалось на одну единицу?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #5033 29.Апр.17 19:37:02: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25564">
можно ли сделать так, чтобы была возможность загрузки состояния игры во время срабатывания WAIT...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5391 04.Сен.18 22:49:33: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=216&prc=25&Itemid=57#p26885">
возможно ли сделать "независимые" циклы? Чтобы они исполнялись и игра продолжалась?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5550 18.Май.19 09:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=223&prc=25&Itemid=57#p26389">
возможно ли реализовать таймер с выводом времени?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
BraJelon. #3155 26.Июл.15 07:57:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=127&prc=25&Itemid=57#p20887">
Как сделать так, чтобы при посещении локации "1" спустя секунду меня перекидывало на локацию "2" автоматически.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ontario. #3699 21.Дек.15 16:20:09: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=148&prc=25&Itemid=57#p22355">
Как сделать, чтобы действие открывалось спустя некоторое время проведенное на локации.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Vlad. #4530 18.Июл.16 19:56:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=182&prc=25&Itemid=57#p24390">
1. Как зациклить проигрывание аудио? 2. на локации В ожидание несколько секунд и автоматический переход на локацию С</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #4685 04.Окт.16 00:52:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=188&prc=25&Itemid=57#p24722">
как сделать что-то вроде быстрого теста, выдается текст с вопросом, потом на несколько секунд появляются варианты ответов и если не успел нажать на правильный ответ или вообще нажать, то задается следующий вопрос...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4971 29.Мар.17 20:20:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=199&prc=25&Itemid=57#p25399">
Какой нужен код чтобы при переходе на локацию, звук в ней воспроизводился не сразу а например через 5 сек.?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_02_01" head-level="h6">
<p>
2.1. Как сделать, чтобы значение переменной изменялось с течением времени?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=vRqh-dYa8WI&t=19s">
https://www.youtube.com/watch?v=vRqh-dYa8WI&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_02_02" head-level="h6">
<p>
2.2. Как сделать, чтобы из одной локации меня через пару секунд перебрасывало в другую локацию?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=vRqh-dYa8WI&t=284s">
https://www.youtube.com/watch?v=vRqh-dYa8WI&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_02_03" head-level="h6">
<p>
2.3. Как сделать, чтобы через пару секунд после входа на локацию появлялось новое действие?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YYGMIZcXAUc&t=19s">
https://www.youtube.com/watch?v=YYGMIZcXAUc&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_02_04" head-level="h6">
<p>
2.4. Как сделать, чтобы цикл выполнялся параллельно остальному коду, а не прерывал его?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YYGMIZcXAUc&t=417s">
https://www.youtube.com/watch?v=YYGMIZcXAUc&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_03" head-level="h2">
<p>
03. Вопросы о MSG и $INPUT</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Справка по </tag>
<tag name="tt">
input</tag>
<tag name="simple-string">
: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:inputs">
https://wiki.qsp.org/help:inputs</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Работа со строками в папках: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:strings">
https://wiki.qsp.org/help:strings</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Podkovally. #4270 14.Апр.16 19:15:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=171&prc=25&Itemid=57#p23758">
как сделать список, к примеру покупок, через input?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #4903 08.Фев.17 15:28:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=197&prc=25&Itemid=57#p25192">
Как можно сделать ввод имени игроком?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2819 09.Май.15 01:34:00: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=113&prc=25&Itemid=57#p19933">
А как сделать так, чтобы окно imput было без возможности написания текста?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #2974 13.Июн.15 00:07:32: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=119&prc=25&Itemid=57#p20423">
А можно как-то ставить необходимость выбора какого-либо варианта в тело сообщения "msg"?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
bkz. #3401 01.Сен.15 14:18:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=137&prc=25&Itemid=57#p21559">
Второй вопрос, как реализовать возможность ввод любого из двух правильных слов.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ontario. #3904 18.Фев.16 21:33:13: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=157&prc=25&Itemid=57#p22996">
надо чтобы ответ принимало без учета регистра</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Podkovally. #5419 19.Дек.18 15:49:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=217&prc=25&Itemid=57#p27001">
как реализовать ввод ответа игрока через "Input" не чувствительный к регистру?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5246 11.Мар.18 18:34:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=210&prc=25&Itemid=57#p26516">
Зачем нужно поле ввода в плеере?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_03_01" head-level="h6">
<p>
3.1. Как вывести на экран отдельное окошко с текстом?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=RTMrZF_mTD0&t=16s">
https://www.youtube.com/watch?v=RTMrZF_mTD0&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_03_02" head-level="h6">
<p>
3.2. Как вывести на экран окошко, в котором игрок должен ввести текст?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=RTMrZF_mTD0&t=77s">
https://www.youtube.com/watch?v=RTMrZF_mTD0&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_03_03" head-level="h6">
<p>
3.3. Как прикрутить возможность выбора варианта к окну msg?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=RTMrZF_mTD0&t=193s">
https://www.youtube.com/watch?v=RTMrZF_mTD0&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_03_04" head-level="h6">
<p>
3.4. Как сделать ввод имени игроком?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=RTMrZF_mTD0&t=309s">
https://www.youtube.com/watch?v=RTMrZF_mTD0&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_03_05" head-level="h6">
<p>
3.5. Как сделать варианты для ответа через $input?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=RTMrZF_mTD0&t=415s">
https://www.youtube.com/watch?v=RTMrZF_mTD0&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_04" head-level="h2">
<p>
04. Вопросы о меню</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Пример от Svandrus:		</tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/983/menu_2.qsp">
Скачать</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Пример от Aleks Versus:	</tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/248/21032016-0856_menu.qsp">
Скачать</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Динамическое меню от Lisichka: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=114&prc=25&Itemid=57#p19982">
Сообщение в теме "Как сделать?"</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Как сделать меню предмета? </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&prc=25&p=1&id=829&Itemid=57#p18902">
Тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
О меню в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:menu">
https://wiki.qsp.org/help:menu</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
PsiH. #3522 23.Сен.15 17:06:11: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=141&prc=25&Itemid=57#p21810">
Покажите пример меню с двумя и более предметами.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
St-john. #3665 25.Ноя.15 10:04:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=147&prc=25&Itemid=57#p22270">
как мне из меню напрямую передать нужные аргументы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lisichka. #4134 20.Мар.16 18:05:34: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23451">
хочу сделать разворачивающееся меню из ссылки в тексте</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #4380 16.Май.16 22:35:17: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=176&prc=25&Itemid=57#p23959">
как сделать так что бы при нажатии предметов выводилось доп окно на которое можно было нажать.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
denedi. #4478 27.Июн.16 09:27:29: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=180&prc=25&Itemid=57#p24260">
Как сделать меню которое будет выскакивать при выборе предмета в инвентаре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axi.Lex. #4582 17.Авг.16 13:47:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=184&prc=25&Itemid=57#p24527">
Создать меню предмета?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ivan27_XL. #5721 19.Май.19 12:50:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=229&prc=25&Itemid=57#p18215">
Как сделать, чтобы предмет (записка, например) можно было использовать прямо в окне предметов</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_04_01" head-level="h6">
<p>
4.1. Как сделать меню предмета?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=THlEwBbzf1k&t=16s">
https://www.youtube.com/watch?v=THlEwBbzf1k&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_02" head-level="h6">
<p>
4.2. Как сделать разные меню для двух и более предметов?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=THlEwBbzf1k&t=460s">
https://www.youtube.com/watch?v=THlEwBbzf1k&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_03" head-level="h6">
<p>
4.3. Как сделать меню в ссылках?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=JRUjSCbbUIY&t=16s">
https://www.youtube.com/watch?v=JRUjSCbbUIY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_04" head-level="h6">
<p>
4.4. Как передавать локациям-пунктам меню аргументы?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=JRUjSCbbUIY&t=292s">
https://www.youtube.com/watch?v=JRUjSCbbUIY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_05" head-level="h6">
<p>
4.5. Как делать контекстное (динамическое) меню?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=eMYJG5WrY4k&t=18s">
https://www.youtube.com/watch?v=eMYJG5WrY4k&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_06" head-level="h6">
<p>
4.6. Как вставить разделитель в меню?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=eMYJG5WrY4k&t=210s">
https://www.youtube.com/watch?v=eMYJG5WrY4k&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_04_07" head-level="h6">
<p>
4.7. Как вставить картинки в меню?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=eMYJG5WrY4k&t=287s">
https://www.youtube.com/watch?v=eMYJG5WrY4k&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_05" head-level="h2">
<p>
05. Вопросы по $ONNEWLOC</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
SneakBug8, Одиночка. #2813 07.Май.15 10:16:00: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=113&prc=25&Itemid=57#p19885">
Я хотел бы сделать локацию, которая отвечает за переходы</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2864 14.Май.15 23:26:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p20011">
Хочу, чтобы время менялось на каждой локации и работало по этому правилу</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ivan27_XL. #5728 19.Май.19 13:04:18: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=230&prc=25&Itemid=57#p18255">
Как сделать так, чтобы не писать условия игры в каждой локации(if a<0: gt'проиграл' и т.д.), а создать одну локацию с условиями, код которой будет выполняться при переходах по локациям игры?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
SneakBug8. #5745 19.Май.19 13:33:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=230&prc=25&Itemid=57#p17161">
Как сделать счетчик ходов? ... Как сделать временную локацию чтобы мне работало это.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_05_01" head-level="h6">
<p>
5.1. Как сделать так, чтобы не писать один и тот же код в каждой локации?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=M0V-qO3V0Io&t=16s">
https://www.youtube.com/watch?v=M0V-qO3V0Io&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_05_02" head-level="h6">
<p>
5.2. Как сделать кнопку "Назад", работающую на каждой локации?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Amadeus. #5295 12.Апр.18 22:09:32: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=212&prc=25&Itemid=57#p26617">
Есть ли в QSP команда, которая отвечает за возврат на предыдущую локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NaViGaToR. #4942 26.Фев.17 04:26:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25296">
Хочу сделать кнопку "Назад" которая возвращала на последнюю посещенную локацию.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=M0V-qO3V0Io&t=295s">
https://www.youtube.com/watch?v=M0V-qO3V0Io&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Рабочий пример: </tag>
<tag name="hyperlink" href="Рабочий пример: [https://qsp.org/components/com_agora/img/members/248/example.qsp">
Скачать</tag>
<tag name="simple-string">
](https://qsp.org/components/com_agora/img/members/248/example.qsp))
</tag>
</p>
</segment>
<head anchor="link_05_03" head-level="h6">
<p>
5.3. Почему в args[] на локации-обработчике перехода на новую локацию уже есть данные?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=d9XzToqROok&t=16s">
https://www.youtube.com/watch?v=d9XzToqROok&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_06" head-level="h2">
<p>
06. Вопросы по звуковым файлам в QSP</p>
</head>
<segment segment-class="for-head">
<head anchor="link_06_01" head-level="h6">
<p>
6.1. Как вставить музыку или звук в игру?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=d9XzToqROok&t=172s">
https://www.youtube.com/как вставить в игру музыку/</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Освещение темы вставки звуков и музыки в игру в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:sound">
https://wiki.qsp.org/help:sound</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Обсуждение требуемых возможностей команды PLAY: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=509&Itemid=57">
Тема на форуме</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
konolya. #3342 20.Авг.15 19:00:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=134&prc=25&Itemid=57#p21451">
Можно ли на одну локацию выставить несколько звуков? Что бы они шли одновременно</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
gribochek. #3746 11.Янв.16 01:12:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22446">
Как вставить картинку и звуки в локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4146 22.Мар.16 23:21:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23506">
Как вставить музыку в квест на QSP?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Genryzz. #4439 05.Июн.16 19:16:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=178&prc=25&Itemid=57#p24099">
Можно ли запустить одновременно 2 звуковых дорожки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axi.Lex. #4607 26.Авг.16 16:44:36: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=185&prc=25&Itemid=57#p24562">
А как добавить музыку?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4971 29.Мар.17 20:20:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=199&prc=25&Itemid=57#p25399">
Можно ли както вставить в код звук, чтобы в игре при выборе действия воспроизводился звук?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #5011 21.Апр.17 20:35:53: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=201&prc=25&Itemid=57#p25506">
пока не проиграет до конца один звук, другой не включится</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #5457 29.Янв.19 00:39:58: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=219&prc=25&Itemid=57#p27051">
Как впилить фоновую музыку в игре.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #5650 18.Май.19 12:51:47: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=227&prc=25&Itemid=57#p25177">
Можно ли вставить в игру свой саундтрек?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_06_02" head-level="h6">
<p>
6.2. Как запустить две звуковые дорожки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=d9XzToqROok&t=295s">
https://www.youtube.com/watch?v=d9XzToqROok&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_06_03" head-level="h6">
<p>
6.3. Как при переходе на новую локацию прервать одну мелодию и запустить другую?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=d9XzToqROok&t=410s">
https://www.youtube.com/watch?v=d9XzToqROok&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_06_04" head-level="h6">
<p>
6.4. Как перезапустить звуковую дорожку?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=d9XzToqROok&t=501s">
https://www.youtube.com/watch?v=d9XzToqROok&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_06_05" head-level="h6">
<p>
6.5. Как приглушить музыку?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=L08MyUk6QEQ&t=16s">
https://www.youtube.com/watch?v=L08MyUk6QEQ&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
TricksterAl. #4836 07.Янв.17 08:07:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=194&prc=25&Itemid=57#p25054">
хочу её не закрывать чтобы её снова запускать а чтобы она затихала и при возвращении в бар продолжала играть как будто за время отсутствия прошло время  возможно ли это ?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_06_06" head-level="h6">
<p>
6.6. Как зациклить мелодию?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=L08MyUk6QEQ&t=150s">
https://www.youtube.com/watch?v=L08MyUk6QEQ&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Реализация гибкого плейлиста: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=79:-10&catid=36:2009-02-19-06-11-21&Itemid=76">
Открыть страницу в браузере</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
konolya. #3330 18.Авг.15 18:32:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=134&prc=25&Itemid=57#p21408">
И как вставить звук что бы он сразу прекратился или шёл по кругу?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
bkz. #3437 05.Сен.15 22:46:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=138&prc=25&Itemid=57#p21614">
юююисправление ошибки плейлиста</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
BlackFox. #3594 01.Ноя.15 01:58:37: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=144&prc=25&Itemid=57#p22085">
Как сделать так чтобы Мелодия играла без остановки в определенной локации, Тоже самое только с поддержкой нескольких локаций?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Dark</tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=142&prc=25&Itemid=57#p21859">
Ol(U23)leneri]. #3535 30.Сен.15 12:56:41: [единственный способ сделать радио с переключением волн - это не выключать композиции, а уменьшать их громкость до нуля?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4162 27.Мар.16 15:05:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=167&prc=25&Itemid=57#p23566">
Как сделать, чтобы несколько песен проигрывались одна за другой, и повторялись по кругу?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4414 26.Май.16 22:33:25: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24030">
как зациклить одну песню?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Vlad. #4530 18.Июл.16 19:56:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=182&prc=25&Itemid=57#p24390">
Как зациклить проигрывание аудио?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
De@th K!d. #5185 14.Янв.18 19:21:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=208&prc=25&Itemid=57#p26305">
как сделать цикличное воспроизведение музыкального файла</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_07" head-level="h2">
<p>
07. Вопросы о гиперссылках</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Darvin432. #4408 24.Май.16 12:43:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24011">
Профи подскажите нубу как создавать гипперсылки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Wol4ik. #4821 26.Дек.16 16:13:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=193&prc=25&Itemid=57#p25011">
чтобы выделенное активное слово было любого цвета, а не так как в настройках QSP плеера; чтобы это выделенное слово не было изображено с подчеркиванием</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Abrukt (Roma Dova). #4866 22.Янв.17 19:04:18: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=195&prc=25&Itemid=57#p25108">
какая команда используется для того, чтобы отобразить ссылку без подчеркивания</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
D31M0S (7H3_D31M0S). #5400 16.Окт.18 23:31:35: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=217&prc=25&Itemid=57#p26906">
как делать HTML-гиперссылки для перехода между локациями или выполнения строчек кода?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Katy. #3461 12.Сен.15 13:29:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=139&prc=25&Itemid=57#p21647">
как сделать переход при нажатии на что-то в описании?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Сергей. #5738 19.Май.19 13:12:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=230&prc=25&Itemid=57#p19373">
Как заставить код выполняться по нажатию на картинку/текст</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
CH_B_L. #4330 09.Май.16 06:08:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=174&prc=25&Itemid=57#p23885">
хочу, чтобы выбор товара был не через окно действий, а, например, через гиперссылки на экране</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #4980 07.Апр.17 12:57:34: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=200&prc=25&Itemid=57#p25442">
можно ли выполнить по ссылке сразу два действия?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_07_01" head-level="h6">
<p>
7.1. Как делать гиперссылки, по нажатию на которые выполняется код?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2lVeh7udKLY&t=16s">
https://www.youtube.com/watch?v=2lVeh7udKLY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_07_02" head-level="h6">
<p>
7.2. Как менять цвет гиперссылки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2lVeh7udKLY&t=181s">
https://www.youtube.com/watch?v=2lVeh7udKLY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_07_03" head-level="h6">
<p>
7.3. Как помещать в гиперссылки сложный код?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2lVeh7udKLY&t=317s">
https://www.youtube.com/watch?v=2lVeh7udKLY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_07_04" head-level="h6">
<p>
7.4. Как сделать гиперссылки без подчёркивания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2lVeh7udKLY&t=518s">
https://www.youtube.com/watch?v=2lVeh7udKLY&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_08" head-level="h2">
<p>
08. Есть ли команда...</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="link_08_01" head-level="h6">
<p>
8.1. Какой командой можно очистить окно дополнительного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=0aeXqSRncZI&t=16s">
https://www.youtube.com/watch?v=0aeXqSRncZI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Работа с окном дополнительного описания в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:stat">
https://wiki.qsp.org/help:stat</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Jack. #3373 28.Авг.15 01:46:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=135&prc=25&Itemid=57#p21505">
как только я нажимаю переход с локацию на локацию данное действие копируется как мне закрепить это все что бы оно не повторялось по несколько раз</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Katy. #3463 12.Сен.15 15:10:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=139&prc=25&Itemid=57#p21651">
А можно как-то очистить окно дополнительного описания, когда там появляется новое описание?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4081 14.Мар.16 18:52:05: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=164&prc=25&Itemid=57#p23363">
Как отчистить окно описания предметов после начала игры заново?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_08_02" head-level="h6">
<p>
8.2. Существует ли команда для того, чтобы получить название текущей локации?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=0aeXqSRncZI&t=116s">
https://www.youtube.com/watch?v=0aeXqSRncZI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #2933 05.Июн.15 03:57:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=118&prc=25&Itemid=57#p20296">
есть ли какая команда, чтобы можно было присвоить переменной имя данной локации</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_08_03" head-level="h6">
<p>
8.3. Какой командой можно вывести текст в окно дополнительного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=0aeXqSRncZI&t=333s">
https://www.youtube.com/watch?v=0aeXqSRncZI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4967 27.Мар.17 21:03:47: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=199&prc=25&Itemid=57#p25385">
Какой код нужно прописать чтобы в игре в окне Additional desc отображалась картинка?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Genryzz. #5352 26.Июн.18 05:22:01: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=215&prc=25&Itemid=57#p26781">
как добавить текст в "Дополнительное описание"</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_08_04" head-level="h6">
<p>
8.4. Есть ли команда, которая делает выход из игры?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=0aeXqSRncZI&t=478s">
https://www.youtube.com/watch?v=0aeXqSRncZI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Работа с окном дополнительного описания в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:stat">
https://wiki.qsp.org/help:stat</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3003 24.Июн.15 15:44:44: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=121&prc=25&Itemid=57#p20553">
Как в коде прописать опцию Quit ? Ну тоесть выход из игры.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_09" head-level="h2">
<p>
09. Вопросы об изображениях</p>
</head>
<segment segment-class="for-head">
<head anchor="link_09_01" head-level="h6">
<p>
9.1. Как вставить картинку в игру?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=16s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
gribochek. #3746 11.Янв.16 01:12:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22446">
Как вставить картинку и звуки в локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axi.Lex. #4610 28.Авг.16 17:16:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=185&prc=25&Itemid=57#p24565">
Как загрузить картинку в игру и изменить фон.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_02" head-level="h6">
<p>
9.2. Можно ли вставить в игру gif-файл?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=431s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Примеры по вставке gif от NickoAilus: </tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/2018/GIF.zip">
Пример 1 в архиве ZIP</tag>
<tag name="simple-string">
, </tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/2018/GIF2.zip">
Пример 2в архиве ZIP</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
loony25 (WastedCarl). #5167 16.Дек.17 20:21:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=207&prc=25&Itemid=57#p26259">
Как в QSP вставить GIF файл ?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Bup0H. #4512 14.Июл.16 02:30:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=181&prc=25&Itemid=57#p24359">
Подскажите, почему некоторые гифки проигрываются нормально, а у некоторых искажаются либо цвета, либо скорость в qsp плеере?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5564 18.Май.19 09:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=223&prc=25&Itemid=57#p26550">
при добавлении гиф картинок они воспроизводятся коряво и то пропадают, то их почти не видно</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #5629 18.Май.19 10:15:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=226&prc=25&Itemid=57#p25409">
Проблемы с гифками (+ссылки на сообщения и темы)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
TEMP_USER. #5769 23.Май.19 12:32:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=231&prc=25&Itemid=57#p27217">
Гифка не работает/не отображается/выводится неправильно</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_03" head-level="h6">
<p>
9.3. Как вставить картинку в действие?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=616s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mioirel. #4947 27.Фев.17 15:33:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25305">
Как вставить изображение в меню плеера? Например, чтобы рядом с act'ом "север" стояла пикча в формате jpg</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_04" head-level="h6">
<p>
9.4. Как поставить картинку фоном?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=45s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3679 09.Дек.15 15:01:10: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=148&prc=25&Itemid=57#p22306">
как сделать картинку фоном?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_05" head-level="h6">
<p>
9.5. Как выводить изображения послойно? Накладывать друг на друга?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=744s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Chaos Legion. #4113 18.Мар.16 12:52:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=165&prc=25&Itemid=57#p23409">
как сделать в классике вывод изображений послойно.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
lamerUA. #4152 25.Мар.16 12:08:11: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=167&prc=25&Itemid=57#p23534">
Возможно ли в QSP 5.7 осуществить наложение одной картинки на другую</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_06" head-level="h6">
<p>
9.6. Как сделать кликабельное изображение?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=xCpp_ZYN7Tw&t=801s">
https://www.youtube.com/watch?v=xCpp_ZYN7Tw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mr.Crazzyr. #3013 24.Июн.15 23:58:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=121&prc=25&Itemid=57#p20567">
как сделать кликабельное изображение в основном окне.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
BraJelon. #2978 13.Июн.15 04:24:21: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=120&prc=25&Itemid=57#p20428">
Как сделать так, чтобы эти действия были отдельно друг от друга, а не в одном подменю, а также, как корректировать их расположение на экране или к примеру, чтобы это самое действие игрока было изображением и при нажатии, происходил переход?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
saks. #4027 07.Мар.16 05:53:02: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=162&prc=25&Itemid=57#p23267">
тоесть полностью отказаться от окна "Действия" и перенести весь интерфейс в основное окно не получится?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Сергей. #5738 19.Май.19 13:12:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=230&prc=25&Itemid=57#p19373">
Как заставить код выполняться по нажатию на картинку/текст</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_09_07" head-level="h6">
<p>
9.7. Как сделать сменяемое изображение на локации?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=HMYo0xVyGNA&t=16s">
https://www.youtube.com/watch?v=HMYo0xVyGNA&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
jeesson. #4914 14.Фев.17 05:32:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=197&prc=25&Itemid=57#p25227">
как сделать динамическое изображение(ну или как-то так называется), чтобы по нажатию по него - оно менялось на другое.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Фрай. #5430 06.Янв.19 13:47:25: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=218&prc=25&Itemid=57#p27018">
как сделать, чтобы на одной локации картинки (jpg, png, gif) и текст под ними, сменяли одна другую?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_09_08" head-level="h6">
<p>
9.8. Как сделать вывод рандомного изображения?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=HMYo0xVyGNA&t=318s">
https://www.youtube.com/watch?v=HMYo0xVyGNA&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WeReT. #4062 10.Мар.16 20:18:24: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=163&prc=25&Itemid=57#p23310">
Как создать выбор из нескольких картинок?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_10" head-level="h2">
<p>
10. Интерфейс, дизайн, украшения</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Bup0H. #4421 29.Май.16 11:55:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24056">
Какие цвета по умолчанию можно вписать (Red, Green и т.п) есть ли весь список?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_01" head-level="h6">
<p>
10.1. Для чего нужен оператор REFINT, и как он работает?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=9KHLbHZ7T_Q&t=16s">
https://www.youtube.com/watch?v=9KHLbHZ7T_Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Storm. 15.Июн.15 11:47:45: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=120&prc=25&Itemid=57#p20448">
Как работает оператор REFINT?</tag>
<tag name="simple-string">
 
</tag>
</p>
<p>
<tag name="simple-string">
Byte. #1020 31.Мар.12 11:27:02: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=41&prc=25&Itemid=57#p10355">
REFINT принудительно выводит на экран текст, который находится в буфере вывода</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_02" head-level="h6">
<p>
10.2. Как изменить цвет фона в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=9KHLbHZ7T_Q&t=370s">
https://www.youtube.com/watch?v=9KHLbHZ7T_Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
konolya. #3330 18.Авг.15 18:32:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=134&prc=25&Itemid=57#p21408">
как сделать фон полностью красным или чёрным?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #3433 04.Сен.15 21:11:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=138&prc=25&Itemid=57#p21609">
Вот в игре цвета фона какой-то сероватый по умолчанию, мне бы хотелось сделать его идеально белым - и это получается через сам плеер,- выбор цвета фона. А вот в коде игры - если набрать bcolor = 0, то этот самый ноль и будет "сероватым-по умолчанию". Как добиться белизны через код?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
tay. #3739 09.Янв.16 20:38:51: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22437">
как сделать чтобы в навигаторе можно было изменять цвет фона</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DeathSpace. #3880 14.Фев.16 15:19:11: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=156&prc=25&Itemid=57#p22944">
Можно ли сделать фон для окон: предметов,доп описания и окна действий?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4410 24.Май.16 18:47:56: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24015">
как задать цвет фону в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Alcohol. #5634 18.Май.19 10:16:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=226&prc=25&Itemid=57#p25541">
Подскажите простейшие команды, типо изменение цвета текста и фона.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_03" head-level="h6">
<p>
10.3. Как изменить формат части текста? Размер, цвет, наклон и т.д.?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=16s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
Работа со шрифтами в справке: http://htmlbook.ru/html/font 
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3299 10.Авг.15 11:44:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=132&prc=25&Itemid=57#p21298">
Можно ли как-то сделать, что бы шрифт в окне объектов(предметов) отличался от основного шрифта игры?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3656 11.Ноя.15 22:16:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=147&prc=25&Itemid=57#p22182">
как сделать, чтобы не расписывать каждую строчку '<i><b><font color = yellow>Ждать</font></b></i>', а задать наклон, толщину и цвет всего текста один раз для локации</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3682 10.Дек.15 21:05:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=148&prc=25&Itemid=57#p22311">
а как сделать чтобы текст на фоне был?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Abrukt (RomaDova). #3704 23.Дек.15 21:21:35: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=149&prc=25&Itemid=57#p22369">
При помощи какого оператора можно изменить шрифт лишь части текста</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3736 08.Янв.16 22:27:18: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22428">
а сменить шрифт можно? ну чтобы весь текст был одним шрифтом, который прописан FNAME, а в определённых местах заменить, к примеру, на готический шрифт?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Weliot. #4209 01.Апр.16 14:44:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=169&prc=25&Itemid=57#p23635">
Как изменить цвет шрифта?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Hungry. #4824 28.Дек.16 06:37:28: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=193&prc=25&Itemid=57#p25014">
Как вставить и описание/доп. описание кусок текста с отличным от остального массива текста шрифтом/размером шрифта?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
CH_B_L. #4333 09.Май.16 15:31:05: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=174&prc=25&Itemid=57#p23889">
как в qsp можно часть строки сделать, скажем, курсивом, а часть - нормальной?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_04" head-level="h6">
<p>
10.4. Как сделать красивый фон в классическом плеере?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=9KHLbHZ7T_Q&t=563s">
https://www.youtube.com/watch?v=9KHLbHZ7T_Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
St-john. #5154 18.Окт.17 17:07:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=207&prc=25&Itemid=57#p26184">
Такой вопрос - есть ли какой-нибудь способ сделать нормальный и красивый  фон в классике?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_05" head-level="h6">
<p>
10.5. Хочу, чтоб в игре окна располагались определённым образом. Как это сделать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=235s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Настройка окошек классического плеера с помощью qspgui.cfg </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=861&Itemid=57">
Открыть в браузере</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3308 10.Авг.15 16:09:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=133&prc=25&Itemid=57#p21308">
А можно как-то в классик куспе менять размер окошек Объектов и доп. описания?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DeathSpace. #3801 26.Янв.16 23:55:03: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=153&prc=25&Itemid=57#p22683">
нужно чтобы мой qsp файл сразу открывался во весь экран а не окошком</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
InoYnika. #4131 19.Мар.16 16:43:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23441">
Как сделать так чтобы экран приложения был поцентру?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axi.Lex. #4661 18.Сен.16 15:19:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=187&prc=25&Itemid=57#p24655">
Пропало окно доп.описания. Пытался открыть - ничегошеньки. Что случилось?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Sin. #4691 13.Окт.16 00:27:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=188&prc=25&Itemid=57#p24741">
есть ли возможность убрать разворачивание экрана в классике?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #4949 27.Фев.17 20:23:32: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25307">
Можно ли прописать в коде, чтобы окно "Предпросмотр" разворачивалось на полный экран?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #5097 25.Июн.17 18:40:59: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=204&prc=25&Itemid=57#p25937">
как сделать, чтобы в игре было фиксированно-определенное расположение и размер всех окон, а также размер и тип шрифта?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5292 10.Апр.18 23:52:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=212&prc=25&Itemid=57#p26614">
как задать дефолтные настройки размера(размеров) экрана(экранов)?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_06" head-level="h6">
<p>
10.6. Можно ли задавать размер окон из кода игры? Чтобы в одной локации были одни настройки, в другой — другие.</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=303s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3312 10.Авг.15 16:29:53: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=133&prc=25&Itemid=57#p21312">
А по окнам.  Можно ли их как-то программировать им размеры? Что бы на одной локации были одни размеры, на другой - другие.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #5471 02.Фев.19 14:37:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=219&prc=25&Itemid=57#p27072">
Можно ли сделать так что бы окно доп описаний было в разных местах в зависимости от локации</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Anuki. #3936 26.Фев.16 23:50:20: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=158&prc=25&Itemid=57#p23132">
как заставить закрываться окно предпросмотра автоматически</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_07" head-level="h6">
<p>
10.7. Настроил расположение окна предпросмотра, но когда выключаю его, другие окна смещаются, как это исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=394s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Jolly Roger. #3322 11.Авг.15 21:37:13: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=133&prc=25&Itemid=57#p21353">
как сделать, чтобы окно предпросмотра (которое VIEW) не скакало по экрану после перезагрузки интерфейса в процессе игры?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_08" head-level="h6">
<p>
10.8. Как изменить цвет подсветки действий?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=440s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3488 14.Сен.15 15:37:53: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=140&prc=25&Itemid=57#p21700">
как изменить цвет подсветки, выбираемого действия</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_09" head-level="h6">
<p>
10.9. Как изменить цвет фона для отдельного окна?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=463s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5529 18.Май.19 09:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=222&prc=25&Itemid=57#p26317">
Как сделать так, чтобы блок действий был другого цвета?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_10" head-level="h6">
<p>
10.10. Как сделать плавное появление текста?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ggTZHJsGHBs&t=16s">
https://www.youtube.com/watch?v=ggTZHJsGHBs&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Плавное изменение цвета фона: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=112:2011-05-20-06-23-02&catid=36:2009-02-19-06-11-21&Itemid=76">
https://qsp.org/index.php?...&Itemid=76</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5553 18.Май.19 09:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=223&prc=25&Itemid=57#p26533">
возможно ли реализовать плавное появление текста, и, через какое-либо время, его плавное затухание?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_11" head-level="h6">
<p>
10.11. Как использовать в игре собственный шрифт?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ITvRi_pmgRo&t=504s">
https://www.youtube.com/watch?v=ITvRi_pmgRo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3727 03.Янв.16 19:02:47: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22401">
а как добавить альтернативный шрифт ( пользовательский шрифт, которого на компе нет по умолчанию) для qsp</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_10_12" head-level="h6">
<p>
10.12. С предметов можно снимать выделение, а можно ли снять выделение с действия?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=ggTZHJsGHBs&t=365s">
https://www.youtube.com/watch?v=ggTZHJsGHBs&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ways. #5358 07.Авг.18 22:03:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=215&prc=25&Itemid=57#p26820">
Подскажите пожалуйста, есть ли возможность снять выделение в окне действий?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #5156 22.Окт.17 18:48:24: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=207&prc=25&Itemid=57#p26187">
Можно ли сделать так, чтобы шрифт использовался в игре, но не был установлен на компьютере?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_11" head-level="h2">
<p>
11. Вопросы об условиях</p>
</head>
<segment segment-class="for-head">
<head anchor="link_11_01" head-level="h6">
<p>
11.1. При проверке условия записано просто число, без операции сравнения, но QSP не выдаёт ошибку. Почему?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=tzu-0aV_m5M&t=16s">
https://www.youtube.com/watch?v=tzu-0aV_m5M&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #4687 09.Окт.16 18:27:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=188&prc=25&Itemid=57#p24736">
наткнулся у себя же на такую строчку: "if x > 100 and y:", где, как видите, "y" просто "y" без всяких там больше-меньше-равно. Разве это не ошибка?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_11_02" head-level="h6">
<p>
11.2. Как сделать так, чтобы действие появлялось только при определённом условии?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=tzu-0aV_m5M&t=196s">
https://www.youtube.com/watch?v=tzu-0aV_m5M&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Действие по условию: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=348&Itemid=57">
тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Примеры реализации диалогов: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=72:-11&catid=36:2009-02-19-06-11-21&Itemid=76">
тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Jack. #3428 04.Сен.15 18:15:00: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=138&prc=25&Itemid=57#p21604">
мне надо сделать в одном действие два действия только не знаю как правильно прописать</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
saks. #3989 06.Мар.16 10:54:33: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=160&prc=25&Itemid=57#p23220">
как упростить код (допустим чтобы вариант "уйти" прописать только 1 раз а не в каждом действии)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4955 23.Мар.17 15:32:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=199&prc=25&Itemid=57#p25352">
Какой код нужно написать чтобы только после посещения Комнаты1, в  Комнате2 появилось действие 'Открыть ключем' ?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4975 05.Апр.17 01:53:33: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=200&prc=25&Itemid=57#p25429">
Действие по условию</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #4987 13.Апр.17 22:40:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=200&prc=25&Itemid=57#p25470">
как сделать чтобы при наличии определенных предметов в локации появлялось действие</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
vitorio555. #4995 17.Апр.17 13:33:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=200&prc=25&Itemid=57#p25482">
как сделать так чтоб в локации кнопка перехода появлялась при определённых условиях</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
waganwils. #5170 23.Дек.17 00:25:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=207&prc=25&Itemid=57#p26276">
Скрытое действие, Диалоги и прочее...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Kaspar. #5328 08.Июн.18 16:29:51: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=214&prc=25&Itemid=57#p26716">
как возможно реализовать вывод текста по клику кнопки далее в действиях?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
новичок. #5463 31.Янв.19 11:42:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=219&prc=25&Itemid=57#p27064">
как сделать, что бы при покупке предмета, он добавлялся в определенную локацию</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Katy. #3459 11.Сен.15 20:06:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=139&prc=25&Itemid=57#p21642">
как сделать так, чтобы после того, как действие сработало один раз и исчезло, появилось новое действие?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_11_03" head-level="h6">
<p>
11.3. Видел в одной из игр, как после нажатия на действие, оно становится неактивным. Как это сделать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qYDeZ6wmaDY&t=16s">
https://www.youtube.com/watch?v=qYDeZ6wmaDY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Bup0H. #4416 26.Май.16 23:29:21: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24036">
При выполнение действия, кнопка меняет цвет и уже повторно нажать не удается.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_11_04" head-level="h6">
<p>
11.4. Как добавить текст, который будет выводиться только при выполнении определённого условия?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qYDeZ6wmaDY&t=475s">
https://www.youtube.com/watch?v=qYDeZ6wmaDY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Cannibal_Rat. #5108 10.Июл.17 09:31:56: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=205&prc=25&Itemid=57#p25990">
как добавить зависимый текст в описание (QGen)?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_11_05" head-level="h6">
<p>
11.5. Как сделать, чтобы в диалоговом окне текст набирался в зависимости от условий?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qYDeZ6wmaDY&t=216s">
https://www.youtube.com/watch?v=qYDeZ6wmaDY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
прохожий. #4763 05.Ноя.16 21:42:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=191&prc=25&Itemid=57#p24837">
как в диалоговое окно засунуть несколько условий?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_11_06" head-level="h6">
<p>
11.6. Как упростить условие?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qYDeZ6wmaDY&t=586s">
https://www.youtube.com/watch?v=qYDeZ6wmaDY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #3358 25.Авг.15 11:05:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=135&prc=25&Itemid=57#p21473">
как сделать: к примеру есть 3 локации... что бы открылась 4 надо во всех 3 побыть, неважно в каком порядке.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_12" head-level="h2">
<p>
12. Вопросы о DYNAMIC</p>
</head>
<segment segment-class="for-head">
<head anchor="link_12_01" head-level="h6">
<p>
12.1. Зачем нужен оператор dynamic?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=djQbaN7-bfE&t=16s">
https://www.youtube.com/watch?v=djQbaN7-bfE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Динамический код: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:dynamical">
Справка на wiki.qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Storm. #2822 09.Май.15 17:08:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=113&prc=25&Itemid=57#p19941">
мне нужно к названию массива, допустим, char прибавить число 1, 2 и так далее чтобы получить название нового массива, допустим char1. Затем в этот новый массив копировать данные из какого-то другого массива в игре. Возможно ли это реализовать в QSP?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Chaos Legion. #3981 05.Мар.16 19:39:21: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=160&prc=25&Itemid=57#p23212">
есть лока changestat которая вызывается по gs и ей передается имя переменной и число ... сама лока должна к этой переменной добавлять число, но я не могу понять, как там оперировать именно переменной, а не args%&#91;%0%&#93;%</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Hinkmar. #5010 21.Апр.17 20:04:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=201&prc=25&Itemid=57#p25505">
можно ли проверить соответствие истине выражения, записанного в текстовую переменную?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_12_02" head-level="h6">
<p>
12.2. Можно ли сделать переменную с рандомным (случайным) названием?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YqEGWwMNzDc&t=16s">
https://www.youtube.com/watch?v=YqEGWwMNzDc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Hungry. #3114 20.Июл.15 06:08:09: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=125&prc=25&Itemid=57#p20811">
Вопрос такой: можно ли сделать, чтобы игра создавала переменную с рандомным НАЗВАНИЕМ?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_12_03" head-level="h6">
<p>
12.3. Создаю действия с помощью цикла, но они работают неправильно. Что делать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YqEGWwMNzDc&t=254s">
https://www.youtube.com/watch?v=YqEGWwMNzDc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Вывод действий в цикле с передачей параметров: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=530&Itemid=57">
Тема на форуме</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Storm. #2869 17.Май.15 22:27:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p20054">
это невозможно сделать в QSP, или у меня что-то не правильно в коде?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Dark</tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=140&prc=25&Itemid=57#p21696">
Ol(U23)leneri]. #3484 14.Сен.15 11:23:49: [Понимаю, что во всех актах одно и то же N, но что с этим делать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Адри. #4555 30.Июл.16 22:45:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=183&prc=25&Itemid=57#p24437">
Проблема в том, что список удалось создать, но передать каждому персонажу (в примере они создали с помощью ACT) значение ID - не получается.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
St-john. #4616 28.Авг.16 19:01:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=185&prc=25&Itemid=57#p24572">
Как в коде ниже при генерации действий сделать так чтобы получились связанные действия и реакция на него?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_12_04" head-level="h6">
<p>
12.4. Почему не работает dynamic?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=djQbaN7-bfE&t=512s">
https://www.youtube.com/watch?v=djQbaN7-bfE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5310 13.Май.18 14:48:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=213&prc=25&Itemid=57#p26665">
Почему вместо того чтобы изменить Х он просто в виде текста выдает мне x -= 10. И как сделать так чтобы это был не текст а код?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13" head-level="h2">
<p>
13. Не работает...</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="link_13_01" head-level="h6">
<p>
13.1. Рисую таблицу и хочу зафиксировать высоту, но атрибут height не работает.</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=177Wyt7Z13Q&t=18s">
https://www.youtube.com/watch?v=177Wyt7Z13Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
svandrus. #3541 01.Окт.15 14:59:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=142&prc=25&Itemid=57#p21893">
Можно ли в классическом плеере отрегулировать высоту строк. Тег height не поддерживается</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
kosmosnash. #4574 14.Авг.16 16:55:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=183&prc=25&Itemid=57#p24518">
можно ли в куспе как-то зафиксировать высоту таблицы и высоту отдельных ячеек в частности</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #5440 08.Янв.19 14:41:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=218&prc=25&Itemid=57#p27028">
почему то не работает тег "height", хотя  тег "width" работает</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13_02" head-level="h6">
<p>
13.2. Пытаюсь использовать разные HTML-теги в игре, но они не работают — просто не выводятся. Почему?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=177Wyt7Z13Q&t=151s">
https://www.youtube.com/watch?v=177Wyt7Z13Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Поддерживаемые в классическом плеере HTML-теги: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:html">
wiki.qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Bup0H. #4789 25.Ноя.16 22:01:09: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=192&prc=25&Itemid=57#p24921">
Как я понимаю небольшая разница в оформлении HTML в QSP есть</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #4842 10.Янв.17 01:16:10: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=194&prc=25&Itemid=57#p25060">
Я нашёл команду table-layout, Но не могу разобраться почему она не работает в Qsp.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_13_03" head-level="h6">
<p>
13.3. Не работает IIF!</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=177Wyt7Z13Q&t=244s">
https://www.youtube.com/watch?v=177Wyt7Z13Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
TEMP_USER (oleksandrigo). #5253 15.Мар.18 00:08:17: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=211&prc=25&Itemid=57#p26532">
Насчет оператора IIF</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13_04" head-level="h6">
<p>
13.4. Пытаюсь сделать кликабельную картинку с помощью тегов MAP и AREA, но ничего не получается</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=h5h1pwbkw5k&t=18s">
https://www.youtube.com/watch?v=h5h1pwbkw5k&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Как работать с тегами MAP и AREA: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=793&Itemid=57">
Тема на форуме</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Shellect. #3178 27.Июл.15 17:27:07: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=128&prc=25&Itemid=57#p20912">
Создаю HTML файл, запускаю - всё работает, как задумано. На странице картинка, в центре круглая область-ссылка. Пытаюсь запустить этот код в QSP - ссылки нет.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #3358 25.Авг.15 11:05:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=135&prc=25&Itemid=57#p21473">
Есть ли возможность нарисовать карту? что бы при нажатии на изображение (определенную часть) был переход на локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lamer. #4940 25.Фев.17 17:32:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25293">
Можно увидеть, хоть где нибудь, простенький пример использования тегов <map> и соответственно <area></tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Light_333. #5103 02.Июл.17 16:35:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=205&prc=25&Itemid=57#p25964">
Подскажите пожалуйста, поддерживает ли QSP работу с картами изображений?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13_05" head-level="h6">
<p>
13.5. Не работает *pl в действии с goto</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=h5h1pwbkw5k&t=383s">
https://www.youtube.com/watch?v=h5h1pwbkw5k&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ars_Sacra. #4396 21.Май.16 21:28:01: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=176&prc=25&Itemid=57#p23989">
<tag name="simple-string">
в АКТЕ 'ДАЛЕЕ' функции </tag>
<tag name="italic">
PL - не работают. </tag>
<tag name="simple-string">
CLR так же.</tag>
</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13_08" head-level="h6">
<p>
13.8. Не работает оператор JUMP — не может найти метку</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=TCve-b6AQMs&t=376s">
https://www.youtube.com/watch?v=TCve-b6AQMs&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
svandrus. #2874 19.Май.15 20:17:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p20071">
у меня вопрос по меткам в локации</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
JUMP надо модифицировать? </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=314&Itemid=57">
Тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3057 07.Июл.15 13:37:00: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20670">
Да что ж я делаю не так?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Small Jerboa. #3336 19.Авг.15 21:26:16: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=134&prc=25&Itemid=57#p21421">
ругается, что не находит такой метки</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Storm. #3517 20.Сен.15 03:19:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=141&prc=25&Itemid=57#p21764">
можно ли использовать оператор "jump" в операторе "dynamic"?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #4394 21.Май.16 11:18:44: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=176&prc=25&Itemid=57#p23984">
Народ а почему не работает команда джамп?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lv2013. #5036 03.Май.17 17:48:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25575">
есть такой код...</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_13_09" head-level="h6">
<p>
13.9. Не работает многострочное условие. Как исправить?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=TCve-b6AQMs&t=531s">
https://www.youtube.com/watch?v=TCve-b6AQMs&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Kaspar. #3681 10.Дек.15 18:05:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=148&prc=25&Itemid=57#p22310">
Подскажите в чём ошибка? Дело в том, что не выводится msg.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lexon. #3909 21.Фев.16 03:13:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=157&prc=25&Itemid=57#p23047">
все 3 картинки всплывают когда подходишь к кузницу в любое время и при любом статусе, как сделать что бы 1 картинка была, а не все 3.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_13_10" head-level="h6">
<p>
13.10. Не работает многострочный код. Как исправить?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2S4nFzzal7Y&t=18s">
https://www.youtube.com/watch?v=2S4nFzzal7Y&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #3419 02.Сен.15 16:54:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=137&prc=25&Itemid=57#p21592">
помогите плз найти ошибку</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_13_11" head-level="h6">
<p>
13.11. Сколько END'ов нужно добавить?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2S4nFzzal7Y&t=377s">
https://www.youtube.com/watch?v=2S4nFzzal7Y&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #3419 02.Сен.15 16:54:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=137&prc=25&Itemid=57#p21592">
помогите плз найти ошибку</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Twinkie. #4781 16.Ноя.16 18:38:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=192&prc=25&Itemid=57#p24901">
Не могу понять сколько эндов надо добавить</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
skov. #4800 14.Дек.16 18:32:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=193&prc=25&Itemid=57#p24964">
скажите пожалуйста что не так? Почему он не видит функцию IF?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_13_12" head-level="h6">
<p>
13.12. Не работает условие. Как исправить?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2S4nFzzal7Y&t=838s">
https://www.youtube.com/watch?v=2S4nFzzal7Y&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
lamerUA. #4151 25.Мар.16 11:48:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=167&prc=25&Itemid=57#p23532">
Срабатывают только 2 первых. И как в таком случае проще организовать "сумерки" в игре?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
skov. #4796 11.Дек.16 13:36:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=192&prc=25&Itemid=57#p24956">
что я делаю не так?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Amadeus. #5411 30.Окт.18 23:25:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=217&prc=25&Itemid=57#p26918">
Можно ли как-то сделать, чтоб если одна переменная была равна другой? Почему-то выдает ошибку</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
SneakBug8. #5681 19.Май.19 12:12:28: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=228&prc=25&Itemid=57#p17192">
Как в один оператор if загнать несколько условий типо if x=1 y=6 z=39?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_13_13" head-level="h6">
<p>
13.13. Не работают десятичные дроби, дробные числа, числа с запятыми!</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=2S4nFzzal7Y&t=874s">
https://www.youtube.com/watch?v=2S4nFzzal7Y&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Талер. #2881 22.Май.15 19:25:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=116&prc=25&Itemid=57#p20116">
Во время назначения переменных, при использовании запятой пишет, "ошибка синтаксиса", а при использовании точки "неизвестное действие"</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DeathSpace. #3798 25.Янв.16 20:54:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=152&prc=25&Itemid=57#p22674">
нужны коэффициенты например 0.05, но их нельзя писать т.к. выходит ошибка</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
SneakBug8. #5731 19.Май.19 13:05:03: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=230&prc=25&Itemid=57#p18405">
Умеет ли QSP работать с дробными числами?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_14" head-level="h2">
<p>
14. Вопросы о предметах</p>
</head>
<segment segment-class="for-head">
<head anchor="link_14_01" head-level="h6">
<p>
14.1. Как добавить предмет в окно предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=VRRPLrP72Ds&t=18s">
https://www.youtube.com/watch?v=VRRPLrP72Ds&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_02" head-level="h6">
<p>
14.2. Как удалить предмет из окна предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=VRRPLrP72Ds&t=143s">
https://www.youtube.com/watch?v=VRRPLrP72Ds&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
rutigl. #2991 17.Июн.15 16:55:12: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=120&prc=25&Itemid=57#p20499">
Разве нельзя удалять предмет из инвентаря по индексу?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_03" head-level="h6">
<p>
14.3. Как удалить все предметы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=VRRPLrP72Ds&t=374s">
https://www.youtube.com/watch?v=VRRPLrP72Ds&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WastedCarl. #5300 01.Май.18 22:06:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=213&prc=25&Itemid=57#p26642">
После смерти игрока все предметы должны исчезнуть,как это сделать?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_04" head-level="h6">
<p>
14.4. Как добавить предмет в определённую позицию в окне предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=VRRPLrP72Ds&t=448s">
https://www.youtube.com/watch?v=VRRPLrP72Ds&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Oliver. #4041 09.Мар.16 00:49:31: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=162&prc=25&Itemid=57#p23284">
как сделать так, чтобы предмет "Очистить журнал" был последним, а предмет "Экипировка" первым?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_05" head-level="h6">
<p>
14.5. Как заменить один предмет на другой?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=VRRPLrP72Ds&t=551s">
https://www.youtube.com/watch?v=VRRPLrP72Ds&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mr. Black (BiK). #3653 09.Ноя.15 08:32:59: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=147&prc=25&Itemid=57#p22168">
меню у предмета появляется, а вот имя предмета меняться не хочет. Что делать?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_06" head-level="h6">
<p>
14.6. Как делать динамические/считаемые предметы?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=4tjOVO8ccrI&t=18s">
https://www.youtube.com/watch?v=4tjOVO8ccrI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Библиотечка, расширяющая возможности инвентаря: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=70:qsp-inventory-advanced-lib-076&catid=36:2009-02-19-06-11-21&Itemid=76">
Страница на QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2858 14.Май.15 02:48:16: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p20004">
addobj 'Здоровье: <<$Здоровье>> ед.' Добавил в инвентарь, но при изменении переменной здесь ничего не высвечивается, что делать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #2947 09.Июн.15 14:09:36: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=118&prc=25&Itemid=57#p20330">
Как сделать, что бы однотипные предметы в инвентарь попадали не отдельными строками, а складывались в одну строку с указанием количества?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lexian13. #4409 24.Май.16 17:31:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=177&prc=25&Itemid=57#p24014">
В своей игре использую объект Зелья. Хочу что бы в запасе было несколько. Но чтоб не забивать инвентарь.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aleks Versus. #5594 18.Май.19 10:06:35: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=224&prc=25&Itemid=57#p26370">
Стакающиеся предметы — это считаемые, как я понимаю. Деньги, патроны, одинаковые мечи и прочее. Тема довольно интересная и сложная. Но новичкам обычно предлагают начать с этого:</tag>
<tag name="simple-string">
 
</tag>
</p>
</segment>
<head anchor="link_14_07" head-level="h6">
<p>
14.7. Как добавить предмет с картинкой но без названия?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=4tjOVO8ccrI&t=366s">
https://www.youtube.com/watch?v=4tjOVO8ccrI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Podkovally. #3706 24.Дек.15 13:37:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=149&prc=25&Itemid=57#p22371">
подскажите пожалуйста, как правильно сделать предметы графическими?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
sergeev_v. #3026 25.Июн.15 23:52:16: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=122&prc=25&Itemid=57#p20588">
При лобавлении в инвентарь предмета с картинуой, сначала идёт картинка, а затем название предмета. Пожалуйста подскажите как убрать название.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lisichka. #3526 26.Сен.15 14:56:49: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=142&prc=25&Itemid=57#p21826">
но стоит только назвать предмет так, чтобы его имя не отображалось, например, '<<$кинжал>>', для того, чтобы осталась одна картинка, и код начинает выделывать фортели и показывать совсем не то, что нужно</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
новичок. #5479 08.Фев.19 23:41:11: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=220&prc=25&Itemid=57#p27084">
как сделать предмет в виде картинки?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_14_08" head-level="h6">
<p>
14.8. Как сделать, чтоб при щелчке по предмету выполнялся какой-либо код?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=4tjOVO8ccrI&t=566s">
https://www.youtube.com/watch?v=4tjOVO8ccrI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2814 08.Май.15 01:46:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=113&prc=25&Itemid=57#p19907">
что нужно прописать, чтобы при нажатии на предмет в инвентаре происходило действие.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
konolya. #3350 23.Авг.15 11:20:13: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=134&prc=25&Itemid=57#p21462">
Расскажите как используя предмет перейти в локацию, допустим: "Инвентарь", а затем перейти обратно в локацию.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Katy. #3456 11.Сен.15 18:35:46: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=139&prc=25&Itemid=57#p21639">
как сделать так, чтобы при выборе предмета появлялось его описание?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lolopok. #4659 16.Сен.16 21:12:15: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=187&prc=25&Itemid=57#p24653">
как сделать вывод описания предмета по клику в основное окно/стат?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
FreshBlood. #4907 10.Фев.17 19:41:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=197&prc=25&Itemid=57#p25207">
как сделать так, чтобы при нажатии предмета в инвентаре на окно дополнительного описания выводился текст?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NaViGaToR. #4916 14.Фев.17 18:54:00: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=197&prc=25&Itemid=57#p25231">
Как сделать чтобы при нажатии на предмет в инвенторе открывалось окно действий?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Alcohol. #4993 16.Апр.17 13:45:26: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=200&prc=25&Itemid=57#p25479">
как сделать так, чтобы при нажатии на предмет в инвентаре в окне дополнительного описания выводилось описание предмета?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
loony25. #5238 04.Мар.18 20:31:45: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=210&prc=25&Itemid=57#p26487">
Как сделать так, чтобы при нажатии использовать игрока перекинуло на другую локацию?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_14_09" head-level="h6">
<p>
14.9. Как снять выделение предмета?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7OCfh3TxLbk&t=18s">
https://www.youtube.com/watch?v=7OCfh3TxLbk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axil. #2894 31.Май.15 22:49:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=116&prc=25&Itemid=57#p20231">
Как сделать чтобы на выбраный предмет в инвентаре можно было кликнуть еще раз?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_10" head-level="h6">
<p>
14.10. Как сделать два списка предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=TWAA2cq-hhk&t=18s">
https://www.youtube.com/watch?v=TWAA2cq-hhk&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_11" head-level="h6">
<p>
14.11. Как сделать, чтобы плеер выполнял определённый код при добавлении любого предмета?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7OCfh3TxLbk&t=279s">
https://www.youtube.com/watch?v=7OCfh3TxLbk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #4130 19.Мар.16 16:21:20: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23440">
Можно ли сделать так, чтобы при добавлении любого предмета в инвентарь какая-либо переменная менялась автоматически?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_12" head-level="h6">
<p>
14.12. Как сделать два разных предмета с одинаковыми названиями?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7OCfh3TxLbk&t=495s">
https://www.youtube.com/watch?v=7OCfh3TxLbk&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_14_13" head-level="h6">
<p>
14.13. Как сделать многоуровневый рюкзак?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=TWAA2cq-hhk&t=1177s">
https://www.youtube.com/watch?v=TWAA2cq-hhk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #4373 16.Май.16 11:05:21: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=175&prc=25&Itemid=57#p23951">
Как сделать рюкзак? то есть что бы на панели предметов был просто "инвентарь" а уже если заходить в него то там(например в доп окне) показывался весь список предметов.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Многоуровневый рюкзак: </tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/248/multibag.qsp">
Скачать пример</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_14_14" head-level="h6">
<p>
14.14. Можно ли выводить предметы не в окне предметов?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7OCfh3TxLbk&t=670s">
https://www.youtube.com/watch?v=7OCfh3TxLbk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lisichka. #3519 23.Сен.15 00:27:25: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=141&prc=25&Itemid=57#p21803">
можно ли сделать так, чтобы предметы в окне инвентаря отображались не один за другим, а были как бы в таблице?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Предметы не в окне предметов: </tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/248/invent.zip">
Скачать пример</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_15" head-level="h2">
<p>
15. Вопросы о строке ввода</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Раздел о Строке Ввода в справке: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:inputs">
wiki.qsp.su/inputs</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_15_01" head-level="h6">
<p>
15.1. Зачем вообще нужна строка ввода (поле ввода)?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=1FGiKZLiNP8&t=18s">
https://www.youtube.com/watch?v=1FGiKZLiNP8&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Строка ввода используется в парсерных играх: </tag>
<tag name="hyperlink" href="https://ifwiki.ru/Парсерные_игры">
ifwiki.ru/Парсерные игры</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
oleksandrigo (TEMP_USER). #5246 11.Мар.18 18:34:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=210&prc=25&Itemid=57#p26516">
Зачем нужно поле ввода в плеере?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Alcohol. #5025 27.Апр.17 17:02:05: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25547">
Как сделать в игре что-то типа консоли?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_15_02" head-level="h6">
<p>
15.2. Как задействовать строку ввода в игре?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=1FGiKZLiNP8&t=117s">
https://www.youtube.com/watch?v=1FGiKZLiNP8&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Axi.Lex. #4639 04.Сен.16 23:25:32: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=186&prc=25&Itemid=57#p24603">
Как задействовать строку ввода?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #4827 05.Янв.17 19:14:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=194&prc=25&Itemid=57#p25040">
Как сделать обработку команд через поле ввода</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_16" head-level="h2">
<p>
16. Вопросы по вёрстке</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="link_16_01" head-level="h6">
<p>
16.01. Можно ли писать текст поверх вставленной картинки (не бэкграунда)?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=_L0MJaaWJAo&t=18s">
https://www.youtube.com/watch?v=_L0MJaaWJAo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mr.Crazzyr. #3019 25.Июн.15 15:30:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=121&prc=25&Itemid=57#p20575">
Можно ли писать поверх вставленной картинки (не бекграунда)?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_02" head-level="h6">
<p>
16.02. Возможно ли сделать плавный переход между локациями?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=_L0MJaaWJAo&t=124s">
https://www.youtube.com/watch?v=_L0MJaaWJAo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mr.Crazzyr. #3019 25.Июн.15 15:30:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=121&prc=25&Itemid=57#p20575">
возможно ли реализовать плавный переход между локациями?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_03" head-level="h6">
<p>
16.03. Как расположить картинку справа, а текст слева?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=_L0MJaaWJAo&t=248s">
https://www.youtube.com/watch?v=_L0MJaaWJAo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Mr.Crazzyr. #3025 25.Июн.15 21:36:24: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=121&prc=25&Itemid=57#p20586">
как его сделать, что картинка была слева, а сообщение справа на одном уровне.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #3971 05.Мар.16 08:54:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=159&prc=25&Itemid=57#p23200">
как сделать для картинки 350х600 чтобы текстовый блок располагался справа или слева от картинки?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WeReT. #4076 11.Мар.16 19:32:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=164&prc=25&Itemid=57#p23332">
Как сделать так, что бы картинки выводились не сверху вниз, а слева на право?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4430 02.Июн.16 18:42:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=178&prc=25&Itemid=57#p24077">
Как вставить изображение в окно описания перед текстом?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_16_04" head-level="h6">
<p>
16.04. Как ограничить размер выводимого изображения?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=_L0MJaaWJAo&t=394s">
https://www.youtube.com/watch?v=_L0MJaaWJAo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Katy. #3472 13.Сен.15 05:04:38: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=139&prc=25&Itemid=57#p21673">
Можно сделать, чтобы вставляемая картинка как-нибудь ограничивалась в размере, а не занимала всё пространство?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_05" head-level="h6">
<p>
16.05. Как сделать рамку окна основного описания?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=la-2HpjAiic&t=18s">
https://www.youtube.com/watch?v=la-2HpjAiic&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Deonder. #3606 02.Ноя.15 18:07:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=145&prc=25&Itemid=57#p22103">
Возможно ли сделать так чтобы картинки шли по контуру основного окна?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_06" head-level="h6">
<p>
16.06. Как сделать вывод предметов магазина не длинным списком, а в виде таблицы?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=la-2HpjAiic&t=258s">
https://www.youtube.com/watch?v=la-2HpjAiic&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DeathSpace. #3775 21.Янв.16 23:27:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=151&prc=25&Itemid=57#p22616">
предметы в магазине у меня расположены вертикально ... как сделать так чтобы например 1 сет брони у меня был расположен горизонтально?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_07" head-level="h6">
<p>
16.7. Можно ли зеркально отразить картинку методами плеера?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=_L0MJaaWJAo&t=508s">
https://www.youtube.com/watch?v=_L0MJaaWJAo&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
CH_B_L. #4312 30.Апр.16 18:06:22: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=173&prc=25&Itemid=57#p23837">
как-нибудь можно с помощью кода в игре зеркально отразить картинку справа-налево?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Morning Star. #5177 29.Дек.17 02:11:56: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=208&prc=25&Itemid=57#p26288">
 есть ли какой-то код, чтобы вставленные картинки автоматически подгонялись под разрешение экрана?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_16_08" head-level="h6">
<p>
16.8. Вывожу в окно табличку, а потом текст, но между текстом и табличкой возникают пустые строки. Что это и как этого избежать?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=Q5-AEr4Vdwk&t=18s">
https://www.youtube.com/watch?v=Q5-AEr4Vdwk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
BrainFK. #4207 01.Апр.16 09:57:25: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=169&prc=25&Itemid=57#p23633">
Как избавиться от лишнего пространства картинки внизу таблицы?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
svandrus.#3059 07.Июл.15 14:27:28: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20672">
Табличка в порядке, но вот если располагать ниже неё ещё какой-нибудь текст, появляется здоровенный пробел...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Bup0H. #4545 26.Июл.16 17:32:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=182&prc=25&Itemid=57#p24415">
В qsp не могу разобраться с таблицей</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #4814 25.Дек.16 13:51:07: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=193&prc=25&Itemid=57#p25003">
как сделать таблицу в главном окне?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
zeek17. #5428 31.Дек.18 16:47:35: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=218&prc=25&Itemid=57#p27014">
Можно ли как-нибудь задать ширину ячейки таблицы "не больше 50%", к примеру?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_09" head-level="h6">
<p>
16.9. Можно как-нибудь вывести текст в два столбца в классике?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=Q5-AEr4Vdwk&t=210s">
https://www.youtube.com/watch?v=Q5-AEr4Vdwk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Драккан. #3719 27.Дек.15 12:02:10: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=149&prc=25&Itemid=57#p22388">
Можно как нибудь вывести текст в два столба в классике?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_16_10" head-level="h6">
<p>
16.10. Как работать с тегами MAP и AREA?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://youtu.be/CeMLenb-n5w">
https://youtu.be/CeMLenb-n5w</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Теги MAP и AREA: </tag>
<tag name="hyperlink" href="http://htmlbook.ru/html/area">
статья на HTMLBOOK</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Теги MAP и AREA: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=793&Itemid=57">
тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Shellect. #3178 27.Июл.15 17:27:07: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=128&prc=25&Itemid=57#p20912">
Создаю HTML файл, запускаю - всё работает, как задумано. На странице картинка, в центре круглая область-ссылка. Пытаюсь запустить этот код в QSP - ссылки нет.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Gefestions. #3358 25.Авг.15 11:05:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=135&prc=25&Itemid=57#p21473">
Есть ли возможность нарисовать карту? что бы при нажатии на изображение (определенную часть) был переход на локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lamer. #4940 25.Фев.17 17:32:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25293">
Можно увидеть, хоть где нибудь, простенький пример использования тегов <map> и соответственно <area></tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Light_333. #5103 02.Июл.17 16:35:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=205&prc=25&Itemid=57#p25964">
Подскажите пожалуйста, поддерживает ли QSP работу с картами изображений?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_17" head-level="h2">
<p>
17. Вопросы о сохранениях</p>
</head>
<segment segment-class="for-head">
<head anchor="link_17_01" head-level="h6">
<p>
17.1.  Как запретить игроку самостоятельно сохранять игру?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=D9zfeG5IWYE&t=18s">
https://www.youtube.com/watch?v=D9zfeG5IWYE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Ontario. #5666 19.Май.19 10:11:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=227&prc=25&Itemid=57#p17136">
Нужно выключить возможность сохраняться где угодно и сделать возможность сохраняться там где мне это нужно</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_17_02" head-level="h6">
<p>
17.2.   Во время теста игры делал сохранения, затем внёс в игру несколько правок, но сохранения перестали загружаться. Почему так происходит, и что теперь делать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=D9zfeG5IWYE&t=95s">
https://www.youtube.com/watch?v=D9zfeG5IWYE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #4138 20.Мар.16 19:06:26: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23457">
открыл блокнотом сейв, нашёл шрифт, автозаменой сменил на подходящий - сейв не хочет открываться...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Михаил Юматов. #4669 22.Сен.16 10:21:15: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=187&prc=25&Itemid=57#p24665">
Как обновиться на новую версию игры, сохранив всё нажитое на старой версии, чтобы не пришлось набирать всё заного и развиваться после обновления</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
TEMP_USER. #5267 26.Мар.18 20:27:15: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=211&prc=25&Itemid=57#p26573">
Что делает Код:debug = 1и для чего он нужен?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_17_03" head-level="h6">
<p>
17.3.  Как сделать чекпойнты в игре?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=D9zfeG5IWYE&t=219s">
https://www.youtube.com/watch?v=D9zfeG5IWYE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Решение по чекпоинтам: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=120:2012-03-21-03-39-37&catid=36:2009-02-19-06-11-21&Itemid=76">
статья на qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DeathSpace. #4087 14.Мар.16 19:27:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=164&prc=25&Itemid=57#p23369">
Ребят, как сделать чтобы после проигрыша в игре ее можно было начать с последнего сохранения? avtosave.sav</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_17_04" head-level="h6">
<p>
17.4.  Как написать действие, которое при каждом клике сохраняло бы игру в файлы "1.sav" и "2.sav" поочерёдно?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=D9zfeG5IWYE&t=1477s">
https://www.youtube.com/watch?v=D9zfeG5IWYE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #4103 16.Мар.16 18:07:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=165&prc=25&Itemid=57#p23387">
проблема в сохранениях. как сделать чтобы act сейва делала два сохранения поочерёдно при каждом следующем клике</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_18" head-level="h2">
<p>
18. Вопросы о файлах и модулях</p>
</head>
<segment segment-class="for-head">
<head anchor="link_18_01" head-level="h6">
<p>
<tag name="simple-string">
18.1.  Чем отличаются команды </tag>
<tag name="tt">
inclib</tag>
<tag name="simple-string">
 и </tag>
<tag name="tt">
openqst</tag>
<tag name="simple-string">
?</tag>
</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=oi3lFKTI_HI&t=18s">
https://www.youtube.com/watch?v=oi3lFKTI_HI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
lamerUA. #4566 11.Авг.16 18:20:01: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=183&prc=25&Itemid=57#p24507">
Если inclib именно "вклеивает" все локации/переменные - то боюсь идея моя не прокатывает авансом. Но может быть все-же осуществимо - просто я использую не тот метод?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_18_021" head-level="h6">
<p>
18.2.  Как сделать лаунчер?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=UVZhiksS1zk&t=18s">
https://www.youtube.com/watch?v=UVZhiksS1zk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #4308 29.Апр.16 14:58:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=173&prc=25&Itemid=57#p23832">
нужно чтобы при запуске ярлычком навигатора появлялось меню выбора, ну к примеру игра1 или игра2 и в зависимости от выбора игрока запускался соответственно файл start1.qsp или start2.qsp</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_18_03" head-level="h6">
<p>
18.3.  Мне нужно узнать, есть ли в папке файл (картинка, музыка и т.д.). Как это сделать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=UVZhiksS1zk&t=152s">
https://www.youtube.com/watch?v=UVZhiksS1zk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Chaos Legion. #3885 16.Фев.16 17:53:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=156&prc=25&Itemid=57#p22957">
при точном количестве файлов сабж не вызывают вопроса, а вот как сделать, чтобы при добавлении новых файлов не менять код?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_18_04" head-level="h6">
<p>
18.4.  Перенёс файл игры из одной папки в другую. В Quest Generator пропали все папки. Почему так происходит, и как этого избежать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=oi3lFKTI_HI&t=707s">
https://www.youtube.com/watch?v=oi3lFKTI_HI&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Зачем нужен файл </tag>
<tag name="tt">
.qproj</tag>
<tag name="simple-string">
: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=163&Itemid=57">
Тема на форуме qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #2997 21.Июн.15 00:13:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=120&prc=25&Itemid=57#p20526">
При переносе почему-то из игры пропали все папки. То есть локации остались, но без папок и в жутком беспорядке. что это такое и как с этим бороться?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_18_05" head-level="h6">
<p>
18.5.  В папке с игрой стали появляться файлы с расширением .tmp. Что это за файлы, нужны они, и как избавиться от их появления?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=UVZhiksS1zk&t=665s">
https://www.youtube.com/watch?v=UVZhiksS1zk&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Драккан. #3060 07.Июл.15 13:06:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20673">
После запуска игры в папке с игрой образуется файл .tmp, как сделать что бы он не создавался каждый раз заново?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #5118 25.Июл.17 19:47:10: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=205&prc=25&Itemid=57#p26049">
в оригинальных папках с каждым тестом "копятся" какие-то непонятные (временные?) файлы .tmp. Что с ними делать, зачем они нужны?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_19" head-level="h2">
<p>
19. Изыски</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">

</segment>
<head anchor="link_19_01" head-level="h6">
<p>
19.1.  Как использовать ASCII-графику в QSP?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=y-OafwUm9ow&t=18s">
https://www.youtube.com/watch?v=y-OafwUm9ow&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Hungry. #3896 17.Фев.16 12:15:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=156&prc=25&Itemid=57#p22971">
Вроде бы уже был этот вопрос (я вроде бы и задавал): как осуществить ascii графику на куспе?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_02" head-level="h6">
<p>
19.2.  Как вставить в игру видео?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=y-OafwUm9ow&t=127s">
https://www.youtube.com/watch?v=y-OafwUm9ow&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Плеер QSP с поддержкой webm: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=1192&Itemid=57">
Тема на форуме QSP.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Sonnix. #5 17.Фев.18 14:26:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=1192&p=1&prc=25&Itemid=57#p26404">
Новая версия 1.4.2</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Jack. #3382 29.Авг.15 21:13:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=136&prc=25&Itemid=57#p21523">
скажите пожалуйста а в игру можно внедрять коротко митражные ролики ???</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Fyrchun. #3738 09.Янв.16 18:28:12: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=150&prc=25&Itemid=57#p22436">
Всем привет ,человек я тут новый. У меня вопрос: можно ли QSP воспроизводить видео? ( если да, то как?)</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
satna. #5311 14.Май.18 11:54:44: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=213&prc=25&Itemid=57#p26667">
вопрос как вставить видео в игру</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Andrik2219. #5494 22.Фев.19 12:57:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=220&prc=25&Itemid=57#p27117">
Как в свою игру вставить webm видео?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_03" head-level="h6">
<p>
19.3.  Как сделать так, чтобы текст появлялся на экране постепенно? По буквам?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=y-OafwUm9ow&t=183s">
https://www.youtube.com/watch?v=y-OafwUm9ow&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Weliot. #4283 17.Апр.16 06:20:07: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=172&prc=25&Itemid=57#p23780">
А можно ли сделать так, чтобы текст описания появлялся ПОСТЕПЕННО САМ?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lisichka. #4288 17.Апр.16 13:46:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=172&prc=25&Itemid=57#p23785">
возможно ли прикрутить кнопку, чтобы скипнуть постепенное появление текста или пока цикл не закончится, его не удастся прервать?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_04" head-level="h6">
<p>
19.4.  Как защитить игру от чита?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=y-OafwUm9ow&t=544s">
https://www.youtube.com/watch?v=y-OafwUm9ow&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3562 12.Окт.15 11:29:44: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=143&prc=25&Itemid=57#p21941">
есть ли действенный способ закрыть доступ к редактированию игры сторонними людьми?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Aaaspavel. #4089 14.Мар.16 19:47:15: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=164&prc=25&Itemid=57#p23371">
вопрос: есть какие-нибудь эффективные варианты пароля на файлы qsp?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_05" head-level="h6">
<p>
19.5.  Как задействовать клавиатуру в игре?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=DDmIxbOWbgc&t=18s">
https://www.youtube.com/watch?v=DDmIxbOWbgc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Решение по привязке буквенной клавиатуры от ejikplains: </tag>
<tag name="hyperlink" href="https://qsp.org/components/com_agora/img/members/2177/privyazka_klavish_v_klassicheskom_pleere.qsp">
скачать</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Пример игры с клавиатуры от Mioirel: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_sobi2&sobi2Task=sobi2Details&sobi2Id=305&Itemid=55">
Игра "Серафим"</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5572 18.Май.19 07:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=223&prc=25&Itemid=57#p26738">
Биндить клаву заместо действий реально?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Nex. #311 17.Июл.17 21:05:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=633&p=13&prc=25&Itemid=57#p26034">
zsoft, реально, на яваскрипте сделай.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5580 18.Май.19 07:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=224&prc=25&Itemid=57#p26757">
у меня получилось привязать клавиши к действиям в классическом плеере</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_06" head-level="h6">
<p>
19.6.  Как пропустить прохождение нескольких глав, чтобы протестировать вновь написанную главу и только её?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=DDmIxbOWbgc&t=139s">
https://www.youtube.com/watch?v=DDmIxbOWbgc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
HITD. #5095 25.Июн.17 15:05:56: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=204&prc=25&Itemid=57#p25935">
Как можно проверить кусок написанного кода не запуская игру сначала?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5531 18.Май.19 07:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=222&prc=25&Itemid=57#p26319">
как запускать для проверки отдельные главы?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_07" head-level="h6">
<p>
19.7.  Как из под плеера выполнить произвольную строку кода?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=DDmIxbOWbgc&t=188s">
https://www.youtube.com/watch?v=DDmIxbOWbgc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Отладчик: </tag>
<tag name="hyperlink" href="https://wiki.qsp.org/help:debugger">
Страница на wiki.qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Отладчик 2.0: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&id=71&Itemid=56">
Статья на qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #3175 27.Июл.15 04:08:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=127&prc=25&Itemid=57#p20909">
возможно ли настроить внутри игры эдакий ввод команды, чтобы можно было через тот ж INPUT не только значение переменной, но и к тому же имя, какой именно переменной мы хотим что-то назначать?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Valvs. #3554 09.Окт.15 11:11:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=143&prc=25&Itemid=57#p21929">
Есть ли возможность из клиента (aka плеера) задать значение произвольной переменной?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_08" head-level="h6">
<p>
19.8.  Как узнать, на каком устройстве запущена игра? Телефон, компьютер, планшет?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=DDmIxbOWbgc&t=333s">
https://www.youtube.com/watch?v=DDmIxbOWbgc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
TEMP_USER. #5261 20.Мар.18 21:32:24: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=211&prc=25&Itemid=57#p26562">
Есть ли способ узнать на каком устройстве запущена игра?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Nex. #2 19.Ноя.13 21:05:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=658&p=1&prc=30&Itemid=57#p14905">
в Quest Navigator сделана функция GETPLAYER</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_09" head-level="h6">
<p>
19.9.  Как обновлять переменные на экране?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=DDmIxbOWbgc&t=397s">
https://www.youtube.com/watch?v=DDmIxbOWbgc&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Straginski. #4717 23.Окт.16 19:50:40: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=189&prc=25&Itemid=57#p24781">
Нужно что бы в зависимости от выбора в тексте менялась переменная</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_19_10" head-level="h6">
<p>
19.10.  Как сделать, чтобы текст выводился снизу вверх?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=yDBsyKk2TPA&t=530s">
https://www.youtube.com/watch?v=yDBsyKk2TPA&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #5197 16.Фев.18 10:53:24: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=208&prc=25&Itemid=57#p26391">
Как сделать так, чтобы текст выводился с нижней левой части экрана?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_20" head-level="h2">
<p>
20. Конкретные задачи</p>
</head>
<segment segment-class="for-head">
<head anchor="link_20_01" head-level="h6">
<p>
20.1.  Как сделать возврат на предыдущую локацию?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=v5JRRscDgSM&t=18s">
https://www.youtube.com/watch?v=v5JRRscDgSM&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Возврат на предыдущую локацию: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=751&Itemid=57">
Тема на форуме qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Драккан. #3060 07.Июл.15 13:06:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20673">
как после случайного события вернуться на локацию срабатывания этого события</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
svandrus. #3541 01.Окт.15 12:59:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=142&prc=25&Itemid=57#p21893">
При переходах с локации на локацию приходится прибегать к этому ... чтобы без проблем вернуться куда надо</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Сергей. #4700 22.Окт.16 15:40:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=189&prc=25&Itemid=57#p24764">
Как организовать мобильный телефон с функций, собственно, телефона и браузера (без возможности выбросить или выложить). По сути нужна переносимая локация в окне предметов</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NaViGaToR. #4942 26.Фев.17 02:26:42: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25296">
Хочу сделать кнопку "Назад" которая возвращала на последнюю посещенную локацию</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Amadeus. #5295 12.Апр.18 20:09:32: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=212&prc=25&Itemid=57#p26617">
Есть ли в QSP команда, которая отвечает за возврат на предыдущую локацию?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WastedCarl. #5302 02.Май.18 18:11:01: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=213&prc=25&Itemid=57#p26646">
Инветарь продуман как отдельная локация Как сделать выход с нее равносильным ?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_02" head-level="h6">
<p>
20.2.  Как проверить число на чётность?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qvSAU6PjC2E&t=18s">
https://www.youtube.com/watch?v=qvSAU6PjC2E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Вета. #3878 11.Фев.16 21:50:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=156&prc=25&Itemid=57#p22927">
если n - четное число => условие 1. если n - нечетное число => условие 2.</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lv2013. #5044 05.Май.17 10:18:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25586">
тогда вопрос еще такой, как узнать четное ли число ?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Amadeus. #5307 06.Май.18 19:47:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=213&prc=25&Itemid=57#p26657">
Есть ли возможность сделать проверку числа переменной по значению "четное/нечетное число"?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_03" head-level="h6">
<p>
20.3.  Как сделать шанс на выпадение определённой вещи?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=vR3fdzPczfU&t=18s">
https://www.youtube.com/watch?v=vR3fdzPczfU&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Готовый алгоритм на github: </tag>
<tag name="hyperlink" href="https://gist.github.com/Riateche/3038910">
https://gist.github.com/Riateche/3038910</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Драккан. #3054 06.Июл.15 23:16:52: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20665">
Есть начальная локация (после вступления), нужно добавить кнопку "прогулка". При выполнении в первый раз, должно попасться первое оружие (допустим "труба"). При последующих прогулках должно выпасть одно из 4-х действий...</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Svartberg. #4927 17.Фев.17 00:11:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=198&prc=25&Itemid=57#p25257">
уже в течении нескольких недель бьюсь головой об генератор предметов и единственной моей проблемой является вероятность выпадения предметов</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ejikplains. #5569 18.Май.19 07:58:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=223&prc=25&Itemid=57#p26730">
Есть ячейка А. В неё должен попадать предмет рандомно из немалого количества разных. Однако, у каждого предмета свой шанс на его выпадение(процент), как возможно реализовать подобное?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_04" head-level="h6">
<p>
20.4.  Как сделать, чтобы текст выводился не внизу окна основного описания, а сверху?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7uU3MeS-Sgw&t=18s">
https://www.youtube.com/watch?v=7uU3MeS-Sgw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
De@th K!d. #5496 23.Фев.19 17:21:55: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=220&prc=25&Itemid=57#p27119">
как сделать вывод текста, вбитового в основное окно, в начале локации?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_05" head-level="h6">
<p>
20.5.  Как можно удалить часть текста из описания?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qvSAU6PjC2E&t=272s">
https://www.youtube.com/watch?v=qvSAU6PjC2E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4098 15.Мар.16 21:33:23: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=164&prc=25&Itemid=57#p23381">
Можно ли как-то выборочно удалить одно из описаний, чтобы остальные остались?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_06" head-level="h6">
<p>
20.6.  Как вывести на экран HTML-разметку, не отключая режим распознавания HTML? То есть при usehtml=1</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qvSAU6PjC2E&t=128s">
https://www.youtube.com/watch?v=qvSAU6PjC2E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
svandrus. #2879 21.Май.15 08:30:41: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=116&prc=25&Itemid=57#p20092">
Как сделать так, чтобы в основном окне описаний отображались строки, содержащие теги html не отключая USEHTML?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
NickoAilus. #5190 18.Янв.18 19:21:13: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=208&prc=25&Itemid=57#p26310">
Здравствуйте... Появилась одна проблема. Мне нужно, чтобы в одном окне показывался текст с HTML-форматированием, а в другом - без. Возможно ли такое сделать?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_20_07" head-level="h6">
<p>
20.7.  Есть несколько переменных с разными значениями. Как получить имя переменной, в которой находится наибольшее значение?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=7uU3MeS-Sgw&t=562s">
https://www.youtube.com/watch?v=7uU3MeS-Sgw&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3087 15.Июл.15 10:13:19: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=124&prc=25&Itemid=57#p20760">
Имеется 4 разных числовых переменных, необходимо определить наибольшую по значению</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
sergeev_v. #3069 10.Июл.15 11:09:51: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20693">
Есть 3 числа, надо определить какое из них самое большое</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_20_08" head-level="h6">
<p>
20.8.  Как в QSP сравнить два массива?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=HGX87nDwHRY&t=18s">
https://www.youtube.com/watch?v=HGX87nDwHRY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3259 03.Авг.15 13:11:39: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=131&prc=25&Itemid=57#p21159">
По моему разумению Код:if win = fail : jump 'opp'Сверит весь массив переменных win на равенство всему массиву fail?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_09" head-level="h6">
<p>
20.9.  Как сделать вытягивание случайных карт из колоды?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=NsxbBgkI_kE&t=18s">
https://www.youtube.com/watch?v=NsxbBgkI_kE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Тянем карту из колоды: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_content&view=article&id=114:-10&catid=36:2009-02-19-06-11-21&Itemid=76">
статья на qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #3222 30.Июл.15 10:08:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=129&prc=25&Itemid=57#p21006">
Подскажите, почему зависает при исполнении? Хочу сделать рандомные значения для трех переменных, но так чтобы они не были равны</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Pin1221. #3624 04.Ноя.15 11:26:06: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=145&prc=25&Itemid=57#p22122">
Всем привет, нужна ваша помощь. Нужно, чтобы программа выбрала 3 любых случайных действия</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
D31M0S. #5504 05.Апр.19 20:56:05: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=221&prc=25&Itemid=57#p27163">
Как сделать так, чтобы программа вытаскивала карты (переменные) из колоды (массива)?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_10" head-level="h6">
<p>
20.10.  Как отсортировать данные?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе:  </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=HGX87nDwHRY&t=343s">
https://www.youtube.com/watch?v=HGX87nDwHRY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
lamerUA. #4664 19.Сен.16 06:36:26: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=187&prc=25&Itemid=57#p24659">
Идея - список учеников выстроить в порядке убывания очков.КАк?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
cleep. #5082 21.Июн.17 11:25:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=204&prc=25&Itemid=57#p25894">
Возможно ли организовать сортировку в Quest Navigator?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_11" head-level="h6">
<p>
20.11.  Как сделать проценты?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=NsxbBgkI_kE&t=472s">
https://www.youtube.com/watch?v=NsxbBgkI_kE&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Abrukt. #5360 08.Авг.18 15:28:18: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=215&prc=25&Itemid=57#p26822">
Как работают проценты в QSP?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Darvin432. #5490 16.Фев.19 18:39:57: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=220&prc=25&Itemid=57#p27101">
Как использовать проценты?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2851 13.Май.15 21:24:12: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p19996">
А как сделать проценты в игре? Допустим 25 из 100 56 из 100 и так далее?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_12" head-level="h6">
<p>
20.12.  Как решить задачу по поиску случайного набора слагаемых?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=Daa6LvyqU4Q&t=18s">
https://www.youtube.com/watch?v=Daa6LvyqU4Q&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Genryzz. #4426 01.Июн.16 23:20:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=178&prc=25&Itemid=57#p24072">
Нужно получить определенную сумму из случайных чисел. Случайные числа определенны, но их количество зависит от суммы.</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_13" head-level="h6">
<p>
20.13.  Как разредить текст пробелами?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YJT9Zk_1LJU&t=18s">
https://www.youtube.com/watch?v=YJT9Zk_1LJU&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Разрежение текста: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=962&Itemid=57">
тема на форуме qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
ItsHim. #3075 13.Июл.15 12:16:35: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=123&prc=25&Itemid=57#p20734">
Может кто-нибудь подсказать как сделать пробел через каждые три буквы/цифры сплошного слова?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_14" head-level="h6">
<p>
20.14.  Как сделать записную книжку в игре?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=YJT9Zk_1LJU&t=323s">
https://www.youtube.com/watch?v=YJT9Zk_1LJU&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
loony25. #5235 04.Мар.18 17:15:14: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=210&prc=25&Itemid=57#p26483">
появилась идея реализовать внутри нее что-то вроде "Записной книжки". Можно ли вообще такое реализовать и если да, то как?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_15" head-level="h6">
<p>
20.15.  Как сделать так, чтобы на локацию можно было зайти только один раз?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qvSAU6PjC2E&t=411s">
https://www.youtube.com/watch?v=qvSAU6PjC2E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
skunsss. #4347 10.Май.16 18:36:08: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=174&prc=25&Itemid=57#p23905">
Подскажите, пожалуйста,как сделать так что-б локация была только одноразово посещаема ?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_16" head-level="h6">
<p>
20.16.  Как заставить действия выводиться в нужном мне порядке?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=K0PN86klR_E&t=18s">
https://www.youtube.com/watch?v=K0PN86klR_E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Совёнок. #4140 21.Мар.16 15:21:47: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=166&prc=25&Itemid=57#p23467">
При запуске игры это действие появляется ниже всех остальных доступных действий. Как сделать, чтобы оно было самым первым, или находилось среди других?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_17" head-level="h6">
<p>
20.17.  Как сделать в игре книгу? Чтобы её можно было взять и потом прочитать?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=vR3fdzPczfU&t=528s">
https://www.youtube.com/watch?v=vR3fdzPczfU&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
denedi. #3690 16.Дек.15 11:23:58: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=148&prc=25&Itemid=57#p22320">
как сделать например книгу которую можно взять в инвентарь и потом прочитать?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_18" head-level="h6">
<p>
20.18.  Как сделать склад, сундук, тайник, место, в котором можно выкладывать и хранить предметы?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uK8EOCF4Mok&t=18s">
https://www.youtube.com/watch?v=uK8EOCF4Mok&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Одиночка. #2872 17.Май.15 23:17:12: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=115&prc=25&Itemid=57#p20060">
Кто нибудь подскажите, как сделать тайник?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_19" head-level="h6">
<p>
20.19.  Как сделать выпадение случайного действия на локации?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=uK8EOCF4Mok&t=465s">
https://www.youtube.com/watch?v=uK8EOCF4Mok&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Larson. #5016 22.Апр.17 20:32:04: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=201&prc=25&Itemid=57#p25514">
Как сделать чтобы при посещении локации, пусть она будет называться Портал, случайным образом выводились действия перехода на другую локацию</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_20" head-level="h6">
<p>
20.20.  Как сделать перемещение на случайную локацию?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=yDBsyKk2TPA&t=18s">
https://www.youtube.com/watch?v=yDBsyKk2TPA&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lv2013. #5027 28.Апр.17 11:20:54: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25555">
Я может где то что то упустил но я немного не понял как создать правильным путем случайное событие так чтоб в итоге попасть на нужную локацию</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
WastedCarl. #5220 22.Фев.18 20:42:50: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=209&prc=25&Itemid=57#p26435">
Можно ли сделать так что бы действие переносило на рандомную локацию</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Andrik2219. #5473 06.Фев.19 12:30:27: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=219&prc=25&Itemid=57#p27075">
Всем привет. Подскажите про систему рандомизации что бы при заходе на определенную локацию перекидывало на одну из рандомных локаций</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_20_21" head-level="h6">
<p>
20.21.  Как сделать случайный предмет?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=yDBsyKk2TPA&t=288s">
https://www.youtube.com/watch?v=yDBsyKk2TPA&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Lv2013. #5031 28.Апр.17 16:34:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=202&prc=25&Itemid=57#p25560">
в данный момент я делаю случайные события которые происходят с персонажем от простых типа подобрать монетку до квестов</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Cow. #3927 24.Фев.16 23:15:48: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=158&prc=25&Itemid=57#p23110">
Допустим у меня есть 10 предметов, и надо сделать так, чтобы выбралось рандомом один из них</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_20_22" head-level="h6">
<p>
20.22.  Как узнать, какие переменные есть в игре? Может для этого есть специальная команда?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=qvSAU6PjC2E&t=553s">
https://www.youtube.com/watch?v=qvSAU6PjC2E&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #3140 22.Июл.15 23:11:53: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=126&prc=25&Itemid=57#p20860">
а есть ли какая возможность узнать количество переменных в игре?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_21" head-level="h2">
<p>
21. Вопросы о Quest Generator (v.4.0.0 beta)</p>
</head>
<segment segment-class="for-head">
<head anchor="link_21_01" head-level="h6">
<p>
21.1.  Мне часто приходится вставлять одинаковые или почти одинаковые кусочки кода. Как автоматизировать этот процесс?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=nZtsLkiOv0o&t=197s">
https://www.youtube.com/watch?v=nZtsLkiOv0o&</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_21_02" head-level="h6">
<p>
21.2.  Делаю преформатирование пробелами, чтобы появлялась вертикальная полоска, так нагляднее. Нет ли какой-то комбинации клавиш, чтобы не тыкать пробел по пять раз?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=nZtsLkiOv0o&t=478s">
https://www.youtube.com/watch?v=nZtsLkiOv0o&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
saks. #3498 16.Сен.15 20:29:14: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=140&prc=25&Itemid=57#p21719">
многие используют в кодах отступы чтобы выделять куски кода, и пунктирную линию ведущую от начала куска до его завершения. естли какаято комбинация клавиш или настройка чтобы не тыкать пробелы для отступа или все тыкают пробелы?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_21_03" head-level="h6">
<p>
21.3.  Как свернуть кусочек кода, написанный под комментарием?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=nZtsLkiOv0o&t=629s">
https://www.youtube.com/watch?v=nZtsLkiOv0o&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Chaos Legion. #3967 03.Мар.16 21:37:43: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=159&prc=25&Itemid=57#p23194">
Есть ли способ или какая то разметка, али мудрость народная, чтобы все это красиво свернуть? В идеале, чтобы оставался один коммент</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
<head anchor="link_23" head-level="h2">
<p>
22. Ограничения</p>
</head>
<segment segment-class="for-head">
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Ограничения QSP: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=392&Itemid=57">
Тема на форуме qsp.su</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_23_01" head-level="h6">
<p>
22.1.  Видел в справке ограничение на 100 подключаемых файлов. Это что, я не смогу использовать более ста файлов картинок и музыки?</p>
</head>
<segment segment-class="for-head">
<segment>
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=5pSZ3-itIOY&t=18s">
https://www.youtube.com/watch?v=5pSZ3-itIOY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Белый Шарик. #2944 09.Июн.15 09:03:49: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=118&prc=25&Itemid=57#p20327">
Видел в ограничениях программы - использование не более 100 подключаемых файлов. Т.е. в каждой игре я смогу использовать, например 70 картинок и 30 звуков = 100 файлов, не более?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
mkir. #5140 06.Сен.17 03:29:25: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=206&prc=25&Itemid=57#p26114">
Скорее всего, я что-то путаю и даже догадываюсь что, но точно помню, об ограничении подключаемых файлов в 100, однако, например, в этой игре их несколько тысяч. Получается, о чем здесь шла речь?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
<head anchor="link_23_02" head-level="h6">
<p>
22.2.  Хочу разместить на локации около 100 действий. Это вообще возможно?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=5pSZ3-itIOY&t=103s">
https://www.youtube.com/watch?v=5pSZ3-itIOY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
De@th K!d. #3619 03.Ноя.15 20:28:49: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=145&prc=25&Itemid=57#p22117">
Каково максимальное число действий, которые можно впихнуть на одну локацию?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
<head anchor="link_23_03" head-level="h6">
<p>
22.3.  Генерирую переменные с помощью оператора dynamic, и вдруг выходит ошибка 123. Что это, и как с этим бороться?</p>
</head>
<segment segment-class="for-head">
<p>
<tag name="simple-string">
Смотреть ответ на ютубе: </tag>
<tag name="hyperlink" href="https://www.youtube.com/watch?v=5pSZ3-itIOY&t=144s">
https://www.youtube.com/watch?v=5pSZ3-itIOY&</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DaGrozz. #3806 27.Янв.16 11:25:37: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=153&prc=25&Itemid=57#p22690">
Так вот вопрос первый, так как нпс около 2000-2500 и этот массив постоянно растет в какой момент будет слишком большой индекс массива, как тут хотя бы приблизительно прикинуть?</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
DaGrozz. #3836 03.Фев.16 15:06:30: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=154&prc=25&Itemid=57#p22850">
Ошибка 123 Слишком много переменных с одинаковым хэшем!</tag>
<tag name="simple-string">

</tag>
</p>
<p>
<tag name="simple-string">
Small Jerboa. #3875 11.Фев.16 00:43:13: </tag>
<tag name="hyperlink" href="https://qsp.org/index.php?option=com_agora&task=topic&id=40&p=155&prc=25&Itemid=57#p22916">
Надо по вставлять кучу (предполагаю 5-10 тысяч строк) текста в строковых переменных. Лучше сделать это через обычные переменные? какой из вариантов будет меньше памяти жрать, быстрее работать, меньше ограничений на применение?</tag>
<tag name="simple-string">

</tag>
</p>
</segment>
</segment>
</segment>
</file>
</folder>
</folder>
