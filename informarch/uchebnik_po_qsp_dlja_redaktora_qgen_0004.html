<!DOCTYPE html>
<html lang="ru">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link id="favicon" rel="icon" type="image/x-icon" href="../res/favicon.ico" />
    <link type="text/css" rel="stylesheet" href="../res/css/easy.library.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/offline.window.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/qsp_code.css" />
    <link type="text/css" rel="stylesheet" href="../res/css/qsp_code.css" />
    <title>QSP: ИнформАрхив</title>
</head>
    
<body>
    <div class="em_Main">
        <div class="em_AROUND">
            <h1>ИнформАрхив QSP</h1>
            <!-- body start -->
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/informarch/nash_put__0003.html" class="emHREFTT">&lt; Назад, к странице 3</a></div><div><a href="https://aleksversus.github.io/howdo_faq/informarch/lokalizatsija_qsp_0005.html" class="emHREFTT">Вперёд, к странице 5 &gt;</a></div></div>
<a id="qgen_teach"></a><h2>Учебник по QSP для редактора QGen</h2>
<p>
Перед вами - учебник для написания игр в программе QGen.

</p>
<p>
Он создан для авторов, не имеющих опыта в программировании.

</p>
<p>
Последовательно и внимательно выполнив все задания из учебника, вы освоите QSP настолько, чтобы самостоятельно создавать свои игры. Благодаря подробным инструкциям и скриншотам, а также простоте языка QSP, это будет несложно.

</p>
<p>
Этот учебник будет вам полезен только в том случае, если вы будете на самом деле выполнять описанные в нем задания. Простое "чтение" уроков, а также "выполнение в уме" сведет эффект учебника к нулю. Выполнять уроки следует только в той последовательности, в которой они написаны, не пропуская ни одного.

</p>
<p>
Для того, чтобы приступить к выполнению заданий, убедитесь, что вы

</p>
<ul>
<li>
Установили <a href="https://qsp.org/index.php?option=com_content&view=article&id=64&Itemid=56" style="text-decoration:none;" class="emFOLD">плеер QSP</a>
</li>
<li>
Скачали и распаковали <a href="https://qsp.org/index.php?option=com_content&task=view&id=46&Itemid=56" style="text-decoration:none;" class="emFOLD">редактор QGen</a>
</li>
<li>
Скачали справку по QSP со страницы <a href="https://qsp.org/index.php?option=com_content&view=article&id=57&Itemid=56" style="text-decoration:none;" class="emFOLD">"Разработчикам"</a>
</li>
</ul>
<p>
Всё есть? Смело приступаем к первому уроку!

</p>
<a id="иXZЮ"></a><h3>Урок первый. Создаём игру.</h3>
<p>
Запускаем QGen. Выбираем меню "Утилиты\Настройки".

</p>
<p>
<img src="https://i.ibb.co/PQw0fKD/tut1-01.png" class="em_IMG">

</p>
<p>
Открываем вкладку "Пути".

</p>
<p>
<img src="https://i.ibb.co/GCcNWnm/tut1-02.png" class="em_IMG">

</p>
<p>
Указываем "Путь к плееру" и "Путь к справке". Нажимаем "ОК".

</p>
<p>
Игровые локации - это небольшие части, на которые мы делим игру.

</p>
<p>
Создаём локацию. Нажимаем зелёный крестик.

</p>
<p>
<img src="https://i.ibb.co/1RV6q5R/tut1-03.png" class="em_IMG">

</p>
<p>
В появившемся окне пишем название локации - в нашем уроке она будет называться "Начало".

</p>
<p>
<img src="https://i.ibb.co/njrhhyt/tut1-04.png" class="em_IMG">

</p>
<p>
Нажимаем "ОК".

</p>
<p>
В поле описания локации(курсор находится в нём по умолчанию) пишем

</p>
<div class="Monokai-Code">
Привет,&nbsp;мир!<br>

</div>
<p>
<img src="https://i.ibb.co/rdCb1Y7/tut1-05.png" class="em_IMG">

</p>
<p>
Выбираем "Игра\Сохранить".

</p>
<p>
<img src="https://i.ibb.co/JF9TG1T/tut1-06.png" class="em_IMG">

</p>
<p>
Пишем имя для файла, в котором будет храниться игра - "учебная".

</p>
<p>
<img src="https://i.ibb.co/1rHyJjr/tut1-07.png" class="em_IMG">

</p>
<p>
Нажимаем "Сохранить".

</p>
<p>
Появится окошко для ввода пароля.

</p>
<p>
<img src="https://i.ibb.co/sPT90fz/tut1-08.png" class="em_IMG">

</p>
<p>
Ничего вводить не нужно, нажимаем "OK".

</p>
<p>
Запускаем игру, для этого нажимаем синий треугольник.

</p>
<p>
<img src="https://i.ibb.co/2hZ67BB/tut1-09.png" class="em_IMG">

</p>
<p>
Запустится плеер QSP с нашей игрой.

</p>
<p>
<img src="https://i.ibb.co/LxtXFMZ/tut1-10.png" class="em_IMG">

</p>
<p>
Закрываем окно плеера. В поле "Выполнить при посещении" пишем

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">showstat</span>&nbsp;<span class="Monokai-Numeric">0</span><br>
<span class="Monokai-Operator">showinput</span>&nbsp;<span class="Monokai-Numeric">0</span><br>


</div>
<p>
<img src="https://i.ibb.co/51TmpqZ/tut1-11.png" class="em_IMG">

</p>
<p>
<span class="em_BLCK"><span class="emTEXT">"SHOWSTAT 0"</span></span> означает, что мы отключаем "окно дополнительных описаний", <span class="em_BLCK"><span class="emTEXT">"SHOWINPUT 0"</span></span> - отключаем "поле ввода". В наших уроках они использоваться не будут, и поэтому для нашей игры их стоит отключить.

</p>
<p>
Запускаем. Смотрим, что изменилось:

</p>
<p>
<img src="https://i.ibb.co/jkMStvw/tut1-12.png" class="em_IMG">

</p>
<p>
Итог: в этом уроке мы научились делать начальную настройку QGen, сохранять игру, создавать игровые локации, показывать текст в поле описания, отключать неиспользуемые окна и запускать игру прямо из QGen.

</p>
<a id="ЫМцэ"></a><h3>Урок второй. Переходы по локациям.</h3>
<p>
В описании локации "Начало" удаляем строку "Привет, мир!" и пишем

</p>
<div class="Monokai-Code">
Новое&nbsp;приключение&nbsp;героя.<br>

</div>
<p>
Создаём локации "Об игре", "Об авторе".

</p>
<p>
В описании локации "Об игре" пишем

</p>
<div class="Monokai-Code">
Перед&nbsp;вами&nbsp;величайшая&nbsp;игра&nbsp;всех&nbsp;времён.&nbsp;И&nbsp;народов.&nbsp;Точно.<br>

</div>
<p>
В описании локации "Об авторе" пишем

</p>
<div class="Monokai-Code">
Автор&nbsp;сей&nbsp;замечательной&nbsp;игры&nbsp;-&nbsp;великолепен&nbsp;и&nbsp;неподражаем.&nbsp;Вы&nbsp;сами&nbsp;сможете&nbsp;убедиться&nbsp;в&nbsp;этом,&nbsp;поиграв&nbsp;в&nbsp;мою&nbsp;игру.<br>

</div>
<p>
У нас есть три локации, осталось связать их вместе, сделать переходы между локациями. Для этого нам нужно добавить "действия" для каждой локации.

</p>
<p>
Выбираем в списке слева локацию "Начало" двойным щелчком мыши.

</p>
<p>
<img src="https://i.ibb.co/kHfd5kt/tut2-01.png" class="em_IMG">

</p>
<p>
Откроется вкладка с заголовком "Начало".

</p>
<p>
<img src="https://i.ibb.co/7vXTRvm/tut2-02.png" class="em_IMG">

</p>
<p>
В нижней части окна есть кнопка "Добавить действие", нажимаем её.

</p>
<p>
<img src="https://i.ibb.co/bXnzR5F/tut2-03.png" class="em_IMG">

</p>
<p>
В появившемся диалоговом окне вводим название действия - "Об игре".

</p>
<p>
<img src="https://i.ibb.co/sFmSw1K/tut2-04.png" class="em_IMG">

</p>
<p>
В поле для ввода текста, находящемся правее и ниже названия действия, пишем

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-String">'Об&nbsp;игре'</span><br>


</div>
<p>
<img src="https://i.ibb.co/st0HjjJ/tut2-05.png" class="em_IMG">

</p>
<p>
С помощью оператора GOTO мы указываем, на какую локацию будет осуществляться переход.

</p>
<p>
Таким образом, мы создали переход с локации "Начало" на локацию "Об игре".

</p>
<p>
Добавим ещё одно действие на локации "Начало". Нажимаем Alt+F7, вводим имя действия - "Об авторе". Задаём команду перехода, пишем

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-String">'Об&nbsp;авторе'</span><br>


</div>
<p>
Выбираем локацию "Об игре".

</p>
<p>
Создаём действие "Вернуться", в нём указываем переход на локацию "Начало".

</p>
<p>
Выбираем локацию "Об авторе".

</p>
<p>
Аналогично, создаём действие "Вернуться" - переход на локацию "Начало".

</p>
<p>
Теперь у нас есть три локации, связанные переходами.

</p>
<p>
Запускаем игру, смотрим, что получилось.

</p>
<p>
<img src="https://i.ibb.co/f9d4RSc/tut2-06.png" class="em_IMG">

</p>
<p>
Нажимая действия, мы сможем свободно перемещаться между локациями.

</p>
<p>
Итог: в этом уроке мы научились создавать действия, осуществлять переходы по локациям.

</p>
<a id="AГфe"></a><h3>Урок третий. Простейшая игра с выбором</h3>
<p>
Создаём локацию "Развилка". В описании пишем:

</p>
<div class="Monokai-Code">
Вышел&nbsp;герой&nbsp;к&nbsp;реке,&nbsp;куда&nbsp;дальше&nbsp;идти?<br>

</div>
<p>
Создаём локацию "Выиграл". В описании пишем:

</p>
<div class="Monokai-Code">
Переплыл&nbsp;герой&nbsp;реку&nbsp;и&nbsp;завершил&nbsp;своё&nbsp;приключение&nbsp;с&nbsp;победой.<br>

</div>
<p>
Создаём локацию "Проиграл". В описании пишем:

</p>
<div class="Monokai-Code">
Брёл&nbsp;герой&nbsp;вдоль&nbsp;берега,&nbsp;брёл.&nbsp;А&nbsp;потом&nbsp;его&nbsp;съел&nbsp;медведь.&nbsp;Так&nbsp;наш&nbsp;герой&nbsp;проиграл.<br>

</div>
<p>
Мы создали три игровые локации, теперь сделаем переходы между ними.

</p>
<p>
В локации "Начало" создаём действие "Играть" с переходом в локацию "Развилка".

</p>
<p>
В локации "Развилка" создаём три действия: "Переплыть реку" с переходом в локацию "Выиграл"; "Налево вдоль реки" и "Направо вдоль реки" с переходом в локацию "Проиграл".

</p>
<p>
В локации "Проиграл" создаём действие "Начать сначала" с переходом на локацию "Начало".

</p>
<p>
Запускаем. Первая игра готова!

</p>
<p>
Итог: в этом уроке мы научились создавать в игре выбор, от которого зависит развитие сюжета.

</p>
<a id="Iuvг"></a><h3>Урок четвертый. Переменные.</h3>
<p>
Переменные - это "память" игры.

</p>
<p>
В переменных хранится информация обо всем, что изменяется в процессе игры. Автор называет переменные так, как ему удобно, главное следить за тем, чтобы в имени переменной не было других знаков, кроме букв, цифр и символов подчеркивания. Пробелы в имени не допускаются, для разделения пользуйтесь подчеркиванием, вот так: <span class="em_BLCK">моя_первая_переменная</span>. Если в начале имени стоит знак "$", значит, в переменной хранится текст, если нет, то в ней хранится число.

</p>
<p>
Основные действия с переменными, это запись, чтение и вывод.

</p>
<a id="Lгхu"></a><h4>Запись</h4>
<p>
Когда мы говорим плееру, "в переменной a будет храниться значение 5" - это запись в переменную. Также запись назвают "присваиванием", это одно и то же.

</p>
<p>
В коде это выглядит так:

</p>
<div class="Monokai-Code">
a&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">5</span><br>


</div>
<p>
Мы записали в переменную "a" числовое значение 5. Знак "=" здесь не обозначает равенство, как в математике, он обозначает операцию присваивания. Переменная, в которую мы записываем значение, должна всегда стоять слева от знака "=".

</p>
<p>
Как же записать в переменную не число, а текстовую строку? Очень просто. Во-первых, не забываем ставить знак "$" в начале имени переменной. Во-вторых, заключаем строку в апострофы.

</p>
<div class="Monokai-Code">
$строка&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-String">'Быть&nbsp;или&nbsp;не&nbsp;быть?'</span><br>


</div>
<p>
Мы записали в переменную "$строка" текстовое значение "Быть или не быть?"

</p>
<a id="bQыЪ"></a><h4>Чтение</h4>
<p>
Чаще всего, значение переменной нам требуется для нового присваивания, либо для проверки условия.

</p>
<p>
Вот, например, мы прибавляем 10 к переменной "a", и записываем результат в переменную "k".

</p>
<div class="Monokai-Code">
k&nbsp;<span class="Monokai-Operator">=</span>&nbsp;a&nbsp;<span class="Monokai-Operator">+</span>&nbsp;<span class="Monokai-Numeric">10</span><br>


</div>
<p>
Допустим, в переменной "a" было записано 5. Тогда k = 5 + 10 = 15. В переменной "k" теперь хранится значение 15. Обратите внимание, в этой строке кода было произведено чтение значения переменной "a", вычисление выражения "a + 10", и запись результата в переменную "k".

</p>
<p>
Уменьшаем значение переменной "k" на 2.

</p>
<div class="Monokai-Code">
k&nbsp;<span class="Monokai-Operator">=</span>&nbsp;k&nbsp;<span class="Monokai-Operator">-</span>&nbsp;<span class="Monokai-Numeric">2</span><br>


</div>
<p>
В переменной "k" было записано 15. Значит, k = 15 - 2 = 13. Теперь в переменной "k" хранится значение 13.

</p>
<p>
Для текстовых переменных существует операция "склеивания строк", записывается она знаком "+".

</p>
<div class="Monokai-Code">
$вопрос&nbsp;<span class="Monokai-Operator">=</span>&nbsp;$строка&nbsp;<span class="Monokai-Operator">+</span>&nbsp;<span class="Monokai-String">'&nbsp;Вот&nbsp;в&nbsp;чем&nbsp;вопрос.'</span><br>


</div>
<p>
Теперь в переменной "$вопрос" хранится текстовое значение "Быть или не быть? Вот в чем вопрос."

</p>
<p>
Использование переменных в условиях мы разберем в следующем уроке.

</p>
<a id="iggа"></a><h4>Вывод</h4>
<p>
Для вывода используйте двойные угловые скобки, "&lt;&lt;" и "&gt;&gt;". Между двойными угловыми скобками напишите имя переменной, например "&lt;&lt;$вопрос&gt;&gt;", или "&lt;&gt;", и при выводе плеер сам подставит текущее значение переменной, при этом угловые скобки выведены на экран не будут.

</p>
<a id="TЭШх"></a><h4>Применяем знания</h4>
<p>
Начнем применять переменные на практике. Создайте новую игру, назовите ее "Planet Master".

</p>
<p>
<span class="em_BLCK">Локация "Начало"</span>

</p>
<p>
Создайте локацию "Начало", в описании напишите "Создайте свою планету и сможете управлять ей в меру своих скромных возможностей."

</p>
<p>
В коде локации(поле "выполнить при посещении") отключите неиспользуемые окна. На этот раз окно инвентаря нам не понадобится, поэтому его тоже отключаем.

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">SHOWSTAT</span>&nbsp;<span class="Monokai-Numeric">0</span><br>
<span class="Monokai-Operator">SHOWINPUT</span>&nbsp;<span class="Monokai-Numeric">0</span><br>
<span class="Monokai-Operator">SHOWOBJS</span>&nbsp;<span class="Monokai-Numeric">0</span><br>


</div>
<p>
Создайте действие "Создать планету" с переходом на локацию "СоздатьПланету".

</p>
<p>
<span class="em_BLCK">Локация "СоздатьПланету"</span>

</p>
<p>
Создайте локацию "СоздатьПланету". В коде локации пишем

</p>
<div class="Monokai-Code">
$Имя&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Func">$INPUT</span><span class="Monokai-Operator">(</span><span class="Monokai-String">'Придумайте&nbsp;имя&nbsp;для&nbsp;своей&nbsp;планеты.'</span><span class="Monokai-Operator">)</span><br>
Температура&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">100</span><br>
<span class="Monokai-String">'Ваша&nbsp;планета&nbsp;называется&nbsp;&lt;&lt;$Имя&gt;&gt;.'</span><br>


</div>
<p>
Рассмотрим подробно.

</p>
<p>
В первой строке, мы просим игрока ввести имя для планеты. В скобках функции INPUT указано приглашение, которое прочтет игрок. Текст, который введет игрок, будет сохранен в текстовой переменной $Имя.

</p>
<p>
Вторая строка задает значение для числовой переменной Температура. В этой переменной будет храниться текущая температура для планеты.

</p>
<p>
В третьей строке на экран описания локации выводится текст. В выводимом тексте, вместо выражения &lt;&lt;$Имя&gt;&gt; плеер подставит значение переменной $Имя, то есть тот текст, который ввел игрок. Если игрок ввел "Персефона", то на экране будет написано "Ваша планета называется Персефона."

</p>
<p>
Создайте действие "Управлять планетой" с переходом на локацию "Планета".

</p>
<p>
<span class="em_BLCK">Локация "Планета"</span>

</p>
<p>
Создайте локацию "Планета". В описании локации пишем

</p>
<div class="Monokai-Code">
Имя&nbsp;планеты:&nbsp;<<$Имя>><br>
Температура&nbsp;на&nbsp;планете:&nbsp;<<Температура>>&nbsp;градусов.<br>

</div>
<p>
При выводе на экран, вместо <span class="em_BLCK">&lt;&lt;$Имя&gt;&gt;</span> и <span class="em_BLCK">&lt;&lt;Температура&gt;&gt;</span> будут подставлены значения указанных переменных.

</p>
<p>
Нам нужно, чтобы игрок мог изменить температуру на планете. Для этого сделаем несколько действий, в которых будет меняться переменная Температура.

</p>
<p>
Создайте действие "Поднять температуру на 10 градусов".

</p>
<p>
В коде действия пишем

</p>
<div class="Monokai-Code">
Температура&nbsp;<span class="Monokai-Operator">=</span>&nbsp;Температура&nbsp;<span class="Monokai-Operator">+</span>&nbsp;<span class="Monokai-Numeric">10</span><br>
<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-Func">$CURLOC</span><br>


</div>
<p>
В первой строке, мы увеличиваем на 10 единиц значение переменной Температура. Если температура планеты была 100 градусов, то при выборе этого действия температура планеты станет 110 градусов, и так далее.

</p>
<p>
Вторая строка задает переход на текущую локацию. <span class="em_BLCK"><span class="emFUNC">$CURLOC</span></span> - специальная функция, которая всегда возвращает имя текущей локации, в нашем случае это локация "Планета".

</p>
<p>
Зачем же нам "переходить" на локацию, на которой мы и так уже находимся? Это нужно для того, чтобы обновить текст описания локации. Переменная Температура была изменена, но изменения в описании появятся только при "входе" на локацию, поэтому мы должны явно задать переход.

</p>
<p>
Создайте аналогичное действие "Снизить температуру на 10 градусов".

</p>
<p>
Создайте действие "Установить комнатную температуру". Код действия:

</p>
<div class="Monokai-Code">
Температура&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">25</span><br>
<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-Func">$CURLOC</span><br>


</div>
<p>
При выборе этого действия, температура планеты станет 25 градусов, вне зависимости от того, какой она была. Обычное присваивание.

</p>
<p>
Создайте действие "Создать новую планету" с переходом на локацию "СоздатьПланету". Когда игроку надоест одна планета, он может выбрать это действие и создать новую.

</p>
<p>
Игра готова!

</p>
<p>
<img src="https://i.ibb.co/h2pmr17/tut4-01.png" class="em_IMG">

</p>
<p>
Итог: в этом уроке мы узнали, что такое переменная, как вывести значение переменной на экран, какие операции возможны с переменными.

</p>
<a id="шОOV"></a><h3>Урок пятый. Условия</h3>
<p>
Условия - самый важный и мощный инструмент в разработке текстовой игры. Автору требуется не только вести учет состояния игры(переменные), но и делать прохождение игры зависящим от изменившегося состояния. Для этих целей в QSP есть условный оператор - "IF".

</p>
<p>
Записывается так:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;условие&nbsp;<span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;действие1<br>
<span class="Monokai-Koperator">ELSE</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;действие2<br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Если <span class="em_BLCK">условие</span> выполняется, то будет выполнено <span class="em_BLCK">действие1</span>, если нет - <span class="em_BLCK">действие2</span>.

</p>
<p>
Когда нам требуется задать только <span class="em_BLCK">действие1</span>, запись будет короче:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;условие&nbsp;<span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;действие1<br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Напишем игру, в которой прохождение будет зависеть от того, побывал ли игрок на некоторой локации.

</p>
<p>
<span class="em_BLCK">Локация "Начало"</span>

</p>
<p>
Создайте локацию "Начало", в описании напишите "Игра про космос."

</p>
<p>
В коде локации отключите неиспользуемые окна. Окно инвентаря в этой игре не понадобится, поэтому его тоже отключаем. Для удобного перезапуска игры из локации проигрыша, добавим оператор KILLALL, он очищает все переменные и инвентарь. Теперь достаточно сделать переход на локацию "Начало", чтобы состояние игры было "сброшено".

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">KILLALL</span><br>
<span class="Monokai-Operator">SHOWINPUT</span>&nbsp;<span class="Monokai-Numeric">0</span><br>
<span class="Monokai-Operator">SHOWSTAT</span>&nbsp;<span class="Monokai-Numeric">0</span><br>
<span class="Monokai-Operator">SHOWOBJS</span>&nbsp;<span class="Monokai-Numeric">0</span><br>


</div>
<p>
Создайте действие "Играть" с переходом на локацию "Играть".

</p>
<p>
<span class="em_BLCK">Локация "Играть"</span>

</p>
<p>
Создайте локацию "Играть". В описании пишем: "Вы долго исследовали пояс астероидов и настала пора возвращаться на Землю."

</p>
<p>
Создайте действие "Связаться с диспетчером" с переходом на локацию "Диспетчер".

</p>
<p>
Создайте действие "Лететь на Землю". В коде действия пишем условие:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;Курс_Полёта&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-String">'Победа'</span><br>
<span class="Monokai-Koperator">ELSE</span><br>
&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-String">'Проигрыш'</span><br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Рассмотрим подробно.

</p>
<p>
Мы проверяем значение переменной <span class="em_BLCK">Курс_Полёта</span>. Условие "Курс_Полёта = 1" означает "Значение переменной Курс_Полёта должно равняться 1". Если значение равняется <span class="em_BLCK"><span class="emNUM">1</span></span>, то при нажатии этого действия будет переход на локацию "Победа", иначе - переход на локацию "Проигрыш".

</p>
<p>
Локация "Диспетчер"

</p>
<p>
Создайте локацию "Диспетчер". В описании пишем

</p>
<div class="Monokai-Code">
&nbsp;-&nbsp;Вызываю&nbsp;диспетчера,&nbsp;вызываю&nbsp;диспетчера.<br>
&nbsp;-&nbsp;Диспетчер&nbsp;на&nbsp;связи,&nbsp;высылаю&nbsp;вам&nbsp;курс&nbsp;полёта&nbsp;через&nbsp;пояс&nbsp;астероидов&nbsp;до&nbsp;Земли.<br>
&nbsp;-&nbsp;Курс&nbsp;полёта&nbsp;принял.<br>

</div>
<p>
В коде локации пишем

</p>
<div class="Monokai-Code">
Курс_Полёта&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>


</div>
<p>
Здесь мы "запоминаем", что игрок зашел в локацию, записав в переменную Курс_Полёта значение 1. Если игрок не заходил в локацию, то значение переменной будет 0.

</p>
<p>
Создайте действие "Завершить сеанс связи" с переходом на локацию "Играть".

</p>
<p>
<span class="em_BLCK">Локация "Победа"</span>

</p>
<p>
Создайте локацию "Победа". В описании локации пишем: "Вы благополучно долетели до Земли. Хорошо, что вы связались с диспетчером и получили у него курс полёта."

</p>
<p>
<span class="em_BLCK">Локация "Проигрыш"</span>

</p>
<p>
Создайте локацию "Проигрыш". В описании пишем: "Лететь без курса полёта через пояс астероидов - чистой воды самоубийство. Вам не повезло и один из астероидов протаранил ваш корабль, так что на Земле вас так и не дождались."

</p>
<p>
Создайте действие "Начать сначала" с переходом на локацию "Начало".

</p>
<p>
Игра готова!

</p>
<p>
<img src="https://i.ibb.co/5MdqckD/tut5-01.png" class="em_IMG">

</p>
<p>
Итог: в этом уроке мы научились использовать условия.

</p>
<a id="JАЫе"></a><h3>Урок шестой. Берём предметы</h3>
<p>
В текстовых играх часто применяются предметы. Для того, чтобы игрок всегда знал, какие предметы у него с собой, в QSP есть специальное окно инвентаря(с заголовком "Предметы"). Когда игрок берет предмет, тот появляется в инвентаре.

</p>
<p>
Для того, чтобы добавить предмет в инвентарь, используется оператор <span class="em_BLCK"><span class="emOPRT">ADDOBJ</span></span>, для того, чтобы удалить предмет из инвентаря, используется оператор <span class="em_BLCK"><span class="emOPRT">DELOBJ</span></span>.

</p>
<p>
Записывается так:

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Название&nbsp;предмета'</span><br>
<span class="Monokai-Operator">DELOBJ</span>&nbsp;<span class="Monokai-String">'Название&nbsp;предмета'</span><br>


</div>
<p>
Есть три основных способа брать предмет, рассмотрим каждый на примере.

</p>
<p>
Создайте локацию "Начало", с описанием "Игра про гномов." и действием с переходом на локацию "Играть". Отключите неиспользуемые окна - дополнительное описание и строку ввода.

</p>
<p>
Создайте локацию "Играть". В описании напишите:

</p>
<div class="Monokai-Code">
Вы&nbsp;спасли&nbsp;гномьего&nbsp;короля&nbsp;от&nbsp;смерти&nbsp;в&nbsp;лапах&nbsp;тигра.<br>
&nbsp;-&nbsp;Бери&nbsp;алмазов&nbsp;сколько&nbsp;захочешь,&nbsp;бери&nbsp;рубинов,&nbsp;сколько&nbsp;унесёшь,&nbsp;бери&nbsp;Меч&nbsp;Справедливости,&nbsp;он&nbsp;у&nbsp;нас&nbsp;один.<br>

</div>
<p>
Берем предметы без ограничений.

</p>
<p>
Напишем действие для того, чтобы брать алмазы. Создайте действие "Взять алмаз". В коде действия пишем:

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Алмаз'</span><br>


</div>
<p>
Действие готово. Теперь, когда игрок выберет это действие, в инвентаре добавится предмет "Алмаз". Сколько раз нажмет, столько алмазов добавится, без ограничений по количеству.

</p>
<p>
Берем не более 5 предметов.

</p>
<p>
Напишем действие для того, чтобы брать рубины. По замыслу игры, игроку позволено взять только 5 рубинов. Создайте действие "Взять рубин". В коде действия пишем:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;Количество_Рубинов&nbsp;<span class="Monokai-Operator">&lt;</span>&nbsp;<span class="Monokai-Numeric">5</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Рубин'</span><br>
&nbsp;&nbsp;Количество_Рубинов&nbsp;<span class="Monokai-Operator">=</span>&nbsp;Количество_Рубинов&nbsp;<span class="Monokai-Operator">+</span>&nbsp;<span class="Monokai-Numeric">1</span><br>
<span class="Monokai-Koperator">ELSE</span><br>
&nbsp;&nbsp;<span class="Monokai-String">'Жадность&nbsp;не&nbsp;порок,&nbsp;но&nbsp;вы&nbsp;не&nbsp;можете&nbsp;унести&nbsp;больше,&nbsp;чем&nbsp;уже&nbsp;взяли.'</span><br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
В этом действии делается проверка на количество рубинов, которые уже взял игрок. Если количество рубинов меньше 5, то он может взять еще один рубин. Если нет, то выводим строку текста.

</p>
<p>
Обратите внимание на строку

</p>
<div class="Monokai-Code">
Количество_Рубинов&nbsp;<span class="Monokai-Operator">=</span>&nbsp;Количество_Рубинов&nbsp;<span class="Monokai-Operator">+</span>&nbsp;<span class="Monokai-Numeric">1</span><br>


</div>
<p>
Здесь переменная "Количество_Рубинов" увеличивается на 1 каждый раз, когда игрок берет рубин. Такую переменную называют "счетчиком". Пока игрок не взял ни одного рубина, в этой переменной будет значение 0. Когда игрок будет брать рубины, это значение будет увеличиваться, пока не достигнет максимального значения 5.

</p>
<p>
Берем только один предмет.

</p>
<p>
Напишем действие для того, чтобы взять меч. Это действие будет присутствовать на локации только в том случае, если игрок еще не взял меч. Поэтому мы не создадим действие как обычно, а напишем его в коде самой локации, "обернув" его в условие. Пишем в коде локации:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;Меч&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">0</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">ACT</span>&nbsp;<span class="Monokai-String">'Взять&nbsp;Меч&nbsp;Справедливости'</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Меч&nbsp;Справедливости'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;Меч&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-Func">$CURLOC</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">END</span><br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Переменная "Меч" принимает всего два значения: 0 и 1. Такую переменную назвают "флажком". Изначально в переменной "Меч", как и в любой другой числовой переменной, хранится значение 0. Условие "Меч = 0" выполняется, и действие "Взять Меч Справедливости" добавляется в список действий.

</p>
<p>
Рассмотрим подробно, что произойдет, когда игрок выберет это действие.

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Меч&nbsp;Справедливости'</span><br>


</div>
<p>
В инвентарь добавляется предмет "Меч Справедливости".

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;Меч&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>


</div>
<p>
В переменную "Меч" записывается значение 1. Мы "установили флажок", теперь игра "помнит", что игрок взял меч.

</p>
<div class="Monokai-Code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-Func">$CURLOC</span><br>


</div>
<p>
Переход на текущую локацию. Заново выводится описание локации, заполняется список действий, и выполняется код локации. Условие "Меч = 0" не выполнится, и поэтому действие "Взять Меч Справедливости" не будет добавлено.

</p>
<p>
Итог: в этом уроке мы научились брать предметы тремя способами - без ограничений, с ограничением по количеству, и однократно.

</p>
<a id="хъiы"></a><h3>Урок седьмой. Применение предметов</h3>
<p>
Основной способ сделать "применение" предмета в игре - создать действие, которое будет доступно только при наличии предмета в инвентаре. Рассмотрим на примере.

</p>
<p>
<span class="em_BLCK">Локация "Начало"</span>

</p>
<p>
Создайте локацию "Начало", с описанием "Игра про Дверь." и действием с переходом на локацию "Комната". Отключите строку ввода.

</p>
<p>
<span class="em_BLCK">Локация "Комната"</span>

</p>
<p>
Создайте локацию "Комната". В описании пишем: "Вы стоите в центре комнаты, заполненной грудами ненужного хлама. У дальней стены вы видите дверь."

</p>
<p>
Создайте действие "Подойти к двери" с переходом на локацию "Дверь".

</p>
<p>
Теперь сделаем взятие предмета. Предмет можно взять только один раз, поэтому используем третий способ из предыдущего урока. Пишем в коде локации:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;Ключ&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">0</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;<span class="Monokai-String">'На&nbsp;полу&nbsp;вы&nbsp;видите&nbsp;небольшой&nbsp;ключ.'</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">ACT</span>&nbsp;<span class="Monokai-String">'Взять&nbsp;ключ'</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;Ключ&nbsp;<span class="Monokai-Operator">=</span>&nbsp;<span class="Monokai-Numeric">1</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">ADDOBJ</span>&nbsp;<span class="Monokai-String">'Ключ'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">PL</span>&nbsp;<span class="Monokai-String">'Вы&nbsp;взяли&nbsp;ключ.'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-Func">$CURLOC</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">END</span><br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Обратите внимание, что строка "На полу вы видите небольшой ключ." находится внутри условия. Благодаря этому, она будет на экране до тех пор, пока игрок не возьмет ключ.

</p>
<p>
Также обратите внимание на строку

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">PL</span>&nbsp;<span class="Monokai-String">'Вы&nbsp;взяли&nbsp;ключ.'</span><br>


</div>
<p>
PL - оператор вывода текста в окно дополнительного описания. При переходах между локациями дополнительное описание не очищается, поэтому в него удобно записывать результаты совершенных действий.

</p>
<p>
<span class="em_BLCK">Локация "Дверь"</span>

</p>
<p>
Создайте локацию "Дверь". В описании пишем: "Дверь заперта."

</p>
<p>
Создайте действие "Отойти от двери" с переходом на локацию "Комната".

</p>
<p>
Сделаем применение предмета. Пишем в коде локации:

</p>
<div class="Monokai-Code">
<span class="Monokai-Koperator">IF</span>&nbsp;<span class="Monokai-Func">OBJ</span>&nbsp;<span class="Monokai-String">'Ключ'</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">ACT</span>&nbsp;<span class="Monokai-String">'Открыть&nbsp;дверь&nbsp;ключом'</span><span class="Monokai-Operator">:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">DELOBJ</span>&nbsp;<span class="Monokai-String">'Ключ'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Monokai-Operator">GOTO</span>&nbsp;<span class="Monokai-String">'Победа'</span><br>
&nbsp;&nbsp;<span class="Monokai-Koperator">END</span><br>
<span class="Monokai-Koperator">END</span><br>


</div>
<p>
Рассмотрим подробно. Условие "OBJ 'Ключ'" определяет, находится ли предмет "Ключ" в инвентаре. Действие "Открыть дверь ключом" будет доступно тогда, когда предмет "Ключ" находится в инвентаре.

</p>
<p>
Обратите внимание на строку

</p>
<div class="Monokai-Code">
<span class="Monokai-Operator">DELOBJ</span>&nbsp;<span class="Monokai-String">'Ключ'</span><br>


</div>
<p>
После того, как мы открыли дверь, ключ нам больше не нужен, поэтому мы удаляем его из инвентаря.

</p>
<p>
<span class="em_BLCK">Локация "Победа"</span>

</p>
<p>
Создайте локацию "Победа" с описанием "Вы выбрались из комнаты."

</p>
<p>
Игра готова.

</p>
<p>
<img src="https://i.ibb.co/RPxDthj/tut7-01.png" class="em_IMG">

</p>
<p>
Итог: в этом уроке мы научились применять предметы в игре.

</p>
<p>
<span class="em_BLCK">Теперь вы овладели всеми основными приемами разработки игр на QSP, и уже можете начинать писать свои игры.</span>

</p>
<p>
[%hr%]

</p>
<p>
АВТОР: NEX   

</p>
<p>
27.02.2009 10:41
</p>
<div style="display:flex;justify-content:space-between;"><div><a href="https://aleksversus.github.io/howdo_faq/informarch/nash_put__0003.html" class="emHREFTT">&lt; Назад, к странице 3</a></div><div><a href="https://aleksversus.github.io/howdo_faq/informarch/lokalizatsija_qsp_0005.html" class="emHREFTT">Вперёд, к странице 5 &gt;</a></div></div>
<!-- body end -->
            <div class="em_Epigraph">
                <div class="em_subText">
                    <p>Aleks Versus'HowDo-F.A.Q.'2021-<span id="date_stamp_faq">2022</span></p>
                    <p>Aleks Versus'Game Adventure Making'Really Unimaginable Stories'2013-<span id="date_stamp_gamrus">2022</span></p>
                </div>
            </div>
            <div class="em_btn">
                <div>
                    <a href="https://aleksversus.github.io/howdo_faq/" class="emHREFTT">Главная</a>
                </div>
                <div>
                    <a href="#" class="emHREFTT" id="section_content_open">Содержание</a>
                </div>
            </div>
        </div>
        <div class="stub">
            &nbsp;
        </div>
    </div>
    <div id="soderzhanije_outer">
        <div class="soderzhanije">
<a id="soderzhanije"></a><h2>Содержание</h2>
<ul>
<li>

</li>
</ul>
        </div>
    </div>
    <script type="text/javascript" src="../res/js/text_replace.js"></script>
    <script type="text/javascript" src="../res/js/soderzhanie.js" ></script>
</body>
</html>
